angular.module("utsHelps.directives",[]).directive("uhActivityDetails",function(){return{templateUrl:"directives/activity-details/activity-details.html",restrict:"E",scope:{activityDetails:"=activityDetails",expand:"=expand",workshopClickHandler:"=workshopClickHandler"}}}).directive("uhErrorBox",function(){return{templateUrl:"directives/uh-error-box/uh-error-box.html",restrict:"E",scope:{errorMsg:"=errorMessage"}}}).directive("stopEvent",function(){return{restrict:"A",link:function(e,t,n){t.bind("click",function(e){e.stopPropagation()})}}}).directive("truncateText",function(){return{restrict:"A",link:function(e,t,n){function o(e,t,n){var o=t.length>e,i=o?t.substr(0,e-1):t;return i=n&&o?i.substr(0,i.lastIndexOf(" ")):i}var i=t.context.innerText;t.context.innerText=o(n.truncateText,i,!0),t.append('<a class="more-text" ng-click="expand();"> more...</a>'),t.on("click",function(){t.context.innerText=$interpolate(i)})}}}).directive("loginDialog",function(e){return{restrict:"A",template:'<div ng-if="visible" ng-include="\'login-form.html\'">',link:function(t){var n=function(){t.visible=!0};t.visible=!1,t.$on(e.notAuthenticated,n),t.$on(e.sessionTimeout,n)}}}).directive("uhConfirmDenyModal",["$parse",function(e){return{restrict:"E",transclude:!0,templateUrl:"directives/uh-confirm-deny-modal/uh-confirm-deny-modal.html",link:function(t,n,o){var i=e(o.callback),r=function(e){i(t,{isConfirmed:e})},s=function(){n.find("div").foundation("reveal","open")},a=function(){n.find("div").foundation("reveal","close")};t.$on("SHOW_CONFIRM_DENY",s);var u=function(){a(),console.log("Modal hidden!"),r(!1)},c=function(){a(),r(!0)};$(n).find(".cancel").on("click",function(){console.log("Modal declined"),u()}),$(n).find(".confirm").on("click",function(){console.log("Modal accepted"),c()})}}}]),angular.module("utsHelps",["ngRoute","utsHelps.auths","utsHelps.example","utsHelps.login","helpsRestfulServices","utsHelps.example","utsHelps.UpcomingActivities","angular.filter","ngAnimate","angular-loading-bar","utsHelps.constants","angular-alert-banner","utsHelps.UserMessagingService"]).config(["$routeProvider","cfpLoadingBarProvider","$httpProvider",function(e,t,n){e.otherwise({redirectTo:"/example"}),t.includeSpinner=!1,n.interceptors.push(["$injector",function(e){return e.get("AuthInterceptor")}])}]).config(["$provide",function(e){e.decorator("$exceptionHandler",["$delegate",function(e){return function(t,n){throw e(t,n),t}}])}]).run(["$rootScope","AUTH_EVENTS","AuthService","$location",function(e,t,n,o){console.log("Angular initialised!"),$(document).ready(function(){$(document).foundation({offcanvas:{close_on_click:!0}})}),$(document).on("open.fndtn.offcanvas","[data-offcanvas]",function(){$(this);$("#loading-bar").addClass("hide"),$("#loading-bar-spinner").addClass("hide")}),$(document).on("close.fndtn.offcanvas","[data-offcanvas]",function(){$(this);$("#loading-bar").removeClass("hide"),$("#loading-bar-spinner").addClass("hide")}),e.$on("$locationChangeStart",function(e,t,i){n.isAuthenticated()||"views/loginView.html"!=t.templateUrl&&o.path("/login")}),e.$on(t.loginSuccess,function(e){o.path("/example")}),e.$on(t.logoutSuccess,function(e){o.path("/login")})}]).controller("ApplicationController",["$scope","USER_ROLES","AuthService","ERR_BROADCASTS","AUTH_EVENTS","$rootScope","UserMessagingService",function(e,t,n,o,i,r,s){e.globals={pageTitle:"UTS HELPS"},e.err_message="",e.triggerCloseModal=function(){$("#uh-error-modal").foundation("reveal","close")},e.currentUser=null,e.userRoles=t,e.isAuthorized=n.isAuthorized,e.setCurrentUser=function(t){e.currentUser=t},e.logout=function(){n.logoutFake().then(function(){e.currentUser=null,r.$broadcast(i.logoutSuccess)},function(e){r.$broadcast(o.API_ERROR,e)})},e.isLoginPage=!0}]),angular.module("helpsRestfulServices",["utsHelps.constants","helpsModelsServices"]).config(["$sceDelegateProvider","helps_endpoint_constants",function(e,t){e.resourceUrlWhitelist(["self",t.ENDPOINT_URI+"/**"])}]).service("ApiMethods",["$http","helps_endpoint_constants","ERR_BROADCASTS","$rootScope","$q",function(e,t,n,o,i){this.createConfigObject=function(){var e={headers:{AppKey:t.APP_KEY}};return e},this.getResource=function(n,o){var i=this.createConfigObject();return i.params=o,e.get(t.ENDPOINT_URI+n,i)},this.getResourceFaked=function(e,n){var o;return e===t.ACTIVITIES_URI+t.SEARCH_URI?o={Results:[{WorkshopId:11,topic:"Planning and researching for an assignment",description:"“I have an assignment due soon, but I don’t know where and how to begin.",targetingGroup:"all students",campus:"CB02.05.32",StartDate:"2012-07-07T17:00:00",EndDate:"2012-07-07T18:00:00",maximum:45,WorkShopSetID:4,cutoff:null,type:"single",reminder_num:9999,reminder_sent:0,DaysOfWeek:null,BookingCount:44,archived:null},{WorkshopId:12,topic:"Planning and researching for an assignment",description:"“I have an assignment due soon, but I don’t know where and how to begin.",targetingGroup:"all students",campus:"CB02.05.32",StartDate:"2012-08-07T17:00:00",EndDate:"2012-08-07T18:00:00",maximum:45,WorkShopSetID:4,cutoff:null,type:"single",reminder_num:9999,reminder_sent:0,DaysOfWeek:null,BookingCount:44,archived:null},{WorkshopId:14,topic:"Planning and researching for an assignment",description:"“I have an assignment due soon, but I don’t know where and how to begin.",targetingGroup:"all students",campus:"CB02.05.32",StartDate:"2012-08-07T17:00:00",EndDate:"2012-08-07T18:00:00",maximum:45,WorkShopSetID:4,cutoff:null,type:"single",reminder_num:9999,reminder_sent:0,DaysOfWeek:null,BookingCount:45,archived:null},{WorkshopId:16,topic:"U:PASSwrite for 21129 Managing People & Organisations",description:"This workshop will empower you to write excellent essays and provide valuable support for the upcoming assignment.",targetingGroup:"all students",campus:"CB02.05.32",StartDate:"2012-09-07T17:00:00",EndDate:"2012-09-07T18:00:00",maximum:45,WorkShopSetID:5,cutoff:null,type:"single",reminder_num:9999,reminder_sent:0,DaysOfWeek:null,BookingCount:44,archived:null},{WorkshopId:16,topic:"U:PASSwrite for 21129 Managing People & Organisations",description:"This workshop will empower you to write excellent essays and provide valuable support for the upcoming assignment.",targetingGroup:"all students",campus:"CB02.05.32",StartDate:"2012-09-07T17:00:00",EndDate:"2012-09-07T18:00:00",maximum:45,WorkShopSetID:9,cutoff:null,type:"single",reminder_num:9999,reminder_sent:0,DaysOfWeek:null,BookingCount:44,archived:null},{WorkshopId:16,topic:"U:PASSwrite for 21129 Managing People & Organisations",description:"This workshop will empower you to write excellent essays and provide valuable support for the upcoming assignment.",targetingGroup:"all students",campus:"CB02.05.32",StartDate:"2012-09-07T17:00:00",EndDate:"2012-09-07T18:00:00",maximum:45,WorkShopSetID:10,cutoff:null,type:"single",reminder_num:9999,reminder_sent:0,DaysOfWeek:null,BookingCount:44,archived:null},{WorkshopId:16,topic:"U:PASSwrite for 21129 Managing People & Organisations",description:"This workshop will empower you to write excellent essays and provide valuable support for the upcoming assignment.",targetingGroup:"all students",campus:"CB02.05.32",StartDate:"2012-09-07T17:00:00",EndDate:"2012-09-07T18:00:00",maximum:45,WorkShopSetID:15,cutoff:null,type:"single",reminder_num:9999,reminder_sent:0,DaysOfWeek:null,BookingCount:44,archived:null}],IsSuccess:!0,DisplayMessage:null}:e!==t.BOOK_SESSION_URI||1!==n.WorkshopId&&11!==n.workshopId?e===t.BOOK_SESSION_URI?o={IsSuccess:!0,DisplayMessage:""}:(console.log("Resource not faked"),o=null):o={IsSuccess:!1,DisplayMessage:"Error encountered whilst trying to create your booking. Please try again and if issues persist contact UTS HELPS."},i(function(e,t){setTimeout(function(){o?e({data:o}):t({data:o})},1e3)})},this.transformParams=function(e){try{return void 0===e?e:$.param(e)}catch(t){return e}},this.postResource=function(n,o){var i=this.createConfigObject();return i.params=o,e.post(t.ENDPOINT_URI+n,i)},this.postResourceWithParamsInUri=function(n,o){var i=this.createConfigObject(),r=this.transformParams(o);return e({url:t.ENDPOINT_URI+n+"?"+r,method:"POST",headers:i.headers})}}]).service("UpcomingActivitiesModel",["$http","helps_endpoint_constants","ERR_BROADCASTS","$rootScope","ApiMethods","WorkshopBooking","AlertBanner",function(e,t,n,o,i,r,s){var a=this,u=1,c=15;this.getActivities=function(e){return i.getResource(t.ACTIVITIES_URI+t.SEARCH_URI,e)},this.mergeActivities=function(e,t){if(e.IsSuccess){if(!t)var t={};for(var i=0;i<e.Results.length;i++)t.hasOwnProperty(e.Results[i].WorkShopSetID)?t[e.Results[i].WorkShopSetID].workshops.push(e.Results[i]):t[e.Results[i].WorkShopSetID]={description:e.Results[i].description,topic:e.Results[i].topic,workshops:[e.Results[i]]};return t}return console.log("Failed to correctly load data."),o.$broadcast(n.API_ERROR,e.DisplayMessage),{}},this.getMoreActivities=function(){u++,this.getActivities({Page:u,PageSize:c}).then(function(e){console.log(e),a.activities=a.mergeActivities(e.data,a.activities)})},this.onCreate=function(){this.getActivities({Page:u,PageSize:c}).then(function(e){console.log(e),a.activities=a.mergeActivities(e.data,a.activities)})},this.bookWorkshop=function(e,s){var a=r.create(null,e,s,null,s,null);return i.postResourceWithParamsInUri(t.BOOK_SESSION_URI,a).then(function(e){return e.data.IsSuccess?!0:(o.$broadcast(n.API_ERROR,e.data.DisplayMessage),!1)},function(e){o.$broadcast(n.API_ERROR,"Error encountered whilst trying to create your booking. Please try again and if issues persist contact UTS HELPS.")})},this.onCreate()}]).service("Session",[function(){this.create=function(e,t,n,o){this.id=e,this.userId=t,this.username=n,this.userRole=o},this.destroy=function(){this.id=null,this.userId=null,this.username=null,this.userRole=null}}]),angular.module("helpsModelsServices",[]).factory("User",function(){var e={};return e.create=function(e,t,n,o){return{userId:e,studentId:t,name:n,password:o}},e}).factory("Student",function(){var e={};return e.create=function(e,t,n,o,i,r,s,a,u,c,l,d,p,g,f,h,m,v,S,I,k,A,y,R,E,T,w){return{studentId:e,creatorId:t,dob:n,gender:o,degree:i,status:r,firstLanguage:s,countryOfOrigin:a,background:u,degreeDetails:c,altContact:l,HSC:d,HSCMarks:p,IELTS:g,IELTSMarks:f,TOELF:h,TOELFMarks:m,TAFE:v,TAFEMarks:S,CULT:I,CULTMarks:k,insearchDEEP:A,insearchDEEPMarks:y,insearchDiploma:R,insearchDiplomaMarks:E,foundationCourse:T,foundationCourseMarks:w}},e}).factory("Campus",function(){var e={};return e.create=function(e,t,n){return{campusId:e,campusInfo:t,archived:n}},e}).factory("Workshop",function(){var e={};return e.create=function(e,t,n,o,i,r,s,a,u,c,l,d,p,g,f,h){return{workshopId:e,workshopSetId:t,campusId:n,topic:o,startDate:i,endDate:r,description:s,targetingGroup:a,maximum:u,cutoff:c,type:l,reminderNum:d,reminderSent:p,daysOfWeek:g,bookingCount:f,archived:h}},e}).factory("WorkshopSet",function(){var e={};return e.create=function(e,t,n,o){return{workshopSetId:e,campusId:t,name:n,archived:o}},e}).factory("WorkshopWaiting",function(){var e={};return e.create=function(e,t,n,o){return{workshopWaitingId:e,workshopId:t,studentId:n,userId:o}},e}).factory("WorkshopBooking",function(){var e={};return e.create=function(e,t,n,o,i,r){return{workshopBookingId:e,workshopId:t,studentId:n,workshopSetId:o,userId:i,isActive:r}},e}).factory("Session",function(){var e={};return e.create=function(e,t,n,o,i,r,s){return{sessionId:e,sessionTypeId:t,campusId:n,lecturerId:o,startDate:i,endDate:r,isActive:s}},e}).factory("SessionType",function(){var e={};return e.create=function(e,t,n,o,i){return{sessionTypeId:e,abbName:t,fullName:n,isCurrent:o,isActive:i}},e}).factory("SessionBooking",function(){var e={};return e.create=function(e,t,n,o,i,r,s,a,u,c,l,d,p,g,f,h,m,v,S,I,k){return{sessionId:e,bookingId:t,studentId:n,userId:o,isCanceled:i,assistance:r,reason:s,attended:a,waitingId:u,isGroup:c,numPeople:l,lecturerComment:d,learningIssuesId:p,isLocked:g,assignType:f,assignTypeOther:h,subject:m,appointments:v,appointmentsOther:S,assistanceText:I,archived:k}},e}).factory("Waiting",function(){var e={};return e.create=function(e,t,n,o){return{waitingId:e,studentId:t,bookingId:n,waitingList:o}},e}).factory("WaitingList",function(){var e={};return e.create=function(e,t,n){return{waitingListId:e,workshopId:t,numberInList:n}},e}).factory("Notification",function(){var e={};return e.create=function(e,t,n,o,i,r){return{notificationId:e,studentId:t,workshopId:n,notifyTime:o,hoursAhead:i,notificationTypeId:r}},e}).factory("NotificationType",function(){var e={};return e.create=function(e,t,n){return{notificationTypeId:e,abbName:t,fullName:n}},e}),angular.module("utsHelps.auths",["ngRoute","helpsRestfulServices","utsHelps.constants"]).factory("AuthService",["$http","Session","$q",function(e,t,n){var o={};return o.loginFake=function(e){return n(function(n,o){setTimeout(function(){"mbusby"===e.username?o("User is unauthenticated"):(t.create("1",11899859,e.username,"User"),n(e.username))},1e3)})},o.login=function(n){return e.post("/",n).then(function(e){return t.create(e.data.id,e.data.user.id,e.data.user.role),e.data.user})},o.isAuthenticated=function(){return!!t.userId},o.isAuthorized=function(e){return angular.isArray(e)||(e=[e]),o.isAuthenticated()&&-1!==e.indexOf(t.userRole)},o.logout=function(){t.destroy()},o.logoutFake=function(){return t.destroy(),n(function(e,t){setTimeout(function(){return e()})})},o}]).factory("AuthInterceptor",["$rootScope","$q","AUTH_EVENTS",function(e,t,n){return{responseError:function(o){return e.$broadcast({401:n.notAuthenticated,403:n.notAuthorized,419:n.sessionTimeout,440:n.sessionTimeout}[o.status],o),t.reject(o)}}}]),angular.module("utsHelps.example",["ngRoute"]).config(["$routeProvider",function(e){e.when("/example",{templateUrl:"views/exampleView.html",controller:"exampleCtrl"})}]).controller("exampleCtrl",["$scope","AlertBanner",function(e,t){e.globals.pageTitle="Example View"}]),angular.module("utsHelps.login",["ngRoute"]).config(["$routeProvider",function(e){e.when("/login",{templateUrl:"views/loginView.html",controller:"loginCtrl"})}]).controller("loginCtrl",["$scope","$rootScope","AUTH_EVENTS","AuthService",function(e,t,n,o){e.credentials={username:"",password:""},e.loginFailed=!1,e.login=function(i){o.loginFake(i).then(function(o){t.$broadcast(n.loginSuccess),e.setCurrentUser(o)},function(o){e.loginFailed=!0,t.$broadcast(n.loginFailed)})}}]),angular.module("utsHelps.UpcomingActivities",["utsHelps.directives","helpsRestfulServices","ngRoute","infinite-scroll"]).config(["$routeProvider",function(e){e.when("/upcomingActivities",{templateUrl:"views/upcomingActivitiesView.html",controller:"UpcomingActivitiesCtrl"})}]).controller("UpcomingActivitiesCtrl",["$scope","UpcomingActivitiesModel","Session","AlertBanner",function(e,t,n,o){e.globals.pageTitle="Upcoming Activities",e.UpcomingActivitiesModel=t,e.selectedWorkshop=null,e.clickedOnAnActivity=function(t){var n=JSON.stringify(t);for(var o in e.UpcomingActivitiesModel.activities)n===JSON.stringify(e.UpcomingActivitiesModel.activities[o])?t.isExpanded=!t.isExpanded:e.UpcomingActivitiesModel.activities[o].isExpanded=!1},e.onViewMore=function(){e.UpcomingActivitiesModel.getMoreActivities()},e.bookWorkshop=function(t){e.selectedWorkshop=t,e.$broadcast("SHOW_CONFIRM_DENY")},e.confirmWorkshop=function(i){i&&t.bookWorkshop(e.selectedWorkshop.WorkshopId,n.userId).then(function(e){e&&o.publish({type:"success",message:"Successfully made a booking.",timeCollapse:3e3})}),e.selectedWorkshop=null}}]),angular.module("utsHelps.UserMessagingService",["utsHelps.constants","angular-alert-banner"]).service("UserMessagingService",["AlertBanner","$rootScope","ERR_BROADCASTS","ErrorRegistry",function(e,t,n,o){var i=this;this.errorAlertBanner=function(t){e.publish({type:"error",message:t,timeCollapse:3e3})},t.$on(n.API_ERROR,function(e,t){console.log("ALERT BANNER SHOULD HAVE FIRED");var n=o.retrieveFriendlyError(t);i.errorAlertBanner(n)})}]).service("ErrorRegistry",[function(){this.errorDictionary={"Error encountered whilst trying to create your booking. Please try again and if issues persist contact UTS HELPS.":"Couldn't create booking.","Error creating workshop booking: Booking already exists.":"Booking already exists."},this.retrieveFriendlyError=function(e){return e in this.errorDictionary?this.errorDictionary[e]:"Unknown error. Contact UTS ITD."}}]),angular.module("utsHelps.constants",[]).constant("ERR_BROADCASTS",{API_ERROR:"API_ERROR"}).constant("AUTH_EVENTS",{loginSuccess:"auth-login-sucess",loginFailed:"auth-login-failed",logoutSuccess:"auth-logout-success",sessionTimeout:"auth-session-timeout",notAuthenticated:"auth-not-authenticated",notAuthorized:"auth-not-authorized"}).constant("USER_ROLES",{all:"*",admin:"admin",editor:"editor",guest:"guest",user:"user"}).constant("helps_endpoint_constants",{ENDPOINT_URI:"http://helpshere.cloudapp.net/api",port:"80",APP_KEY:"123456",ACTIVITIES_URI:"/workshop",SEARCH_URI:"/search",BOOK_SESSION_URI:"/workshop/booking/create"});
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImRpcmVjdGl2ZXMvZGlyZWN0aXZlcy5qcyIsImFwcC5qcyIsInNlcnZpY2VzL2hlbHBzUmVzdGZ1bFNlcnZpY2VzLmpzIiwic2VydmljZXMvaGVscHNNb2RlbFNlcnZpY2VzLmpzIiwiZmFjdG9yaWVzL2F1dGhlbnRpY2F0aW9uRmFjdG9yaWVzLmpzIiwiY29udHJvbGxlcnMvRXhhbXBsZUNvbnRyb2xsZXIvRXhhbXBsZUNvbnRyb2xsZXIuanMiLCJjb250cm9sbGVycy9Mb2dpbkNvbnRyb2xsZXIvTG9naW5Db250cm9sbGVyLmpzIiwiY29udHJvbGxlcnMvVXBjb21pbmdBY3Rpdml0aWVzQ29udHJvbGxlci9VcGNvbWluZ0FjdGl2aXRpZXNDb250cm9sbGVyLmpzIiwic2VydmljZXMvbWVzc2FnaW5nU2VydmljZS5qcyIsImNvbnN0YW50cy5qcyJdLCJuYW1lcyI6WyJhbmd1bGFyIiwibW9kdWxlIiwiZGlyZWN0aXZlIiwidGVtcGxhdGVVcmwiLCJyZXN0cmljdCIsInNjb3BlIiwiYWN0aXZpdHlEZXRhaWxzIiwiZXhwYW5kIiwid29ya3Nob3BDbGlja0hhbmRsZXIiLCJlcnJvck1zZyIsImxpbmsiLCJlbGVtZW50IiwiYXR0ciIsImJpbmQiLCJlIiwic3RvcFByb3BhZ2F0aW9uIiwiZWxlbSIsImF0dHJzIiwidHJ1bmMiLCJuIiwidGV4dCIsInVzZVdvcmRCb3VuZGFyeSIsInRvTG9uZyIsImxlbmd0aCIsInNfIiwic3Vic3RyIiwibGFzdEluZGV4T2YiLCJjb250ZXh0IiwiaW5uZXJUZXh0IiwidHJ1bmNhdGVUZXh0IiwiYXBwZW5kIiwib24iLCIkaW50ZXJwb2xhdGUiLCJBVVRIX0VWRU5UUyIsInRlbXBsYXRlIiwic2hvd0RpYWxvZyIsInZpc2libGUiLCIkb24iLCJub3RBdXRoZW50aWNhdGVkIiwic2Vzc2lvblRpbWVvdXQiLCIkcGFyc2UiLCJ0cmFuc2NsdWRlIiwiY2FsbGJhY2tGdW5jdGlvbiIsImNhbGxiYWNrIiwiZGVjaXNpb24iLCJpc0NvbmZpcm1lZCIsInNob3dNb2RhbCIsImZpbmQiLCJmb3VuZGF0aW9uIiwiaGlkZU1vZGFsIiwiZGVueU1vZGFsIiwiY29uc29sZSIsImxvZyIsImNvbmZpcm1Nb2RhbCIsIiQiLCJjb25maWciLCIkcm91dGVQcm92aWRlciIsImNmcExvYWRpbmdCYXJQcm92aWRlciIsIiRodHRwUHJvdmlkZXIiLCJvdGhlcndpc2UiLCJyZWRpcmVjdFRvIiwiaW5jbHVkZVNwaW5uZXIiLCJpbnRlcmNlcHRvcnMiLCJwdXNoIiwiJGluamVjdG9yIiwiZ2V0IiwiJHByb3ZpZGUiLCJkZWNvcmF0b3IiLCIkZGVsZWdhdGUiLCJleGNlcHRpb24iLCJjYXVzZSIsInJ1biIsIiRyb290U2NvcGUiLCJBdXRoU2VydmljZSIsIiRsb2NhdGlvbiIsImRvY3VtZW50IiwicmVhZHkiLCJvZmZjYW52YXMiLCJjbG9zZV9vbl9jbGljayIsInRoaXMiLCJhZGRDbGFzcyIsInJlbW92ZUNsYXNzIiwiZXZlbnQiLCJuZXh0IiwiY3VycmVudCIsImlzQXV0aGVudGljYXRlZCIsInBhdGgiLCJsb2dpblN1Y2Nlc3MiLCJsb2dvdXRTdWNjZXNzIiwiY29udHJvbGxlciIsIiRzY29wZSIsIlVTRVJfUk9MRVMiLCJFUlJfQlJPQURDQVNUUyIsIlVzZXJNZXNzYWdpbmdTZXJ2aWNlIiwiZ2xvYmFscyIsInBhZ2VUaXRsZSIsImVycl9tZXNzYWdlIiwidHJpZ2dlckNsb3NlTW9kYWwiLCJjdXJyZW50VXNlciIsInVzZXJSb2xlcyIsImlzQXV0aG9yaXplZCIsInNldEN1cnJlbnRVc2VyIiwidXNlciIsImxvZ291dCIsImxvZ291dEZha2UiLCJ0aGVuIiwiJGJyb2FkY2FzdCIsImVyciIsIkFQSV9FUlJPUiIsImlzTG9naW5QYWdlIiwiJHNjZURlbGVnYXRlUHJvdmlkZXIiLCJoZWxwc19lbmRwb2ludF9jb25zdGFudHMiLCJyZXNvdXJjZVVybFdoaXRlbGlzdCIsIkVORFBPSU5UX1VSSSIsInNlcnZpY2UiLCIkaHR0cCIsImVuZHBvaW50X2NvbnN0YW50cyIsIiRxIiwiY3JlYXRlQ29uZmlnT2JqZWN0IiwiY29uZmlnT2JqZWN0IiwiaGVhZGVycyIsIkFwcEtleSIsIkFQUF9LRVkiLCJnZXRSZXNvdXJjZSIsInJlc291cmNlVXJpIiwicGFyYW1zIiwiZ2V0UmVzb3VyY2VGYWtlZCIsImRhdGEiLCJBQ1RJVklUSUVTX1VSSSIsIlNFQVJDSF9VUkkiLCJSZXN1bHRzIiwiV29ya3Nob3BJZCIsInRvcGljIiwiZGVzY3JpcHRpb24iLCJ0YXJnZXRpbmdHcm91cCIsImNhbXB1cyIsIlN0YXJ0RGF0ZSIsIkVuZERhdGUiLCJtYXhpbXVtIiwiV29ya1Nob3BTZXRJRCIsImN1dG9mZiIsInR5cGUiLCJyZW1pbmRlcl9udW0iLCJyZW1pbmRlcl9zZW50IiwiRGF5c09mV2VlayIsIkJvb2tpbmdDb3VudCIsImFyY2hpdmVkIiwiSXNTdWNjZXNzIiwiRGlzcGxheU1lc3NhZ2UiLCJCT09LX1NFU1NJT05fVVJJIiwid29ya3Nob3BJZCIsInJlc29sdmUiLCJyZWplY3QiLCJzZXRUaW1lb3V0IiwidHJhbnNmb3JtUGFyYW1zIiwidW5kZWZpbmVkIiwicGFyYW0iLCJwb3N0UmVzb3VyY2UiLCJwb3N0IiwicG9zdFJlc291cmNlV2l0aFBhcmFtc0luVXJpIiwidXJpVHJhbnNmb3JtIiwidXJsIiwibWV0aG9kIiwiQXBpTWV0aG9kcyIsIldvcmtzaG9wQm9va2luZyIsIkFsZXJ0QmFubmVyIiwicGFnZU51bWJlciIsInBhZ2VTaXplIiwiZ2V0QWN0aXZpdGllcyIsIm1lcmdlQWN0aXZpdGllcyIsIm5ld0RhdGFUb01lcmdlIiwiZXhpc3RpbmdEYXRhIiwiaSIsImhhc093blByb3BlcnR5Iiwid29ya3Nob3BzIiwiZ2V0TW9yZUFjdGl2aXRpZXMiLCJQYWdlIiwiUGFnZVNpemUiLCJyZXN1bHQiLCJhY3Rpdml0aWVzIiwib25DcmVhdGUiLCJib29rV29ya3Nob3AiLCJzdHVkZW50SWQiLCJ3b3Jrc2hvcEJvb2tpbmciLCJjcmVhdGUiLCJyZXNwb25zZSIsImVycm9yIiwic2Vzc2lvbklkIiwidXNlcklkIiwidXNlcm5hbWUiLCJ1c2VyUm9sZSIsImlkIiwiZGVzdHJveSIsImZhY3RvcnkiLCJuYW1lIiwicGFzc3dvcmQiLCJzdHVkZW50IiwiY3JlYXRvcklkIiwiZG9iIiwiZ2VuZGVyIiwiZGVncmVlIiwic3RhdHVzIiwiZmlyc3RMYW5ndWFnZSIsImNvdW50cnlPZk9yaWdpbiIsImJhY2tncm91bmQiLCJkZWdyZWVEZXRhaWxzIiwiYWx0Q29udGFjdCIsIkhTQyIsIkhTQ01hcmtzIiwiSUVMVFMiLCJJRUxUU01hcmtzIiwiVE9FTEYiLCJUT0VMRk1hcmtzIiwiVEFGRSIsIlRBRkVNYXJrcyIsIkNVTFQiLCJDVUxUTWFya3MiLCJpbnNlYXJjaERFRVAiLCJpbnNlYXJjaERFRVBNYXJrcyIsImluc2VhcmNoRGlwbG9tYSIsImluc2VhcmNoRGlwbG9tYU1hcmtzIiwiZm91bmRhdGlvbkNvdXJzZSIsImZvdW5kYXRpb25Db3Vyc2VNYXJrcyIsImNhbXB1c0lkIiwiY2FtcHVzSW5mbyIsIndvcmtzaG9wIiwid29ya3Nob3BTZXRJZCIsInN0YXJ0RGF0ZSIsImVuZERhdGUiLCJyZW1pbmRlck51bSIsInJlbWluZGVyU2VudCIsImRheXNPZldlZWsiLCJib29raW5nQ291bnQiLCJ3b3Jrc2hvcFNldCIsIndvcmtzaG9wV2FpdGluZyIsIndvcmtzaG9wV2FpdGluZ0lkIiwid29ya3Nob3BCb29raW5nSWQiLCJpc0FjdGl2ZSIsInNlc3Npb24iLCJzZXNzaW9uVHlwZUlkIiwibGVjdHVyZXJJZCIsImFiYk5hbWUiLCJmdWxsTmFtZSIsImlzQ3VycmVudCIsInNlc3Npb25Cb29raW5nIiwiYm9va2luZ0lkIiwiaXNDYW5jZWxlZCIsImFzc2lzdGFuY2UiLCJyZWFzb24iLCJhdHRlbmRlZCIsIndhaXRpbmdJZCIsImlzR3JvdXAiLCJudW1QZW9wbGUiLCJsZWN0dXJlckNvbW1lbnQiLCJsZWFybmluZ0lzc3Vlc0lkIiwiaXNMb2NrZWQiLCJhc3NpZ25UeXBlIiwiYXNzaWduVHlwZU90aGVyIiwic3ViamVjdCIsImFwcG9pbnRtZW50cyIsImFwcG9pbnRtZW50c090aGVyIiwiYXNzaXN0YW5jZVRleHQiLCJ3YWl0Iiwid2FpdGluZ0xpc3RJZCIsIndhaXRpbmdMaXN0IiwibnVtYmVySW5MaXN0Iiwibm90aWZpY2F0aW9uIiwibm90aWZpY2F0aW9uSWQiLCJub3RpZnlUaW1lIiwiaG91cnNBaGVhZCIsIm5vdGlmaWNhdGlvblR5cGVJZCIsIm5vdGlmaWNhdGlvblR5cGUiLCJTZXNzaW9uIiwiYXV0aFNlcnZpY2UiLCJsb2dpbkZha2UiLCJjcmVkZW50aWFscyIsImxvZ2luIiwicmVzIiwicm9sZSIsImF1dGhvcml6ZWRSb2xlcyIsImlzQXJyYXkiLCJpbmRleE9mIiwicmVzcG9uc2VFcnJvciIsNDAxLDQwMywibm90QXV0aG9yaXplZCIsNDE5LDQ0MCwid2hlbiIsImxvZ2luRmFpbGVkIiwiVXBjb21pbmdBY3Rpdml0aWVzTW9kZWwiLCJzZWxlY3RlZFdvcmtzaG9wIiwiY2xpY2tlZE9uQW5BY3Rpdml0eSIsImFjdGl2aXR5IiwiYWN0aXZpdHlBc1N0cmluZyIsIkpTT04iLCJzdHJpbmdpZnkiLCJpc0V4cGFuZGVkIiwib25WaWV3TW9yZSIsImNvbmZpcm1Xb3Jrc2hvcCIsImNvbmZpcm1hdGlvbiIsInN1Y2Nlc3MiLCJwdWJsaXNoIiwibWVzc2FnZSIsInRpbWVDb2xsYXBzZSIsIkVycm9yUmVnaXN0cnkiLCJlcnJvckFsZXJ0QmFubmVyIiwiZXJyX21zZyIsImZyaWVuZGx5RXJyb3IiLCJyZXRyaWV2ZUZyaWVuZGx5RXJyb3IiLCJlcnJvckRpY3Rpb25hcnkiLCJFcnJvciBlbmNvdW50ZXJlZCB3aGlsc3QgdHJ5aW5nIHRvIGNyZWF0ZSB5b3VyIGJvb2tpbmcuIFBsZWFzZSB0cnkgYWdhaW4gYW5kIGlmIGlzc3VlcyBwZXJzaXN0IGNvbnRhY3QgVVRTIEhFTFBTLiIsIkVycm9yIGNyZWF0aW5nIHdvcmtzaG9wIGJvb2tpbmc6IEJvb2tpbmcgYWxyZWFkeSBleGlzdHMuIiwiY29uc3Rh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LE9BQUEsYUFDQUMsVUFBQSxzQkFDQUMsUUFBQSxzQkFDQUMsUUFBQSxHQUNBQyxjQUFBLEVBQ0FDLE9BQUEsS0FDQUMsS0FBQSxTQUNBQyxhQUFBLEtBQ0FDLGNBQUEsRUFDQUMsV0FBQSxLQUNBQyxhQUFBLEdBQ0FDLFNBQUEsT0FFQWYsV0FBQSxHQUNBQyxNQUFBLHdEQUNBQyxZQUFBLHFIQUVBQyxlQUFBLGVBQ0FDLE9BQUEsYUFDQUMsVUFBQSxzQkFDQUMsUUFBQSxzQkFDQUMsUUFBQSxHQUNBQyxjQUFBLEVBQ0FDLE9BQUEsS0FDQUMsS0FBQSxTQUNBQyxhQUFBLEtBQ0FDLGNBQUEsRUFDQUMsV0FBQSxLQUNBQyxhQUFBLEdBQ0FDLFNBQUEsT0FHQWYsV0FBQSxHQUNBQyxNQUFBLHdEQUNBQyxZQUFBLHFIQUVBQyxlQUFBLGVBQ0FDLE9BQUEsYUFDQUMsVUFBQSxzQkFDQUMsUUFBQSxzQkFDQUMsUUFBQSxHQUNBQyxjQUFBLEVBQ0FDLE9BQUEsS0FDQUMsS0FBQSxTQUNBQyxhQUFBLEtBQ0FDLGNBQUEsRUFDQUMsV0FBQSxLQUNBQyxhQUFBLEdBQ0FDLFNBQUEsT0FHQWYsV0FBQSxHQUNBQyxNQUFBLHdEQUNBQyxZQUFBLHFIQUVBQyxlQUFBLGVBQ0FDLE9BQUEsYUFDQUMsVUFBQSxzQkFDQUMsUUFBQSxzQkFDQUMsUUFBQSxHQUNBQyxjQUFBLEdBQ0FDLE9BQUEsS0FDQUMsS0FBQSxTQUNBQyxhQUFBLEtBQ0FDLGNBQUEsRUFDQUMsV0FBQSxLQUNBQyxhQUFBLEdBQ0FDLFNBQUEsT0FHQWYsV0FBQSxHQUNBQyxNQUFBLHdEQUNBQyxZQUFBLHFIQUVBQyxlQUFBLGVBQ0FDLE9BQUEsYUFDQUMsVUFBQSxzQkFDQUMsUUFBQSxzQkFDQUMsUUFBQSxHQUNBQyxjQUFBLEdBQ0FDLE9BQUEsS0FDQUMsS0FBQSxTQUNBQyxhQUFBLEtBQ0FDLGNBQUEsRUFDQUMsV0FBQSxLQUNBQyxhQUFBLEdBQ0FDLFNBQUEsT0FHQUMsV0FBQSxFQUNBQyxlQUFBLE1BR0F4QixJQUFBUixFQUFBaUMsa0JBQUEsSUFB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ZSI6Im1haW4uanMiLCJzb3VyY2VzQ29udGVudCI6WyJhbmd1bGFyLm1vZHVsZSgndXRzSGVscHMuZGlyZWN0aXZlcycsIFtdKVxuLmRpcmVjdGl2ZSgndWhBY3Rpdml0eURldGFpbHMnLCBmdW5jdGlvbigpIHtcblx0cmV0dXJuIHtcblx0XHR0ZW1wbGF0ZVVybDogXCJkaXJlY3RpdmVzL2FjdGl2aXR5LWRldGFpbHMvYWN0aXZpdHktZGV0YWlscy5odG1sXCIsXG5cdFx0cmVzdHJpY3Q6ICdFJyxcblx0XHRzY29wZToge1xuXHRcdFx0YWN0aXZpdHlEZXRhaWxzOiAnPWFjdGl2aXR5RGV0YWlscycsXG5cdFx0XHRleHBhbmQ6ICc9ZXhwYW5kJyxcblx0XHRcdHdvcmtzaG9wQ2xpY2tIYW5kbGVyOiAnPXdvcmtzaG9wQ2xpY2tIYW5kbGVyJ1xuXHRcdH1cblx0fVxufSlcbi5kaXJlY3RpdmUoJ3VoRXJyb3JCb3gnLCBmdW5jdGlvbigpIHtcblx0cmV0dXJuIHtcblx0XHR0ZW1wbGF0ZVVybDogXCJkaXJlY3RpdmVzL3VoLWVycm9yLWJveC91aC1lcnJvci1ib3guaHRtbFwiLFxuXHRcdHJlc3RyaWN0OiAnRScsXG5cdFx0c2NvcGU6IHtcblx0XHRcdGVycm9yTXNnOiAnPWVycm9yTWVzc2FnZSdcblx0XHR9XG5cdH1cbn0pXG4uZGlyZWN0aXZlKCdzdG9wRXZlbnQnLCBmdW5jdGlvbiAoKSB7XG4gICAgcmV0dXJuIHtcbiAgICAgICAgcmVzdHJpY3Q6ICdBJyxcbiAgICAgICAgbGluazogZnVuY3Rpb24gKHNjb3BlLCBlbGVtZW50LCBhdHRyKSB7XG4gICAgICAgICAgICBlbGVtZW50LmJpbmQoJ2NsaWNrJywgZnVuY3Rpb24gKGUpIHtcbiAgICAgICAgICAgICAgICBlLnN0b3BQcm9wYWdhdGlvbigpO1xuICAgICAgICAgICAgfSk7XG4gICAgICAgIH1cbiAgICB9O1xuIH0pXG4uZGlyZWN0aXZlKCd0cnVuY2F0ZVRleHQnLCBmdW5jdGlvbigpIHtcblx0Ly8gRGlyZWN0aXZlIHRha2VuIGZyb20gaHR0cDovL3d3dy5uZ3JvdXRlcy5jb20vcXVlc3Rpb25zLzFiMTc0OWQvYW5ndWxhcmpzLWNyZWF0ZS1tb3JlLXRhZy1hZnRlci14LW51bWJlcnMtb2YtY2hhcmFjdGVycy5odG1sXG5cdHJldHVybiB7XG5cdFx0cmVzdHJpY3Q6ICdBJyxcblx0XHRsaW5rOiBmdW5jdGlvbihzY29wZSwgZWxlbSwgYXR0cnMpIHtcblx0XHRcdHZhciB0ZXh0ID0gZWxlbS5jb250ZXh0LmlubmVyVGV4dDtcblx0XHRcdGVsZW0uY29udGV4dC5pbm5lclRleHQgPSB0cnVuYyhhdHRycy50cnVuY2F0ZVRleHQsIHRleHQsIHRydWUpO1xuXHRcdFx0ZWxlbS5hcHBlbmQoJzxhIGNsYXNzPVwibW9yZS10ZXh0XCIgbmctY2xpY2s9XCJleHBhbmQoKTtcIj4gbW9yZS4uLjwvYT4nKTtcblx0XHRcdGVsZW0ub24oJ2NsaWNrJywgZnVuY3Rpb24oKSB7XG5cdFx0XHRcdGVsZW0uY29udGV4dC5pbm5lclRleHQgPSAkaW50ZXJwb2xhdGUodGV4dCk7XG5cdFx0XHR9KTtcblx0XHRcdGZ1bmN0aW9uIHRydW5jKG4sIHRleHQsIHVzZVdvcmRCb3VuZGFyeSkge1xuXHRcdFx0XHR2YXIgdG9Mb25nID0gdGV4dC5sZW5ndGggPiBuLFxuXHRcdFx0XHRcdHNfID0gdG9Mb25nID8gdGV4dC5zdWJzdHIoMCxuLTEpIDogdGV4dDtcblx0XHRcdFx0c18gPSB1c2VXb3JkQm91bmRhcnkgJiYgdG9Mb25nID8gc18uc3Vic3RyKDAsIHNfLmxhc3RJbmRleE9mKCcgJykpIDogc187XG5cdFx0XHRcdHJldHVybiBzXztcblx0XHRcdH1cblx0XHR9XG5cdH1cbn0pXG4uZGlyZWN0aXZlKCdsb2dpbkRpYWxvZycsIGZ1bmN0aW9uIChBVVRIX0VWRU5UUykge1xuXHRyZXR1cm4ge1xuXHRcdHJlc3RyaWN0OiAnQScsXG5cdFx0dGVtcGxhdGU6ICc8ZGl2IG5nLWlmPVwidmlzaWJsZVwiIG5nLWluY2x1ZGU9XCJcXCdsb2dpbi1mb3JtLmh0bWxcXCdcIj4nLFxuXHRcdGxpbms6IGZ1bmN0aW9uIChzY29wZSkge1xuXHRcdFx0dmFyIHNob3dEaWFsb2cgPSBmdW5jdGlvbiAoKSB7XG5cdFx0XHRcdHNjb3BlLnZpc2libGUgPSB0cnVlO1xuXHRcdFx0fVxuXHRcdFx0XG5cdFx0XHRzY29wZS52aXNpYmxlID0gZmFsc2U7XG5cdFx0XHRzY29wZS4kb24oQVVUSF9FVkVOVFMubm90QXV0aGVudGljYXRlZCwgc2hvd0RpYWxvZyk7XG5cdFx0XHRzY29wZS4kb24oQVVUSF9FVkVOVFMuc2Vzc2lvblRpbWVvdXQsIHNob3dEaWFsb2cpO1xuXHRcdH1cblx0fVxufSlcbi5kaXJlY3RpdmUoJ3VoQ29uZmlybURlbnlNb2RhbCcsIFsnJHBhcnNlJywgZnVuY3Rpb24oJHBhcnNlKSB7XG5cdHJldHVybiB7XG5cdFx0cmVzdHJpY3Q6ICdFJyxcblx0XHR0cmFuc2NsdWRlOiB0cnVlLFxuXHRcdHRlbXBsYXRlVXJsOiBcImRpcmVjdGl2ZXMvdWgtY29uZmlybS1kZW55LW1vZGFsL3VoLWNvbmZpcm0tZGVueS1tb2RhbC5odG1sXCIsXG5cdFx0bGluazogZnVuY3Rpb24oc2NvcGUsIGVsZW0sIGF0dHJzKSB7XG5cdFx0XHR2YXIgY2FsbGJhY2tGdW5jdGlvbiA9ICRwYXJzZShhdHRycy5jYWxsYmFjayk7XG5cdFx0XHR2YXIgZGVjaXNpb24gPSBmdW5jdGlvbihpc0NvbmZpcm1lZCkge1xuXHRcdFx0XHRjYWxsYmFja0Z1bmN0aW9uKHNjb3BlLCB7aXNDb25maXJtZWQ6aXNDb25maXJtZWR9KTtcblx0XHRcdH1cblx0XHRcdHZhciBzaG93TW9kYWwgPSBmdW5jdGlvbigpIHtcblx0XHRcdFx0ZWxlbS5maW5kKCdkaXYnKS5mb3VuZGF0aW9uKCdyZXZlYWwnLCAnb3BlbicpO1xuXHRcdFx0fVxuXHRcdFx0dmFyIGhpZGVNb2RhbCA9IGZ1bmN0aW9uKCkge1xuXHRcdFx0XHRlbGVtLmZpbmQoJ2RpdicpLmZvdW5kYXRpb24oJ3JldmVhbCcsICdjbG9zZScpO1xuXHRcdFx0fVxuXHRcdFx0c2NvcGUuJG9uKCdTSE9XX0NPTkZJUk1fREVOWScsIHNob3dNb2RhbCk7XG5cdFx0XHR2YXIgZGVueU1vZGFsID0gZnVuY3Rpb24oKSB7XG5cdFx0XHRcdGhpZGVNb2RhbCgpO1xuXHRcdFx0XHRjb25zb2xlLmxvZyhcIk1vZGFsIGhpZGRlbiFcIik7XG5cdFx0XHRcdGRlY2lzaW9uKGZhbHNlKTtcblx0XHRcdH07XG5cdFx0XHR2YXIgY29uZmlybU1vZGFsID0gZnVuY3Rpb24oKSB7XG5cdFx0XHRcdGhpZGVNb2RhbCgpO1xuXHRcdFx0XHRkZWNpc2lvbih0cnVlKTtcblx0XHRcdH1cblx0XHRcdC8vIEkgY2FuJ3Qgd29yayBvdXQgaG93IHRvIGRvIHRoaXMgaW4gSlFsaXRlIHlldCBzbyBJJ3ZlIHVzZWQgJC4uLlxuXHRcdFx0JChlbGVtKS5maW5kKFwiLmNhbmNlbFwiKS5vbignY2xpY2snLCBmdW5jdGlvbigpIHtcblx0XHRcdFx0Y29uc29sZS5sb2coXCJNb2RhbCBkZWNsaW5lZFwiKTtcblx0XHRcdFx0ZGVueU1vZGFsKCk7XG5cdFx0XHR9KTtcblx0XHRcdCQoZWxlbSkuZmluZChcIi5jb25maXJtXCIpLm9uKCdjbGljaycsIGZ1bmN0aW9uKCkge1xuXHRcdFx0XHRjb25zb2xlLmxvZyhcIk1vZGFsIGFjY2VwdGVkXCIpO1xuXHRcdFx0XHRjb25maXJtTW9kYWwoKTtcblx0XHRcdH0pXG5cdFx0fVxuXHR9XG59XSk7IiwiLy8gQXBwLmpzXG4ndXNlIHN0cmljdCdcblxuYW5ndWxhci5tb2R1bGUoJ3V0c0hlbHBzJywgW1xuXHQnbmdSb3V0ZScsXG5cdCd1dHNIZWxwcy5hdXRocycsXG5cdCd1dHNIZWxwcy5leGFtcGxlJyxcblx0J3V0c0hlbHBzLmxvZ2luJyxcblx0J2hlbHBzUmVzdGZ1bFNlcnZpY2VzJyxcblx0J3V0c0hlbHBzLmV4YW1wbGUnLFxuXHQndXRzSGVscHMuVXBjb21pbmdBY3Rpdml0aWVzJyxcblx0J2FuZ3VsYXIuZmlsdGVyJyxcblx0J25nQW5pbWF0ZScsXG5cdCdhbmd1bGFyLWxvYWRpbmctYmFyJyxcblx0J3V0c0hlbHBzLmNvbnN0YW50cycsXG5cdCdhbmd1bGFyLWFsZXJ0LWJhbm5lcicsXG5cdCd1dHNIZWxwcy5Vc2VyTWVzc2FnaW5nU2VydmljZSdcblx0XSlcbi5jb25maWcoWyckcm91dGVQcm92aWRlcicsICdjZnBMb2FkaW5nQmFyUHJvdmlkZXInLCAnJGh0dHBQcm92aWRlcicsIGZ1bmN0aW9uKCRyb3V0ZVByb3ZpZGVyLCBjZnBMb2FkaW5nQmFyUHJvdmlkZXIsICRodHRwUHJvdmlkZXIpe1xuXHQkcm91dGVQcm92aWRlci5vdGhlcndpc2Uoe3JlZGlyZWN0VG86Jy9leGFtcGxlJ30pO1xuXHRjZnBMb2FkaW5nQmFyUHJvdmlkZXIuaW5jbHVkZVNwaW5uZXIgPSBmYWxzZTtcblx0JGh0dHBQcm92aWRlci5pbnRlcmNlcHRvcnMucHVzaChbXG5cdFx0JyRpbmplY3RvcicsXG5cdFx0ZnVuY3Rpb24gKCRpbmplY3Rvcikge1xuXHRcdFx0cmV0dXJuICRpbmplY3Rvci5nZXQoJ0F1dGhJbnRlcmNlcHRvcicpO1xuXHR9XSk7XG59XSlcbi5jb25maWcoWyckcHJvdmlkZScsIGZ1bmN0aW9uKCRwcm92aWRlKSB7XG4gIC8vUHJvdmlkZXMgcmVkaXJlY3Rpb24gZm9yXG4gICRwcm92aWRlLmRlY29yYXRvcignJGV4Y2VwdGlvbkhhbmRsZXInLCBbJyRkZWxlZ2F0ZScsIGZ1bmN0aW9uKCRkZWxlZ2F0ZSkge1xuICAgIHJldHVybiBmdW5jdGlvbihleGNlcHRpb24sIGNhdXNlKSB7XG4gICAgICAkZGVsZWdhdGUoZXhjZXB0aW9uLCBjYXVzZSk7XG4gICAgICB0aHJvdyBleGNlcHRpb247XG4gIH19XSk7XG59XSlcbi5ydW4oWyckcm9vdFNjb3BlJywgJ0FVVEhfRVZFTlRTJywgJ0F1dGhTZXJ2aWNlJywgJyRsb2NhdGlvbicsIGZ1bmN0aW9uKCRyb290U2NvcGUsIEFVVEhfRVZFTlRTLCBBdXRoU2VydmljZSwgJGxvY2F0aW9uKSB7XG5cdGNvbnNvbGUubG9nKFwiQW5ndWxhciBpbml0aWFsaXNlZCFcIik7XG5cdCQoZG9jdW1lbnQpLnJlYWR5KGZ1bmN0aW9uKCl7XG5cdFx0JChkb2N1bWVudCkuZm91bmRhdGlvbih7XG5cdFx0XHRvZmZjYW52YXM6IHtcblx0XHRcdFx0Y2xvc2Vfb25fY2xpY2s6IHRydWVcblx0XHRcdH1cblx0XHR9KTtcblx0fSk7XG5cdCQoZG9jdW1lbnQpLm9uKCdvcGVuLmZuZHRuLm9mZmNhbnZhcycsICdbZGF0YS1vZmZjYW52YXNdJywgZnVuY3Rpb24gKCkge1xuXHRcdHZhciBvZmZfY2FudmFzX3dyYXAgPSAkKHRoaXMpO1xuXHRcdCQoJyNsb2FkaW5nLWJhcicpLmFkZENsYXNzKFwiaGlkZVwiKTtcblx0XHQkKCcjbG9hZGluZy1iYXItc3Bpbm5lcicpLmFkZENsYXNzKFwiaGlkZVwiKTtcblx0fSk7XG5cblx0JChkb2N1bWVudCkub24oJ2Nsb3NlLmZuZHRuLm9mZmNhbnZhcycsICdbZGF0YS1vZmZjYW52YXNdJywgZnVuY3Rpb24gKCkge1xuXHRcdHZhciBvZmZfY2FudmFzX3dyYXAgPSAkKHRoaXMpO1xuXHRcdCQoXCIjbG9hZGluZy1iYXJcIikucmVtb3ZlQ2xhc3MoXCJoaWRlXCIpO1xuXHRcdCQoJyNsb2FkaW5nLWJhci1zcGlubmVyJykuYWRkQ2xhc3MoXCJoaWRlXCIpO1xuXHR9KTtcblxuXG5cdC8vIFJlZGlyZWN0IHRoZSB1c2VyIGlmIHRoZXkncmUgbG9zdFxuXHQkcm9vdFNjb3BlLiRvbihcIiRsb2NhdGlvbkNoYW5nZVN0YXJ0XCIsIGZ1bmN0aW9uIChldmVudCwgbmV4dCwgY3VycmVudCkge1xuXHRcdGlmICghQXV0aFNlcnZpY2UuaXNBdXRoZW50aWNhdGVkKCkpIHtcblx0XHRcdGlmIChuZXh0LnRlbXBsYXRlVXJsIT1cInZpZXdzL2xvZ2luVmlldy5odG1sXCIpe1xuXHRcdFx0XHQkbG9jYXRpb24ucGF0aChcIi9sb2dpblwiKTtcblx0XHRcdH1cblx0XHR9XG5cdH0pO1xuXHQvLyBSZWRpcmVjdCBpZiB1c2VyIGlmIHRoZXkgaGF2ZSBiZWVuIGxvZ2dlZCBpbiBhbmQvb3IgbG9nZ2VkIG91dFxuXHQkcm9vdFNjb3BlLiRvbihBVVRIX0VWRU5UUy5sb2dpblN1Y2Nlc3MsIGZ1bmN0aW9uKGV2ZW50KXtcblx0XHQkbG9jYXRpb24ucGF0aChcIi9leGFtcGxlXCIpOyAvLyBkYXNoYm9hcmRcblx0fSk7XG5cdCRyb290U2NvcGUuJG9uKEFVVEhfRVZFTlRTLmxvZ291dFN1Y2Nlc3MsIGZ1bmN0aW9uKGV2ZW50KSB7XG5cdFx0JGxvY2F0aW9uLnBhdGgoXCIvbG9naW5cIik7XG5cdH0pO1xuXG5cbn1dKVxuLmNvbnRyb2xsZXIoJ0FwcGxpY2F0aW9uQ29udHJvbGxlcicsIFsnJHNjb3BlJywgJ1VTRVJfUk9MRVMnLCAnQXV0aFNlcnZpY2UnLCAnRVJSX0JST0FEQ0FTVFMnLCAnQVVUSF9FVkVOVFMnLCAnJHJvb3RTY29wZScsICdVc2VyTWVzc2FnaW5nU2VydmljZScsXG4gZnVuY3Rpb24oJHNjb3BlLCBVU0VSX1JPTEVTLCBBdXRoU2VydmljZSwgRVJSX0JST0FEQ0FTVFMsIEFVVEhfRVZFTlRTLCAkcm9vdFNjb3BlLCBVc2VyTWVzc2FnaW5nU2VydmljZSkge1xuXHQkc2NvcGUuZ2xvYmFscyA9IHtcblx0XHRwYWdlVGl0bGU6IFwiVVRTIEhFTFBTXCJcblx0fTtcblx0JHNjb3BlLmVycl9tZXNzYWdlID0gXCJcIjtcblx0Lyokc2NvcGUuJG9uKEVSUl9CUk9BRENBU1RTLkFQSV9FUlJPUiwgZnVuY3Rpb24gdHJpZ2dlckVycm9yTW9kYWwoZSwgZXJyX21lc3NhZ2UpIHtcblx0XHRjb25zb2xlLmxvZyhcIkVycm9yIGluIEFQSSEgXCIrZXJyX21lc3NhZ2UpO1xuXHRcdCRzY29wZS5lcnJfbWVzc2FnZSA9IGVycl9tZXNzYWdlO1xuXHRcdCQoXCIjdWgtZXJyb3ItbW9kYWxcIikuZm91bmRhdGlvbigncmV2ZWFsJywgJ29wZW4nKTtcblx0fSk7Ki9cblx0JHNjb3BlLnRyaWdnZXJDbG9zZU1vZGFsID0gZnVuY3Rpb24oKSB7XG5cdFx0JChcIiN1aC1lcnJvci1tb2RhbFwiKS5mb3VuZGF0aW9uKCdyZXZlYWwnLCAnY2xvc2UnKTtcblx0fVxuXHQkc2NvcGUuY3VycmVudFVzZXIgPSBudWxsO1xuXHQkc2NvcGUudXNlclJvbGVzID0gVVNFUl9ST0xFUztcblx0JHNjb3BlLmlzQXV0aG9yaXplZCA9IEF1dGhTZXJ2aWNlLmlzQXV0aG9yaXplZDtcblx0XG5cdCRzY29wZS5zZXRDdXJyZW50VXNlciA9IGZ1bmN0aW9uICh1c2VyKSB7IFxuXHRcdCRzY29wZS5jdXJyZW50VXNlciA9IHVzZXI7XG5cdH07XG5cdCRzY29wZS5sb2dvdXQgPSBmdW5jdGlvbigpIHtcblx0XHRBdXRoU2VydmljZS5sb2dvdXRGYWtlKCkudGhlbihmdW5jdGlvbiBzdWNjZXNzKCkge1xuXHRcdFx0JHNjb3BlLmN1cnJlbnRVc2VyID0gbnVsbDtcblx0XHRcdCRyb290U2NvcGUuJGJyb2FkY2FzdChBVVRIX0VWRU5UUy5sb2dvdXRTdWNjZXNzKTsgXG5cdFx0fSwgZnVuY3Rpb24gZmFpbHVyZShlcnIpIHtcblx0XHRcdC8vIGRlYWwgd2l0aCBmYWlsdXJlIHRvIGxvZyBvdXQgaGVyZVxuXHRcdFx0JHJvb3RTY29wZS4kYnJvYWRjYXN0KEVSUl9CUk9BRENBU1RTLkFQSV9FUlJPUiwgZXJyKTtcblx0XHR9KTtcblx0fVxuXHQkc2NvcGUuaXNMb2dpblBhZ2UgPSB0cnVlO1xufV0pOyIsIid1c2Ugc3RyaWN0JztcblxuYW5ndWxhci5tb2R1bGUoJ2hlbHBzUmVzdGZ1bFNlcnZpY2VzJywgWyd1dHNIZWxwcy5jb25zdGFudHMnLCAnaGVscHNNb2RlbHNTZXJ2aWNlcyddKVxuLmNvbmZpZyhbJyRzY2VEZWxlZ2F0ZVByb3ZpZGVyJywgJ2hlbHBzX2VuZHBvaW50X2NvbnN0YW50cycsIGZ1bmN0aW9uKCRzY2VEZWxlZ2F0ZVByb3ZpZGVyLCBoZWxwc19lbmRwb2ludF9jb25zdGFudHMpIHtcblx0Ly8gUmVzb2x2ZXMgdGhlIGxvbmcgd2FpdCBmb3IgdGhlIE9QVElPTlMgcHJlIGZsaWdodCByZXF1ZXN0OyB2ZXJ5IG11Y2ggYSBoYWNrXG5cdC8vIGFuZCBpcyBub3Qgc3VwcG9ydGVkIGJ5IHRoZSBDT1JTIG9mZmljaWFsIHNwZWM6IGh0dHA6Ly9zdGFja292ZXJmbG93LmNvbS9hLzE2NTcwNjA0XG5cdCRzY2VEZWxlZ2F0ZVByb3ZpZGVyLnJlc291cmNlVXJsV2hpdGVsaXN0KFsnc2VsZicsIFxuXHRcdGhlbHBzX2VuZHBvaW50X2NvbnN0YW50cy5FTkRQT0lOVF9VUkkrJy8qKiddKTtcbn1dKVxuLnNlcnZpY2UoJ0FwaU1ldGhvZHMnLCBbJyRodHRwJywgJ2hlbHBzX2VuZHBvaW50X2NvbnN0YW50cycsICdFUlJfQlJPQURDQVNUUycsICckcm9vdFNjb3BlJywgJyRxJyxcblx0ZnVuY3Rpb24oJGh0dHAsIGVuZHBvaW50X2NvbnN0YW50cywgRVJSX0JST0FEQ0FTVFMsICRyb290U2NvcGUsICRxKSB7XG5cdFx0dGhpcy5jcmVhdGVDb25maWdPYmplY3QgPSBmdW5jdGlvbigpIHtcblx0XHRcdFx0Ly9GYWN0b3J5IG1ldGhvZCBwYXR0ZXJuXG5cdFx0XHRcdHZhciBjb25maWdPYmplY3QgPSB7XG5cdFx0XHRcdFx0aGVhZGVyczoge1xuXHRcdFx0XHRcdFx0XCJBcHBLZXlcIjplbmRwb2ludF9jb25zdGFudHMuQVBQX0tFWVxuXHRcdFx0XHRcdH1cblx0XHRcdFx0fTtcblx0XHRcdFx0cmV0dXJuIGNvbmZpZ09iamVjdDtcblx0XHRcdH1cblx0XHRcdHRoaXMuZ2V0UmVzb3VyY2UgPSBmdW5jdGlvbihyZXNvdXJjZVVyaSwgcGFyYW1zKSB7XG5cdFx0XHRcdC8vIEdpdmVuIHRoZSByZXNvdXJjZSBVUkkgKG5vdCBpbmNsdWRpbmcgdGhlIGVuZHBvaW50IFVSSSksIGFuZCBwYXJhbWV0ZXJzLCBjYWxsIHRoZSBlbmRwb2ludFxuXHRcdFx0XHQvLyBhbmQgcmV0dXJuIGEgcHJvbWlzZVxuXHRcdFx0XHR2YXIgY29uZmlnT2JqZWN0ID0gdGhpcy5jcmVhdGVDb25maWdPYmplY3QoKTtcblx0XHRcdFx0Y29uZmlnT2JqZWN0W1wicGFyYW1zXCJdID0gcGFyYW1zO1xuXHRcdFx0XHRyZXR1cm4gJGh0dHAuZ2V0KGVuZHBvaW50X2NvbnN0YW50cy5FTkRQT0lOVF9VUkkrcmVzb3VyY2VVcmksIGNvbmZpZ09iamVjdCk7XG5cdFx0XHR9XG5cdFx0XHR0aGlzLmdldFJlc291cmNlRmFrZWQgPSBmdW5jdGlvbihyZXNvdXJjZVVyaSwgcGFyYW1zKSB7XG5cdFx0XHRcdHZhciBkYXRhO1xuXHRcdFx0XHRpZiAocmVzb3VyY2VVcmkgPT09IGVuZHBvaW50X2NvbnN0YW50cy5BQ1RJVklUSUVTX1VSSStlbmRwb2ludF9jb25zdGFudHMuU0VBUkNIX1VSSSkge1xuXHRcdFx0XHRcdGRhdGEgPSB7XG5cdFx0XHRcdFx0XHRcIlJlc3VsdHNcIjogW1xuXHRcdFx0XHRcdFx0e1xuXHRcdFx0XHRcdFx0XHRcIldvcmtzaG9wSWRcIjogMTEsXG5cdFx0XHRcdFx0XHRcdFwidG9waWNcIjogXCJQbGFubmluZyBhbmQgcmVzZWFyY2hpbmcgZm9yIGFuIGFzc2lnbm1lbnRcIixcblx0XHRcdFx0XHRcdFx0XCJkZXNjcmlwdGlvblwiOiBcIuKAnEkgaGF2ZSBhbiBhc3NpZ25tZW50IGR1ZSBzb29uLCBidXQgSSBkb27igJl0IGtub3cgd2hlcmUgYW5kIGhvdyB0byBiZWdpbi5cIixcblx0XHRcdFx0XHRcdFx0XCJ0YXJnZXRpbmdHcm91cFwiOiBcImFsbCBzdHVkZW50c1wiLFxuXHRcdFx0XHRcdFx0XHRcImNhbXB1c1wiOiBcIkNCMDIuMDUuMzJcIixcblx0XHRcdFx0XHRcdFx0XCJTdGFydERhdGVcIjogXCIyMDEyLTA3LTA3VDE3OjAwOjAwXCIsXG5cdFx0XHRcdFx0XHRcdFwiRW5kRGF0ZVwiOiBcIjIwMTItMDctMDdUMTg6MDA6MDBcIixcblx0XHRcdFx0XHRcdFx0XCJtYXhpbXVtXCI6IDQ1LFxuXHRcdFx0XHRcdFx0XHRcIldvcmtTaG9wU2V0SURcIjogNCxcblx0XHRcdFx0XHRcdFx0XCJjdXRvZmZcIjogbnVsbCxcblx0XHRcdFx0XHRcdFx0XCJ0eXBlXCI6IFwic2luZ2xlXCIsXG5cdFx0XHRcdFx0XHRcdFwicmVtaW5kZXJfbnVtXCI6IDk5OTksXG5cdFx0XHRcdFx0XHRcdFwicmVtaW5kZXJfc2VudFwiOiAwLFxuXHRcdFx0XHRcdFx0XHRcIkRheXNPZldlZWtcIjogbnVsbCxcblx0XHRcdFx0XHRcdFx0XCJCb29raW5nQ291bnRcIjogNDQsXG5cdFx0XHRcdFx0XHRcdFwiYXJjaGl2ZWRcIjogbnVsbFxuXHRcdFx0XHRcdFx0fSwge1xuXHRcdFx0XHRcdFx0XHRcIldvcmtzaG9wSWRcIjogMTIsXG5cdFx0XHRcdFx0XHRcdFwidG9waWNcIjogXCJQbGFubmluZyBhbmQgcmVzZWFyY2hpbmcgZm9yIGFuIGFzc2lnbm1lbnRcIixcblx0XHRcdFx0XHRcdFx0XCJkZXNjcmlwdGlvblwiOiBcIuKAnEkgaGF2ZSBhbiBhc3NpZ25tZW50IGR1ZSBzb29uLCBidXQgSSBkb27igJl0IGtub3cgd2hlcmUgYW5kIGhvdyB0byBiZWdpbi5cIixcblx0XHRcdFx0XHRcdFx0XCJ0YXJnZXRpbmdHcm91cFwiOiBcImFsbCBzdHVkZW50c1wiLFxuXHRcdFx0XHRcdFx0XHRcImNhbXB1c1wiOiBcIkNCMDIuMDUuMzJcIixcblx0XHRcdFx0XHRcdFx0XCJTdGFydERhdGVcIjogXCIyMDEyLTA4LTA3VDE3OjAwOjAwXCIsXG5cdFx0XHRcdFx0XHRcdFwiRW5kRGF0ZVwiOiBcIjIwMTItMDgtMDdUMTg6MDA6MDBcIixcblx0XHRcdFx0XHRcdFx0XCJtYXhpbXVtXCI6IDQ1LFxuXHRcdFx0XHRcdFx0XHRcIldvcmtTaG9wU2V0SURcIjogNCxcblx0XHRcdFx0XHRcdFx0XCJjdXRvZmZcIjogbnVsbCxcblx0XHRcdFx0XHRcdFx0XCJ0eXBlXCI6IFwic2luZ2xlXCIsXG5cdFx0XHRcdFx0XHRcdFwicmVtaW5kZXJfbnVtXCI6IDk5OTksXG5cdFx0XHRcdFx0XHRcdFwicmVtaW5kZXJfc2VudFwiOiAwLFxuXHRcdFx0XHRcdFx0XHRcIkRheXNPZldlZWtcIjogbnVsbCxcblx0XHRcdFx0XHRcdFx0XCJCb29raW5nQ291bnRcIjogNDQsXG5cdFx0XHRcdFx0XHRcdFwiYXJjaGl2ZWRcIjogbnVsbFxuXHRcdFx0XHRcdFx0fSwge1xuXHRcdFx0XHRcdFx0XHRcIldvcmtzaG9wSWRcIjogMTQsXG5cdFx0XHRcdFx0XHRcdFwidG9waWNcIjogXCJQbGFubmluZyBhbmQgcmVzZWFyY2hpbmcgZm9yIGFuIGFzc2lnbm1lbnRcIixcblx0XHRcdFx0XHRcdFx0XCJkZXNjcmlwdGlvblwiOiBcIuKAnEkgaGF2ZSBhbiBhc3NpZ25tZW50IGR1ZSBzb29uLCBidXQgSSBkb27igJl0IGtub3cgd2hlcmUgYW5kIGhvdyB0byBiZWdpbi5cIixcblx0XHRcdFx0XHRcdFx0XCJ0YXJnZXRpbmdHcm91cFwiOiBcImFsbCBzdHVkZW50c1wiLFxuXHRcdFx0XHRcdFx0XHRcImNhbXB1c1wiOiBcIkNCMDIuMDUuMzJcIixcblx0XHRcdFx0XHRcdFx0XCJTdGFydERhdGVcIjogXCIyMDEyLTA4LTA3VDE3OjAwOjAwXCIsXG5cdFx0XHRcdFx0XHRcdFwiRW5kRGF0ZVwiOiBcIjIwMTItMDgtMDdUMTg6MDA6MDBcIixcblx0XHRcdFx0XHRcdFx0XCJtYXhpbXVtXCI6IDQ1LFxuXHRcdFx0XHRcdFx0XHRcIldvcmtTaG9wU2V0SURcIjogNCxcblx0XHRcdFx0XHRcdFx0XCJjdXRvZmZcIjogbnVsbCxcblx0XHRcdFx0XHRcdFx0XCJ0eXBlXCI6IFwic2luZ2xlXCIsXG5cdFx0XHRcdFx0XHRcdFwicmVtaW5kZXJfbnVtXCI6IDk5OTksXG5cdFx0XHRcdFx0XHRcdFwicmVtaW5kZXJfc2VudFwiOiAwLFxuXHRcdFx0XHRcdFx0XHRcIkRheXNPZldlZWtcIjogbnVsbCxcblx0XHRcdFx0XHRcdFx0XCJCb29raW5nQ291bnRcIjogNDUsXG5cdFx0XHRcdFx0XHRcdFwiYXJjaGl2ZWRcIjogbnVsbFxuXHRcdFx0XHRcdFx0fSwge1xuXHRcdFx0XHRcdFx0XHRcIldvcmtzaG9wSWRcIjogMTYsXG5cdFx0XHRcdFx0XHRcdFwidG9waWNcIjogXCJVOlBBU1N3cml0ZSBmb3IgMjExMjkgTWFuYWdpbmcgUGVvcGxlICYgT3JnYW5pc2F0aW9uc1wiLFxuXHRcdFx0XHRcdFx0XHRcImRlc2NyaXB0aW9uXCI6IFwiVGhpcyB3b3Jrc2hvcCB3aWxsIGVtcG93ZXIgeW91IHRvIHdyaXRlIGV4Y2VsbGVudCBlc3NheXMgYW5kIFwiK1xuXHRcdFx0XHRcdFx0XHRcInByb3ZpZGUgdmFsdWFibGUgc3VwcG9ydCBmb3IgdGhlIHVwY29taW5nIGFzc2lnbm1lbnQuXCIsXG5cdFx0XHRcdFx0XHRcdFwidGFyZ2V0aW5nR3JvdXBcIjogXCJhbGwgc3R1ZGVudHNcIixcblx0XHRcdFx0XHRcdFx0XCJjYW1wdXNcIjogXCJDQjAyLjA1LjMyXCIsXG5cdFx0XHRcdFx0XHRcdFwiU3RhcnREYXRlXCI6IFwiMjAxMi0wOS0wN1QxNzowMDowMFwiLFxuXHRcdFx0XHRcdFx0XHRcIkVuZERhdGVcIjogXCIyMDEyLTA5LTA3VDE4OjAwOjAwXCIsXG5cdFx0XHRcdFx0XHRcdFwibWF4aW11bVwiOiA0NSxcblx0XHRcdFx0XHRcdFx0XCJXb3JrU2hvcFNldElEXCI6IDUsXG5cdFx0XHRcdFx0XHRcdFwiY3V0b2ZmXCI6IG51bGwsXG5cdFx0XHRcdFx0XHRcdFwidHlwZVwiOiBcInNpbmdsZVwiLFxuXHRcdFx0XHRcdFx0XHRcInJlbWluZGVyX251bVwiOiA5OTk5LFxuXHRcdFx0XHRcdFx0XHRcInJlbWluZGVyX3NlbnRcIjogMCxcblx0XHRcdFx0XHRcdFx0XCJEYXlzT2ZXZWVrXCI6IG51bGwsXG5cdFx0XHRcdFx0XHRcdFwiQm9va2luZ0NvdW50XCI6IDQ0LFxuXHRcdFx0XHRcdFx0XHRcImFyY2hpdmVkXCI6IG51bGxcblx0XHRcdFx0XHRcdH0sXG5cdFx0XHRcdFx0XHR7XG5cdFx0XHRcdFx0XHRcdFwiV29ya3Nob3BJZFwiOiAxNixcblx0XHRcdFx0XHRcdFx0XCJ0b3BpY1wiOiBcIlU6UEFTU3dyaXRlIGZvciAyMTEyOSBNYW5hZ2luZyBQZW9wbGUgJiBPcmdhbmlzYXRpb25zXCIsXG5cdFx0XHRcdFx0XHRcdFwiZGVzY3JpcHRpb25cIjogXCJUaGlzIHdvcmtzaG9wIHdpbGwgZW1wb3dlciB5b3UgdG8gd3JpdGUgZXhjZWxsZW50IGVzc2F5cyBhbmQgXCIrXG5cdFx0XHRcdFx0XHRcdFwicHJvdmlkZSB2YWx1YWJsZSBzdXBwb3J0IGZvciB0aGUgdXBjb21pbmcgYXNzaWdubWVudC5cIixcblx0XHRcdFx0XHRcdFx0XCJ0YXJnZXRpbmdHcm91cFwiOiBcImFsbCBzdHVkZW50c1wiLFxuXHRcdFx0XHRcdFx0XHRcImNhbXB1c1wiOiBcIkNCMDIuMDUuMzJcIixcblx0XHRcdFx0XHRcdFx0XCJTdGFydERhdGVcIjogXCIyMDEyLTA5LTA3VDE3OjAwOjAwXCIsXG5cdFx0XHRcdFx0XHRcdFwiRW5kRGF0ZVwiOiBcIjIwMTItMDktMDdUMTg6MDA6MDBcIixcblx0XHRcdFx0XHRcdFx0XCJtYXhpbXVtXCI6IDQ1LFxuXHRcdFx0XHRcdFx0XHRcIldvcmtTaG9wU2V0SURcIjogOSxcblx0XHRcdFx0XHRcdFx0XCJjdXRvZmZcIjogbnVsbCxcblx0XHRcdFx0XHRcdFx0XCJ0eXBlXCI6IFwic2luZ2xlXCIsXG5cdFx0XHRcdFx0XHRcdFwicmVtaW5kZXJfbnVtXCI6IDk5OTksXG5cdFx0XHRcdFx0XHRcdFwicmVtaW5kZXJfc2VudFwiOiAwLFxuXHRcdFx0XHRcdFx0XHRcIkRheXNPZldlZWtcIjogbnVsbCxcblx0XHRcdFx0XHRcdFx0XCJCb29raW5nQ291bnRcIjogNDQsXG5cdFx0XHRcdFx0XHRcdFwiYXJjaGl2ZWRcIjogbnVsbFxuXHRcdFx0XHRcdFx0fSxcblx0XHRcdFx0XHRcdHtcblx0XHRcdFx0XHRcdFx0XCJXb3Jrc2hvcElkXCI6IDE2LFxuXHRcdFx0XHRcdFx0XHRcInRvcGljXCI6IFwiVTpQQVNTd3JpdGUgZm9yIDIxMTI5IE1hbmFnaW5nIFBlb3BsZSAmIE9yZ2FuaXNhdGlvbnNcIixcblx0XHRcdFx0XHRcdFx0XCJkZXNjcmlwdGlvblwiOiBcIlRoaXMgd29ya3Nob3Agd2lsbCBlbXBvd2VyIHlvdSB0byB3cml0ZSBleGNlbGxlbnQgZXNzYXlzIGFuZCBcIitcblx0XHRcdFx0XHRcdFx0XCJwcm92aWRlIHZhbHVhYmxlIHN1cHBvcnQgZm9yIHRoZSB1cGNvbWluZyBhc3NpZ25tZW50LlwiLFxuXHRcdFx0XHRcdFx0XHRcInRhcmdldGluZ0dyb3VwXCI6IFwiYWxsIHN0dWRlbnRzXCIsXG5cdFx0XHRcdFx0XHRcdFwiY2FtcHVzXCI6IFwiQ0IwMi4wNS4zMlwiLFxuXHRcdFx0XHRcdFx0XHRcIlN0YXJ0RGF0ZVwiOiBcIjIwMTItMDktMDdUMTc6MDA6MDBcIixcblx0XHRcdFx0XHRcdFx0XCJFbmREYXRlXCI6IFwiMjAxMi0wOS0wN1QxODowMDowMFwiLFxuXHRcdFx0XHRcdFx0XHRcIm1heGltdW1cIjogNDUsXG5cdFx0XHRcdFx0XHRcdFwiV29ya1Nob3BTZXRJRFwiOiAxMCxcblx0XHRcdFx0XHRcdFx0XCJjdXRvZmZcIjogbnVsbCxcblx0XHRcdFx0XHRcdFx0XCJ0eXBlXCI6IFwic2luZ2xlXCIsXG5cdFx0XHRcdFx0XHRcdFwicmVtaW5kZXJfbnVtXCI6IDk5OTksXG5cdFx0XHRcdFx0XHRcdFwicmVtaW5kZXJfc2VudFwiOiAwLFxuXHRcdFx0XHRcdFx0XHRcIkRheXNPZldlZWtcIjogbnVsbCxcblx0XHRcdFx0XHRcdFx0XCJCb29raW5nQ291bnRcIjogNDQsXG5cdFx0XHRcdFx0XHRcdFwiYXJjaGl2ZWRcIjogbnVsbFxuXHRcdFx0XHRcdFx0fSxcblx0XHRcdFx0XHRcdHtcblx0XHRcdFx0XHRcdFx0XCJXb3Jrc2hvcElkXCI6IDE2LFxuXHRcdFx0XHRcdFx0XHRcInRvcGljXCI6IFwiVTpQQVNTd3JpdGUgZm9yIDIxMTI5IE1hbmFnaW5nIFBlb3BsZSAmIE9yZ2FuaXNhdGlvbnNcIixcblx0XHRcdFx0XHRcdFx0XCJkZXNjcmlwdGlvblwiOiBcIlRoaXMgd29ya3Nob3Agd2lsbCBlbXBvd2VyIHlvdSB0byB3cml0ZSBleGNlbGxlbnQgZXNzYXlzIGFuZCBcIitcblx0XHRcdFx0XHRcdFx0XCJwcm92aWRlIHZhbHVhYmxlIHN1cHBvcnQgZm9yIHRoZSB1cGNvbWluZyBhc3NpZ25tZW50LlwiLFxuXHRcdFx0XHRcdFx0XHRcInRhcmdldGluZ0dyb3VwXCI6IFwiYWxsIHN0dWRlbnRzXCIsXG5cdFx0XHRcdFx0XHRcdFwiY2FtcHVzXCI6IFwiQ0IwMi4wNS4zMlwiLFxuXHRcdFx0XHRcdFx0XHRcIlN0YXJ0RGF0ZVwiOiBcIjIwMTItMDktMDdUMTc6MDA6MDBcIixcblx0XHRcdFx0XHRcdFx0XCJFbmREYXRlXCI6IFwiMjAxMi0wOS0wN1QxODowMDowMFwiLFxuXHRcdFx0XHRcdFx0XHRcIm1heGltdW1cIjogNDUsXG5cdFx0XHRcdFx0XHRcdFwiV29ya1Nob3BTZXRJRFwiOiAxNSxcblx0XHRcdFx0XHRcdFx0XCJjdXRvZmZcIjogbnVsbCxcblx0XHRcdFx0XHRcdFx0XCJ0eXBlXCI6IFwic2luZ2xlXCIsXG5cdFx0XHRcdFx0XHRcdFwicmVtaW5kZXJfbnVtXCI6IDk5OTksXG5cdFx0XHRcdFx0XHRcdFwicmVtaW5kZXJfc2VudFwiOiAwLFxuXHRcdFx0XHRcdFx0XHRcIkRheXNPZldlZWtcIjogbnVsbCxcblx0XHRcdFx0XHRcdFx0XCJCb29raW5nQ291bnRcIjogNDQsXG5cdFx0XHRcdFx0XHRcdFwiYXJjaGl2ZWRcIjogbnVsbFxuXHRcdFx0XHRcdFx0fVxuXHRcdFx0XHRcdFx0XSxcblx0XHRcdFx0XHRcdFwiSXNTdWNjZXNzXCI6IHRydWUsXG5cdFx0XHRcdFx0XHRcIkRpc3BsYXlNZXNzYWdlXCI6IG51bGxcblx0XHRcdFx0XHR9O1xuXHRcdFx0XHR9XG5cdFx0XHRcdGVsc2UgaWYgKHJlc291cmNlVXJpID09PSBlbmRwb2ludF9jb25zdGFudHMuQk9PS19TRVNTSU9OX1VSSSAmJiAocGFyYW1zLldvcmtzaG9wSWQgPT09IDEgfHwgcGFyYW1zLndvcmtzaG9wSWQgPT09IDExKSApIHtcblx0XHRcdFx0XHRkYXRhID0ge1wiSXNTdWNjZXNzXCI6ZmFsc2UsIFwiRGlzcGxheU1lc3NhZ2VcIjpcIkVycm9yIGVuY291bnRlcmVkIHdoaWxzdCB0cnlpbmcgdG8gY3JlYXRlIHlvdXIgYm9va2luZy4gUGxlYXNlIHRyeSBhZ2FpbiBhbmQgaWYgaXNzdWVzIHBlcnNpc3QgY29udGFjdCBVVFMgSEVMUFMuXCJ9O1xuXHRcdFx0XHR9XG5cdFx0XHRcdGVsc2UgaWYgKHJlc291cmNlVXJpID09PSBlbmRwb2ludF9jb25zdGFudHMuQk9PS19TRVNTSU9OX1VSSSkge1xuXHRcdFx0XHRcdGRhdGEgPSB7XCJJc1N1Y2Nlc3NcIjp0cnVlLCBcIkRpc3BsYXlNZXNzYWdlXCI6XCJcIn07XG5cdFx0XHRcdH1cblx0XHRcdFx0ZWxzZSB7XG5cdFx0XHRcdFx0Y29uc29sZS5sb2coXCJSZXNvdXJjZSBub3QgZmFrZWRcIik7XG5cdFx0XHRcdFx0ZGF0YSA9IG51bGw7XG5cdFx0XHRcdH1cblx0XHRcdFx0cmV0dXJuICRxKGZ1bmN0aW9uKHJlc29sdmUsIHJlamVjdCl7XG5cdFx0XHRcdFx0c2V0VGltZW91dChmdW5jdGlvbigpIHtcblx0XHRcdFx0XHRcdGlmIChkYXRhKSB7XG5cdFx0XHRcdFx0XHRcdHJlc29sdmUoe1wiZGF0YVwiOmRhdGF9KTtcblx0XHRcdFx0XHRcdH1cblx0XHRcdFx0XHRcdGVsc2Uge1xuXHRcdFx0XHRcdFx0XHRyZWplY3Qoe1wiZGF0YVwiOmRhdGF9KTtcblx0XHRcdFx0XHRcdH1cblx0XHRcdFx0XHR9LCAxMDAwKTtcblx0XHRcdFx0fSk7XG5cdFx0XHR9XG5cdFx0XHR0aGlzLnRyYW5zZm9ybVBhcmFtcyA9IGZ1bmN0aW9uKHBhcmFtcykge1xuXHRcdFx0XHQvLyBUaGlzIGJpdCBvZiBjb2RlIGNpcmN1bXZlbnRzIHRoZSBpc3N1ZSB3aGVyZWJ5IEFuZ3VsYXIgZG9lc24ndCBzdXBwb3J0XG5cdFx0XHRcdC8vIFVSSSBwYXJhbXMgZm9yIFBPU1QgY2FsbHMgLSBmb3Igb2J2aW91cyBzZWN1cml0eSByZWFzb25zLiBIb3dldmVyLCBcblx0XHRcdFx0Ly8gSVREIGhhdmUgZGVjaWRlZCB0aGF0IHNlY3VyaXR5IGlzIG5vdCBpbXBvcnRhbnQgc28gZXNjaGV3ZWQgdGhpcyBpbXBvcnRhbnRcblx0XHRcdFx0Ly8gc2FmZXR5IG1lYXN1cmUuIFxuXHRcdFx0XHQvLyBFbmNsb3NlZCBpbiBhIHRyeSBjYXRjaCBiZWNhdXNlIGlmIHRoZXJlIGlzIG5vIHJldHVybiwgdGhpbmdzIGdldCB1Z2x5LlxuXHRcdFx0XHR0cnkge1xuXHRcdFx0XHRcdGlmIChwYXJhbXMgPT09IHVuZGVmaW5lZCkge3JldHVybiBwYXJhbXM7fVxuXHRcdFx0XHRcdGVsc2Uge3JldHVybiAkLnBhcmFtKHBhcmFtcyk7fVxuXHRcdFx0XHR9XG5cdFx0XHRcdGNhdGNoKGVycikge1xuXHRcdFx0XHRcdHJldHVybiBwYXJhbXM7XG5cdFx0XHRcdH1cblx0XHRcdFx0XG5cdFx0XHR9XG5cdFx0XHR0aGlzLnBvc3RSZXNvdXJjZSA9IGZ1bmN0aW9uKHJlc291cmNlVXJpLCBwYXJhbXMpIHtcblx0XHRcdFx0dmFyIGNvbmZpZ09iamVjdCA9IHRoaXMuY3JlYXRlQ29uZmlnT2JqZWN0KCk7XG5cdFx0XHRcdGNvbmZpZ09iamVjdC5wYXJhbXMgPSBwYXJhbXM7XG5cdFx0XHRcdHJldHVybiAkaHR0cC5wb3N0KGVuZHBvaW50X2NvbnN0YW50cy5FTkRQT0lOVF9VUkkrcmVzb3VyY2VVcmksIGNvbmZpZ09iamVjdCk7XG5cdFx0XHR9XG5cdFx0XHR0aGlzLnBvc3RSZXNvdXJjZVdpdGhQYXJhbXNJblVyaSA9IGZ1bmN0aW9uKHJlc291cmNlVXJpLCBwYXJhbXMpIHtcblx0XHRcdFx0dmFyIGNvbmZpZ09iamVjdCA9IHRoaXMuY3JlYXRlQ29uZmlnT2JqZWN0KCk7XG5cdFx0XHRcdHZhciB1cmlUcmFuc2Zvcm0gPSB0aGlzLnRyYW5zZm9ybVBhcmFtcyhwYXJhbXMpO1xuXHRcdFx0XHRyZXR1cm4gJGh0dHAoe3VybDplbmRwb2ludF9jb25zdGFudHMuRU5EUE9JTlRfVVJJK3Jlc291cmNlVXJpK1wiP1wiK3VyaVRyYW5zZm9ybSwgbWV0aG9kOiAnUE9TVCcsIGhlYWRlcnM6Y29uZmlnT2JqZWN0WydoZWFkZXJzJ119KTtcblx0XHRcdH1cblx0XHR9XSlcbi5zZXJ2aWNlKCdVcGNvbWluZ0FjdGl2aXRpZXNNb2RlbCcsIFsnJGh0dHAnLCAnaGVscHNfZW5kcG9pbnRfY29uc3RhbnRzJywgJ0VSUl9CUk9BRENBU1RTJywgJyRyb290U2NvcGUnLCAnQXBpTWV0aG9kcycsICdXb3Jrc2hvcEJvb2tpbmcnLCAnQWxlcnRCYW5uZXInLCBmdW5jdGlvbigkaHR0cCwgZW5kcG9pbnRfY29uc3RhbnRzLCBFUlJfQlJPQURDQVNUUywgJHJvb3RTY29wZSwgQXBpTWV0aG9kcywgV29ya3Nob3BCb29raW5nLCBBbGVydEJhbm5lcikge1xuXHR2YXIgc2NvcGUgPSB0aGlzO1xuXG4gICAgdmFyIHBhZ2VOdW1iZXIgPSAxO1xuXHR2YXIgcGFnZVNpemUgPSAxNTtcblx0Lyp0aGlzLmNyZWF0ZSA9IGZ1bmN0aW9uKGFjdGl2aXRpZXNUb1NhdmUpIHtcblx0XHRzY29wZS5hY3Rpdml0aWVzID0gYWN0aXZpdGllc1RvU2F2ZTtcblx0fSovXG5cblxuXHR0aGlzLmdldEFjdGl2aXRpZXMgPSBmdW5jdGlvbihwYXJhbXMpIHtcblx0XHQvLyBHZXRzIGRhdGEgZnJvbSBhIHNlcnZlclxuXHRcdHJldHVybiBBcGlNZXRob2RzLmdldFJlc291cmNlKGVuZHBvaW50X2NvbnN0YW50cy5BQ1RJVklUSUVTX1VSSStlbmRwb2ludF9jb25zdGFudHMuU0VBUkNIX1VSSSwgXG5cdFx0XHRwYXJhbXNcblx0XHRcdCk7XG5cdH07XG5cblx0dGhpcy5tZXJnZUFjdGl2aXRpZXMgPSBmdW5jdGlvbihuZXdEYXRhVG9NZXJnZSwgZXhpc3RpbmdEYXRhKSB7XG5cdFx0aWYgKG5ld0RhdGFUb01lcmdlLklzU3VjY2Vzcykge1xuXHRcdFx0aWYgKCFleGlzdGluZ0RhdGEpIHtcblx0XHRcdFx0dmFyIGV4aXN0aW5nRGF0YSA9IHt9O1xuXHRcdFx0fVxuXHRcdFx0Zm9yICh2YXIgaT0wOyBpPG5ld0RhdGFUb01lcmdlW1wiUmVzdWx0c1wiXS5sZW5ndGg7IGkrKyl7XG5cdFx0XHRcdGlmIChleGlzdGluZ0RhdGEuaGFzT3duUHJvcGVydHkobmV3RGF0YVRvTWVyZ2VbXCJSZXN1bHRzXCJdW2ldW1wiV29ya1Nob3BTZXRJRFwiXSkpIHtcblx0XHRcdFx0XHQvLyBBcHBlbmQgYWxsIHdvcmtzaG9wIGRlZXRzIGFuZCB3aGF0bm90IGludG8gdGhlIHdvcmtzaG9wXG5cdFx0XHRcdFx0ZXhpc3RpbmdEYXRhW25ld0RhdGFUb01lcmdlW1wiUmVzdWx0c1wiXVtpXVtcIldvcmtTaG9wU2V0SURcIl1dW1wid29ya3Nob3BzXCJdLnB1c2gobmV3RGF0YVRvTWVyZ2VbXCJSZXN1bHRzXCJdW2ldKTtcblx0XHRcdFx0fVxuXHRcdFx0XHRlbHNlIHtcblx0XHRcdFx0XHRleGlzdGluZ0RhdGFbbmV3RGF0YVRvTWVyZ2VbXCJSZXN1bHRzXCJdW2ldW1wiV29ya1Nob3BTZXRJRFwiXV0gPSB7XG5cdFx0XHRcdFx0XHRcImRlc2NyaXB0aW9uXCI6bmV3RGF0YVRvTWVyZ2VbXCJSZXN1bHRzXCJdW2ldW1wiZGVzY3JpcHRpb25cIl0sXG5cdFx0XHRcdFx0XHRcInRvcGljXCI6bmV3RGF0YVRvTWVyZ2VbXCJSZXN1bHRzXCJdW2ldW1widG9waWNcIl0sXG5cdFx0XHRcdFx0XHRcIndvcmtzaG9wc1wiOltuZXdEYXRhVG9NZXJnZVtcIlJlc3VsdHNcIl1baV1dXG5cdFx0XHRcdFx0fTtcblx0XHRcdFx0fVxuXHRcdFx0fVxuXHRcdFx0cmV0dXJuIGV4aXN0aW5nRGF0YTtcblx0XHR9XG5cdFx0ZWxzZSB7XG5cdFx0XHQvLyBGYWlsZWQgdG8gY29ycmVjdGx5IGxvYWQgZGF0YVxuXHRcdFx0Y29uc29sZS5sb2coXCJGYWlsZWQgdG8gY29ycmVjdGx5IGxvYWQgZGF0YS5cIik7XG5cdFx0XHQkcm9vdFNjb3BlLiRicm9hZGNhc3QoRVJSX0JST0FEQ0FTVFMuQVBJX0VSUk9SLCBuZXdEYXRhVG9NZXJnZS5EaXNwbGF5TWVzc2FnZSk7XG5cdFx0XHRyZXR1cm4ge307XG5cdFx0fVxuXHR9O1xuXG5cdHRoaXMuZ2V0TW9yZUFjdGl2aXRpZXMgPSBmdW5jdGlvbigpe1xuXHRcdHBhZ2VOdW1iZXIrKztcblx0XHR0aGlzLmdldEFjdGl2aXRpZXMoe1wiUGFnZVwiOnBhZ2VOdW1iZXIsXCJQYWdlU2l6ZVwiOnBhZ2VTaXplfSkudGhlbihmdW5jdGlvbihyZXN1bHQpIHtcblx0XHRcdGNvbnNvbGUubG9nKHJlc3VsdCk7XG5cdFx0XHRzY29wZS5hY3Rpdml0aWVzID0gc2NvcGUubWVyZ2VBY3Rpdml0aWVzKHJlc3VsdC5kYXRhLCBzY29wZS5hY3Rpdml0aWVzKTtcblx0XHR9KTtcblx0fTtcblxuXHR0aGlzLm9uQ3JlYXRlID0gZnVuY3Rpb24oKSB7XG5cbiAgICAgICAgLy9tb2RpZmllZCBmcm9tIG1pdGNoJ3MgY29kZS5cbiAgICAgICAgLy9Vc2luZyBwYWdlIG51bWJlciwgaW5zdGVhZCBvZiBhIGRhdGUsIHRvIGdldCBhY3Rpdml0aWVzXG5cdFx0dGhpcy5nZXRBY3Rpdml0aWVzKHtcIlBhZ2VcIjpwYWdlTnVtYmVyLFwiUGFnZVNpemVcIjpwYWdlU2l6ZX0pLnRoZW4oZnVuY3Rpb24ocmVzdWx0KSB7XG5cdFx0Ly90aGlzLmdldEFjdGl2aXRpZXMoe1wiU3RhcnRpbmdEdEJlZ2luXCI6XCIyMDE1LTA4LTA3VDE3OjAwOjAwXCIsIFwiU3RhcnRpbmdEdEVuZFwiOlwiOTk5OS0xMi0yOVQxNzowMDowMFwifSkudGhlbihmdW5jdGlvbihyZXN1bHQpIHtcblx0XHRcdGNvbnNvbGUubG9nKHJlc3VsdCk7XG5cdFx0XHRzY29wZS5hY3Rpdml0aWVzID0gc2NvcGUubWVyZ2VBY3Rpdml0aWVzKHJlc3VsdC5kYXRhLCBzY29wZS5hY3Rpdml0aWVzKTtcblx0XHR9KTtcblx0fTtcblx0dGhpcy5ib29rV29ya3Nob3AgPSBmdW5jdGlvbih3b3Jrc2hvcElkLCBzdHVkZW50SWQpIHtcblx0XHQvL0NyZWF0ZSBhIG5pY2UgbW9kZWwgdG8gc2VuZCB0byB0aGUgREJcblx0XHQvLyBUaGlzIG1ldGhvZCBjb3VsZCBiZSBwb3J0ZWQgdG8gVG9tbSdzIG1vZGVsIHRiaFxuXHRcdHZhciB3b3Jrc2hvcEJvb2tpbmcgPSBXb3Jrc2hvcEJvb2tpbmcuY3JlYXRlKG51bGwsIHdvcmtzaG9wSWQsIHN0dWRlbnRJZCwgbnVsbCwgc3R1ZGVudElkLCBudWxsKTtcblx0XHRyZXR1cm4gQXBpTWV0aG9kcy5wb3N0UmVzb3VyY2VXaXRoUGFyYW1zSW5VcmkoZW5kcG9pbnRfY29uc3RhbnRzLkJPT0tfU0VTU0lPTl9VUkksIHdvcmtzaG9wQm9va2luZykudGhlbihmdW5jdGlvbiBzdWNjZXNzKHJlc3BvbnNlKSB7XG5cdFx0XHRpZiAocmVzcG9uc2UuZGF0YS5Jc1N1Y2Nlc3MpIHtcblx0XHRcdFx0cmV0dXJuIHRydWU7XG5cdFx0XHR9XG5cdFx0XHRlbHNlIHtcblx0XHRcdFx0JHJvb3RTY29wZS4kYnJvYWRjYXN0KEVSUl9CUk9BRENBU1RTLkFQSV9FUlJPUiwgcmVzcG9uc2UuZGF0YS5EaXNwbGF5TWVzc2FnZSk7XG5cdFx0XHRcdHJldHVybiBmYWxzZTtcblx0XHRcdH1cblx0XHR9LCBmdW5jdGlvbiBmYWlsdXJlKGVycm9yKSB7XG5cdFx0XHQvLyBCaXQgb2YgZXJyb3IgaGFuZGxpbmdcblx0XHRcdCRyb290U2NvcGUuJGJyb2FkY2FzdChFUlJfQlJPQURDQVNUUy5BUElfRVJST1IsIFwiRXJyb3IgZW5jb3VudGVyZWQgd2hpbHN0IHRyeWluZyB0byBjcmVhdGUgeW91ciBib29raW5nLiBQbGVhc2UgdHJ5IGFnYWluIGFuZCBpZiBpc3N1ZXMgcGVyc2lzdCBjb250YWN0IFVUUyBIRUxQUy5cIik7XG5cdFx0fSk7XG5cdH07XG5cdHRoaXMub25DcmVhdGUoKTtcbn1dKVxuXG5cblxuXG5cbi5zZXJ2aWNlKCdTZXNzaW9uJywgW2Z1bmN0aW9uICgpIHtcblx0dGhpcy5jcmVhdGUgPSBmdW5jdGlvbiAoc2Vzc2lvbklkLCB1c2VySWQsIHVzZXJuYW1lLCB1c2VyUm9sZSkge1xuXG5cdFx0dGhpcy5pZCA9IHNlc3Npb25JZDtcblx0XHR0aGlzLnVzZXJJZCA9IHVzZXJJZDtcblx0XHR0aGlzLnVzZXJuYW1lID0gdXNlcm5hbWU7XG5cdFx0dGhpcy51c2VyUm9sZSA9IHVzZXJSb2xlO1xuXHR9O1xuXHRcblx0dGhpcy5kZXN0cm95ID0gZnVuY3Rpb24oKSB7XG5cdFx0dGhpcy5pZCA9IG51bGw7XG5cdFx0dGhpcy51c2VySWQgPSBudWxsO1xuXHRcdHRoaXMudXNlcm5hbWUgPSBudWxsO1xuXHRcdHRoaXMudXNlclJvbGUgPSBudWxsO1xuXHR9O1xufV0pO1xuIiwiJ3VzZSBzdHJpY3QnO1xuXG5hbmd1bGFyLm1vZHVsZSgnaGVscHNNb2RlbHNTZXJ2aWNlcycsIFtdKVxuLmZhY3RvcnkoJ1VzZXInLCBmdW5jdGlvbiAoKXtcblx0dmFyIHVzZXIgPSB7fTtcblx0dXNlci5jcmVhdGUgPSBmdW5jdGlvbih1c2VySWQsIHN0dWRlbnRJZCwgbmFtZSwgcGFzc3dvcmQpIHtcblx0XHRyZXR1cm4ge1xuXHRcdFx0XCJ1c2VySWRcIjp1c2VySWQsXG5cdFx0XHRcInN0dWRlbnRJZFwiOnN0dWRlbnRJZCxcblx0XHRcdFwibmFtZVwiOm5hbWUsXG5cdFx0XHRcInBhc3N3b3JkXCI6cGFzc3dvcmRcblx0XHR9O1xuXHR9XG5cdHJldHVybiB1c2VyO1xufSlcblxuLmZhY3RvcnkoJ1N0dWRlbnQnLCBmdW5jdGlvbiAoKSB7XG5cdHZhciBzdHVkZW50ID0ge307XG5cblx0c3R1ZGVudC5jcmVhdGUgPSBmdW5jdGlvbiAoc3R1ZGVudElkLCBjcmVhdG9ySWQsIGRvYiwgZ2VuZGVyLCBkZWdyZWUsIHN0YXR1cywgXG5cdFx0Zmlyc3RMYW5ndWFnZSwgY291bnRyeU9mT3JpZ2luLCBiYWNrZ3JvdW5kLCBkZWdyZWVEZXRhaWxzLCBhbHRDb250YWN0LFxuXHRcdEhTQywgSFNDTWFya3MsIElFTFRTLCBJRUxUU01hcmtzLCBUT0VMRiwgVE9FTEZNYXJrcywgVEFGRSxcblx0XHRUQUZFTWFya3MsIENVTFQsIENVTFRNYXJrcywgaW5zZWFyY2hERUVQLCBpbnNlYXJjaERFRVBNYXJrcyxcblx0XHRpbnNlYXJjaERpcGxvbWEsIGluc2VhcmNoRGlwbG9tYU1hcmtzLCBmb3VuZGF0aW9uQ291cnNlLFxuXHRcdGZvdW5kYXRpb25Db3Vyc2VNYXJrcykge1xuXHRcdFx0cmV0dXJuIHtcblx0XHRcdFx0XCJzdHVkZW50SWRcIjpzdHVkZW50SWQsIFxuXHRcdFx0XHRcImNyZWF0b3JJZFwiOiBjcmVhdG9ySWQsIFxuXHRcdFx0XHRcImRvYlwiOiBkb2IsIFxuXHRcdFx0XHRcImdlbmRlclwiOiBnZW5kZXIsIFxuXHRcdFx0XHRcImRlZ3JlZVwiOiBkZWdyZWUsIFxuXHRcdFx0XHRcInN0YXR1c1wiOiBzdGF0dXMsXG5cdFx0XHRcdFwiZmlyc3RMYW5ndWFnZVwiOiBmaXJzdExhbmd1YWdlLCBcblx0XHRcdFx0XCJjb3VudHJ5T2ZPcmlnaW5cIjogY291bnRyeU9mT3JpZ2luLCBcblx0XHRcdFx0XCJiYWNrZ3JvdW5kXCI6IGJhY2tncm91bmQsIFxuXHRcdFx0XHRcImRlZ3JlZURldGFpbHNcIjogZGVncmVlRGV0YWlscywgXG5cdFx0XHRcdFwiYWx0Q29udGFjdFwiOiBhbHRDb250YWN0LFxuXHRcdFx0XHRcIkhTQ1wiOiBIU0MsIFxuXHRcdFx0XHRcIkhTQ01hcmtzXCI6IEhTQ01hcmtzLCBcblx0XHRcdFx0XCJJRUxUU1wiOiBJRUxUUywgXG5cdFx0XHRcdFwiSUVMVFNNYXJrc1wiOiBJRUxUU01hcmtzLCBcblx0XHRcdFx0XCJUT0VMRlwiOiBUT0VMRiwgXG5cdFx0XHRcdFwiVE9FTEZNYXJrc1wiOiBUT0VMRk1hcmtzLCBcblx0XHRcdFx0XCJUQUZFXCI6IFRBRkUsXG5cdFx0XHRcdFwiVEFGRU1hcmtzXCI6IFRBRkVNYXJrcywgXG5cdFx0XHRcdFwiQ1VMVFwiOiBDVUxULCBcblx0XHRcdFx0XCJDVUxUTWFya3NcIjogQ1VMVE1hcmtzLCBcblx0XHRcdFx0XCJpbnNlYXJjaERFRVBcIjogaW5zZWFyY2hERUVQLCBcblx0XHRcdFx0XCJpbnNlYXJjaERFRVBNYXJrc1wiOiBpbnNlYXJjaERFRVBNYXJrcyxcblx0XHRcdFx0XCJpbnNlYXJjaERpcGxvbWFcIjogaW5zZWFyY2hEaXBsb21hLFxuXHRcdFx0XHRcImluc2VhcmNoRGlwbG9tYU1hcmtzXCI6IGluc2VhcmNoRGlwbG9tYU1hcmtzLCBcblx0XHRcdFx0XCJmb3VuZGF0aW9uQ291cnNlXCI6IGZvdW5kYXRpb25Db3Vyc2UsXG5cdFx0XHRcdFwiZm91bmRhdGlvbkNvdXJzZU1hcmtzXCI6IGZvdW5kYXRpb25Db3Vyc2VNYXJrc1xuXHRcdFx0fTtcblx0XHR9O1xuXHRyZXR1cm4gc3R1ZGVudDtcbn0pXG5cbi5mYWN0b3J5KCdDYW1wdXMnLCBmdW5jdGlvbigpIHtcblx0dmFyIGNhbXB1cyA9IHt9O1xuXHRjYW1wdXMuY3JlYXRlID0gZnVuY3Rpb24gKGNhbXB1c0lkLCBjYW1wdXNJbmZvLCBhcmNoaXZlZCkge1xuXHRcdHJldHVybiB7XG5cdFx0XHRcImNhbXB1c0lkXCI6IGNhbXB1c0lkLFxuXHRcdFx0XCJjYW1wdXNJbmZvXCI6IGNhbXB1c0luZm8sXG5cdFx0XHRcImFyY2hpdmVkXCI6IGFyY2hpdmVkXG5cdFx0fTtcblx0fTtcblx0XG5cdHJldHVybiBjYW1wdXM7XG59KVxuXG4uZmFjdG9yeSgnV29ya3Nob3AnLCBmdW5jdGlvbigpIHtcblx0dmFyIHdvcmtzaG9wID0ge307XG5cdFxuXHR3b3Jrc2hvcC5jcmVhdGUgPSBmdW5jdGlvbiAod29ya3Nob3BJZCwgd29ya3Nob3BTZXRJZCwgXG5cdFx0Y2FtcHVzSWQsIHRvcGljLCBzdGFydERhdGUsIGVuZERhdGUsIGRlc2NyaXB0aW9uLFxuXHRcdHRhcmdldGluZ0dyb3VwLCBtYXhpbXVtLCBjdXRvZmYsIHR5cGUsIHJlbWluZGVyTnVtLFxuXHRcdHJlbWluZGVyU2VudCwgZGF5c09mV2VlaywgYm9va2luZ0NvdW50LCBhcmNoaXZlZCkge1xuXHRcdHJldHVybiB7XG5cdFx0XHRcIndvcmtzaG9wSWRcIjogd29ya3Nob3BJZCwgXG5cdFx0XHRcIndvcmtzaG9wU2V0SWRcIjogd29ya3Nob3BTZXRJZCwgXG5cdFx0XHRcImNhbXB1c0lkXCI6IGNhbXB1c0lkLCBcblx0XHRcdFwidG9waWNcIjogdG9waWMsIFxuXHRcdFx0XCJzdGFydERhdGVcIjogc3RhcnREYXRlLCBcblx0XHRcdFwiZW5kRGF0ZVwiOiBlbmREYXRlLCBcblx0XHRcdFwiZGVzY3JpcHRpb25cIjogZGVzY3JpcHRpb24sXG5cdFx0XHRcInRhcmdldGluZ0dyb3VwXCI6IHRhcmdldGluZ0dyb3VwLCBcblx0XHRcdFwibWF4aW11bVwiOiBtYXhpbXVtLCBcblx0XHRcdFwiY3V0b2ZmXCI6IGN1dG9mZiwgXG5cdFx0XHRcInR5cGVcIjogdHlwZSwgXG5cdFx0XHRcInJlbWluZGVyTnVtXCI6IHJlbWluZGVyTnVtLFxuXHRcdFx0XCJyZW1pbmRlclNlbnRcIjogcmVtaW5kZXJTZW50LCBcblx0XHRcdFwiZGF5c09mV2Vla1wiOiBkYXlzT2ZXZWVrLCBcblx0XHRcdFwiYm9va2luZ0NvdW50XCI6IGJvb2tpbmdDb3VudCwgXG5cdFx0XHRcImFyY2hpdmVkXCI6IGFyY2hpdmVkXG5cdFx0fTtcblx0fTtcblx0XG5cdHJldHVybiB3b3Jrc2hvcDtcbn0pXG5cbi5mYWN0b3J5KCdXb3Jrc2hvcFNldCcsIGZ1bmN0aW9uICgpIHtcblx0dmFyIHdvcmtzaG9wU2V0ID0ge307XG5cdHdvcmtzaG9wU2V0LmNyZWF0ZSA9IGZ1bmN0aW9uICh3b3Jrc2hvcFNldElkLCBjYW1wdXNJZCwgbmFtZSwgYXJjaGl2ZWQpe1xuXHRcdHJldHVybiB7XG5cdFx0XHRcIndvcmtzaG9wU2V0SWRcIjogd29ya3Nob3BTZXRJZCxcblx0XHRcdFwiY2FtcHVzSWRcIjogY2FtcHVzSWQsXG5cdFx0XHRcIm5hbWVcIjogbmFtZSxcblx0XHRcdFwiYXJjaGl2ZWRcIjogYXJjaGl2ZWRcblx0XHR9O1xuXHR9O1xuXHRyZXR1cm4gd29ya3Nob3BTZXQ7XG59KVxuXG4uZmFjdG9yeSgnV29ya3Nob3BXYWl0aW5nJywgZnVuY3Rpb24gKCkge1xuXHR2YXIgd29ya3Nob3BXYWl0aW5nID0ge307XG5cblx0d29ya3Nob3BXYWl0aW5nLmNyZWF0ZSA9IGZ1bmN0aW9uICh3b3Jrc2hvcFdhaXRpbmdJZCwgd29ya3Nob3BJZCwgc3R1ZGVudElkLCB1c2VySWQpIHtcblx0XHRyZXR1cm4ge1xuXHRcdFx0XCJ3b3Jrc2hvcFdhaXRpbmdJZFwiOiB3b3Jrc2hvcFdhaXRpbmdJZCxcblx0XHRcdFwid29ya3Nob3BJZFwiOiB3b3Jrc2hvcElkLFxuXHRcdFx0XCJzdHVkZW50SWRcIjogc3R1ZGVudElkLFxuXHRcdFx0XCJ1c2VySWRcIjogdXNlcklkXG5cdFx0fTtcblx0fTtcblx0cmV0dXJuIHdvcmtzaG9wV2FpdGluZztcbn0pXG5cbi5mYWN0b3J5KCdXb3Jrc2hvcEJvb2tpbmcnLCBmdW5jdGlvbiAoKSB7XG5cdHZhciB3b3Jrc2hvcEJvb2tpbmcgPSB7fTtcblx0d29ya3Nob3BCb29raW5nLmNyZWF0ZSA9IGZ1bmN0aW9uICh3b3Jrc2hvcEJvb2tpbmdJZCwgd29ya3Nob3BJZCwgc3R1ZGVudElkLCB3b3Jrc2hvcFNldElkLCB1c2VySWQsIGlzQWN0aXZlKSB7XG5cdFx0cmV0dXJuIHtcblx0XHRcdFwid29ya3Nob3BCb29raW5nSWRcIjp3b3Jrc2hvcEJvb2tpbmdJZCwgXG5cdFx0XHRcIndvcmtzaG9wSWRcIjogd29ya3Nob3BJZCwgXG5cdFx0XHRcInN0dWRlbnRJZFwiOiBzdHVkZW50SWQsIFxuXHRcdFx0XCJ3b3Jrc2hvcFNldElkXCI6IHdvcmtzaG9wU2V0SWQsIFxuXHRcdFx0XCJ1c2VySWRcIjogdXNlcklkLCBcblx0XHRcdFwiaXNBY3RpdmVcIjogaXNBY3RpdmVcblx0XHR9O1xuXHR9O1xuXHRyZXR1cm4gd29ya3Nob3BCb29raW5nO1xufSlcblxuLmZhY3RvcnkoJ1Nlc3Npb24nLCBmdW5jdGlvbiAoKSB7XG5cdHZhciBzZXNzaW9uID0ge307XG5cdHNlc3Npb24uY3JlYXRlID0gZnVuY3Rpb24gKHNlc3Npb25JZCwgc2Vzc2lvblR5cGVJZCwgY2FtcHVzSWQsIGxlY3R1cmVySWQsIHN0YXJ0RGF0ZSwgZW5kRGF0ZSwgaXNBY3RpdmUpIHtcblx0XHRyZXR1cm4ge1xuXHRcdFx0XCJzZXNzaW9uSWRcIjogc2Vzc2lvbklkLFxuXHRcdFx0XCJzZXNzaW9uVHlwZUlkXCI6IHNlc3Npb25UeXBlSWQsXG5cdFx0XHRcImNhbXB1c0lkXCI6IGNhbXB1c0lkLFxuXHRcdFx0XCJsZWN0dXJlcklkXCI6IGxlY3R1cmVySWQsXG5cdFx0XHRcInN0YXJ0RGF0ZVwiOiBzdGFydERhdGUsXG5cdFx0XHRcImVuZERhdGVcIjogZW5kRGF0ZSxcblx0XHRcdFwiaXNBY3RpdmVcIjogaXNBY3RpdmVcblx0XHRcdH07XG5cdH07XG5cdHJldHVybiBzZXNzaW9uO1xufSlcblxuLmZhY3RvcnkoJ1Nlc3Npb25UeXBlJywgZnVuY3Rpb24gKCl7XG5cdHZhciB0eXBlID0ge307XG5cdHR5cGUuY3JlYXRlID0gZnVuY3Rpb24oc2Vzc2lvblR5cGVJZCwgYWJiTmFtZSwgZnVsbE5hbWUsIGlzQ3VycmVudCwgaXNBY3RpdmUpIHtcblx0XHRyZXR1cm4ge1xuXHRcdFx0XCJzZXNzaW9uVHlwZUlkXCI6IHNlc3Npb25UeXBlSWQsXG5cdFx0XHRcImFiYk5hbWVcIjogYWJiTmFtZSxcblx0XHRcdFwiZnVsbE5hbWVcIjogZnVsbE5hbWUsXG5cdFx0XHRcImlzQ3VycmVudFwiOiBpc0N1cnJlbnQsXG5cdFx0XHRcImlzQWN0aXZlXCI6IGlzQWN0aXZlXG5cdFx0fTtcblx0fTtcblx0cmV0dXJuIHR5cGU7XG59KVxuXG4uZmFjdG9yeSgnU2Vzc2lvbkJvb2tpbmcnLCBmdW5jdGlvbigpIHtcblx0dmFyIHNlc3Npb25Cb29raW5nID0ge307XG5cdHNlc3Npb25Cb29raW5nLmNyZWF0ZSA9IGZ1bmN0aW9uKHNlc3Npb25JZCwgYm9va2luZ0lkLCBzdHVkZW50SWQsIHVzZXJJZCwgaXNDYW5jZWxlZCwgYXNzaXN0YW5jZSwgcmVhc29uLCBhdHRlbmRlZCwgd2FpdGluZ0lkLCBpc0dyb3VwLCBudW1QZW9wbGUsIGxlY3R1cmVyQ29tbWVudCwgbGVhcm5pbmdJc3N1ZXNJZCwgaXNMb2NrZWQsIGFzc2lnblR5cGUsIGFzc2lnblR5cGVPdGhlciwgc3ViamVjdCwgYXBwb2ludG1lbnRzLCBhcHBvaW50bWVudHNPdGhlciwgYXNzaXN0YW5jZVRleHQsIGFyY2hpdmVkKSB7XG5cdFx0cmV0dXJuIHtcblx0XHRcdFwic2Vzc2lvbklkXCI6IHNlc3Npb25JZCwgXG5cdFx0XHRcImJvb2tpbmdJZFwiOiBib29raW5nSWQsIFxuXHRcdFx0XCJzdHVkZW50SWRcIjogc3R1ZGVudElkLCBcblx0XHRcdFwidXNlcklkXCI6IHVzZXJJZCwgXG5cdFx0XHRcImlzQ2FuY2VsZWRcIjogaXNDYW5jZWxlZCwgXG5cdFx0XHRcImFzc2lzdGFuY2VcIjogYXNzaXN0YW5jZSwgXG5cdFx0XHRcInJlYXNvblwiOiByZWFzb24sIFxuXHRcdFx0XCJhdHRlbmRlZFwiOiBhdHRlbmRlZCwgXG5cdFx0XHRcIndhaXRpbmdJZFwiOiB3YWl0aW5nSWQsIFxuXHRcdFx0XCJpc0dyb3VwXCI6IGlzR3JvdXAsIFxuXHRcdFx0XCJudW1QZW9wbGVcIjogbnVtUGVvcGxlLCBcblx0XHRcdFwibGVjdHVyZXJDb21tZW50XCI6IGxlY3R1cmVyQ29tbWVudCwgXG5cdFx0XHRcImxlYXJuaW5nSXNzdWVzSWRcIjogbGVhcm5pbmdJc3N1ZXNJZCwgXG5cdFx0XHRcImlzTG9ja2VkXCI6IGlzTG9ja2VkLCBcblx0XHRcdFwiYXNzaWduVHlwZVwiOiBhc3NpZ25UeXBlLCBcblx0XHRcdFwiYXNzaWduVHlwZU90aGVyXCI6IGFzc2lnblR5cGVPdGhlciwgXG5cdFx0XHRcInN1YmplY3RcIjogc3ViamVjdCwgXG5cdFx0XHRcImFwcG9pbnRtZW50c1wiOiBhcHBvaW50bWVudHMsIFxuXHRcdFx0XCJhcHBvaW50bWVudHNPdGhlclwiOiBhcHBvaW50bWVudHNPdGhlciwgXG5cdFx0XHRcImFzc2lzdGFuY2VUZXh0XCI6IGFzc2lzdGFuY2VUZXh0LCBcblx0XHRcdFwiYXJjaGl2ZWRcIjogYXJjaGl2ZWRcblx0XHR9O1xuXHR9O1xuXHRyZXR1cm4gc2Vzc2lvbkJvb2tpbmc7XG59KVxuXG4uZmFjdG9yeSgnV2FpdGluZycsIGZ1bmN0aW9uKCkge1xuXHR2YXIgd2FpdCA9IHt9O1xuXHR3YWl0LmNyZWF0ZSA9IGZ1bmN0aW9uKHdhaXRpbmdJZCwgc3R1ZGVudElkLCBib29raW5nSWQsIHdhaXRpbmdMaXN0SWQpIHtcblx0XHRyZXR1cm4ge1xuXHRcdFx0XCJ3YWl0aW5nSWRcIjogd2FpdGluZ0lkLFxuXHRcdFx0XCJzdHVkZW50SWRcIjogc3R1ZGVudElkLFxuXHRcdFx0XCJib29raW5nSWRcIjogYm9va2luZ0lkLFxuXHRcdFx0XCJ3YWl0aW5nTGlzdFwiOiB3YWl0aW5nTGlzdElkXG5cdFx0fTtcblx0fTtcblx0cmV0dXJuIHdhaXQ7XG59KVxuXG4uZmFjdG9yeSgnV2FpdGluZ0xpc3QnLCBmdW5jdGlvbigpIHsgXG5cdHZhciB3YWl0aW5nTGlzdCA9IHt9O1xuXHR3YWl0aW5nTGlzdC5jcmVhdGUgPSBmdW5jdGlvbiAod2FpdGluZ0xpc3RJZCwgd29ya3Nob3BJZCwgbnVtYmVySW5MaXN0KSB7XG5cdFx0cmV0dXJuIHtcblx0XHRcdFwid2FpdGluZ0xpc3RJZFwiOiB3YWl0aW5nTGlzdElkLFxuXHRcdFx0XCJ3b3Jrc2hvcElkXCI6IHdvcmtzaG9wSWQsXG5cdFx0XHRcIm51bWJlckluTGlzdFwiOiBudW1iZXJJbkxpc3Rcblx0XHR9O1xuXHR9O1xuXHRyZXR1cm4gd2FpdGluZ0xpc3Q7XG59KVxuXG4uZmFjdG9yeSgnTm90aWZpY2F0aW9uJywgZnVuY3Rpb24oKSB7XG5cdHZhciBub3RpZmljYXRpb24gPSB7fTtcblx0bm90aWZpY2F0aW9uLmNyZWF0ZSA9IGZ1bmN0aW9uKG5vdGlmaWNhdGlvbklkLCBzdHVkZW50SWQsIHdvcmtzaG9wSWQsIG5vdGlmeVRpbWUsIGhvdXJzQWhlYWQsIG5vdGlmaWNhdGlvblR5cGVJZCkge1xuXHRcdHJldHVybiB7XG5cdFx0XHRcIm5vdGlmaWNhdGlvbklkXCI6IG5vdGlmaWNhdGlvbklkLFxuXHRcdFx0XCJzdHVkZW50SWRcIjogc3R1ZGVudElkLFxuXHRcdFx0XCJ3b3Jrc2hvcElkXCI6IHdvcmtzaG9wSWQsXG5cdFx0XHRcIm5vdGlmeVRpbWVcIjogbm90aWZ5VGltZSxcblx0XHRcdFwiaG91cnNBaGVhZFwiOiBob3Vyc0FoZWFkLFxuXHRcdFx0XCJub3RpZmljYXRpb25UeXBlSWRcIjogbm90aWZpY2F0aW9uVHlwZUlkLFxuXHRcdH07XG5cdH07XHRcblx0cmV0dXJuIG5vdGlmaWNhdGlvbjtcbn0pXG5cbi5mYWN0b3J5KCdOb3RpZmljYXRpb25UeXBlJywgZnVuY3Rpb24oKSB7XG5cdHZhciBub3RpZmljYXRpb25UeXBlID0ge307XG5cdG5vdGlmaWNhdGlvblR5cGUuY3JlYXRlID0gZnVuY3Rpb24obm90aWZpY2F0aW9uVHlwZUlkLCBhYmJOYW1lLCBmdWxsTmFtZSl7XG5cdFx0cmV0dXJuIHtcblx0XHRcdFwibm90aWZpY2F0aW9uVHlwZUlkXCI6IG5vdGlmaWNhdGlvblR5cGVJZCxcblx0XHRcdFwiYWJiTmFtZVwiOiBhYmJOYW1lLFxuXHRcdFx0XCJmdWxsTmFtZVwiOiBmdWxsTmFtZVxuXHRcdH07XG5cdH07XG5cdHJldHVybiBub3RpZmljYXRpb25UeXBlO1xufSkiLCIndXNlIHN0cmljdCc7XG5cbmFuZ3VsYXIubW9kdWxlKCd1dHNIZWxwcy5hdXRocycsIFsnbmdSb3V0ZScsICdoZWxwc1Jlc3RmdWxTZXJ2aWNlcycsICd1dHNIZWxwcy5jb25zdGFudHMnXSlcbi8vIFRoZXNlIGNvbnN0YW50cyBjYW4gYmUgaW5qZWN0ZWQgdmlhIEhlbHBzUmVzdGZ1bFNlcnZpY2VzXG4uZmFjdG9yeSgnQXV0aFNlcnZpY2UnLFsnJGh0dHAnLCAnU2Vzc2lvbicsICckcScsIGZ1bmN0aW9uICgkaHR0cCwgU2Vzc2lvbiwgJHEpIHtcblx0dmFyIGF1dGhTZXJ2aWNlID0ge307XG5cdGF1dGhTZXJ2aWNlLmxvZ2luRmFrZSA9IGZ1bmN0aW9uIChjcmVkZW50aWFscyl7XG5cdFx0cmV0dXJuICRxKGZ1bmN0aW9uKHJlc29sdmUsIHJlamVjdCkge1xuXHRcdFx0c2V0VGltZW91dChmdW5jdGlvbigpIHtcblx0XHRcdFx0aWYgKGNyZWRlbnRpYWxzLnVzZXJuYW1lID09PSAnbWJ1c2J5Jykge1xuXHRcdFx0XHRcdHJlamVjdChcIlVzZXIgaXMgdW5hdXRoZW50aWNhdGVkXCIpO1xuXHRcdFx0XHR9XG5cdFx0XHRcdGVsc2Uge1xuXHRcdFx0XHRcdFNlc3Npb24uY3JlYXRlKCcxJywgMTE4OTk4NTksIGNyZWRlbnRpYWxzLnVzZXJuYW1lLCAnVXNlcicpO1xuXHRcdFx0XHRcdHJlc29sdmUoY3JlZGVudGlhbHMudXNlcm5hbWUpO1xuXHRcdFx0XHR9XG5cdFx0XHR9LCAxMDAwKTtcblx0XHR9KTtcblx0fVxuXHRhdXRoU2VydmljZS5sb2dpbiA9IGZ1bmN0aW9uIChjcmVkZW50aWFscykge1xuXHRcdC8vIHRoaXMgd2lsbCBwcm9iYWJseSBuZWVkIHRvIGJlIHJld3JpdHRlbiB3aGVuIHJlYWwgbG9naW4gZnVuY3Rpb25hbGl0eSBcblx0XHQvLyBpcyBpbXBsZW1lbnRlZFxuXHRcdHJldHVybiAkaHR0cC5wb3N0KCcvJywgY3JlZGVudGlhbHMpXG5cdFx0LnRoZW4oZnVuY3Rpb24gKHJlcykgeyBcblx0XHRcdFNlc3Npb24uY3JlYXRlKHJlcy5kYXRhLmlkLCByZXMuZGF0YS51c2VyLmlkLFxuXHRcdFx0XHRyZXMuZGF0YS51c2VyLnJvbGUpO1xuXHRcdFx0cmV0dXJuIHJlcy5kYXRhLnVzZXI7XG5cdFx0fSk7XG5cdH07XG5cdFxuXHRhdXRoU2VydmljZS5pc0F1dGhlbnRpY2F0ZWQgPSBmdW5jdGlvbigpIHtcblx0XHRyZXR1cm4gISFTZXNzaW9uLnVzZXJJZDtcblx0fVxuXHRcblx0YXV0aFNlcnZpY2UuaXNBdXRob3JpemVkID0gZnVuY3Rpb24gKGF1dGhvcml6ZWRSb2xlcykge1xuXHRcdGlmICghYW5ndWxhci5pc0FycmF5KGF1dGhvcml6ZWRSb2xlcykpIHtcblx0XHRcdGF1dGhvcml6ZWRSb2xlcyA9IFthdXRob3JpemVkUm9sZXNdO1xuXHRcdH1cblx0XHRyZXR1cm4gKGF1dGhTZXJ2aWNlLmlzQXV0aGVudGljYXRlZCgpICYmIFxuXHRcdFx0YXV0aG9yaXplZFJvbGVzLmluZGV4T2YoU2Vzc2lvbi51c2VyUm9sZSkgIT09IC0xKTtcblx0fTtcblx0XG5cdGF1dGhTZXJ2aWNlLmxvZ291dCA9IGZ1bmN0aW9uKCkge1xuXHRcdC8vVGhpcyBpcyB5ZXQgdG8gYmUgZmlsbGVkIGluXG5cdFx0U2Vzc2lvbi5kZXN0cm95KCk7XG5cdH1cblxuXHRhdXRoU2VydmljZS5sb2dvdXRGYWtlID0gZnVuY3Rpb24oKSB7XG5cdFx0U2Vzc2lvbi5kZXN0cm95KCk7XG5cdFx0cmV0dXJuICRxKGZ1bmN0aW9uKHJlc29sdmUsIHJlamVjdCkge1xuXHRcdFx0c2V0VGltZW91dChmdW5jdGlvbigpIHtcblx0XHRcdFx0aWYgKHRydWUpIHtyZXR1cm4gcmVzb2x2ZSgpO31cblx0XHRcdFx0ZWxzZSB7cmV0dXJuIHJlamVjdCgpO31cblx0XHRcdH0pXG5cdFx0fSk7XG5cdH1cblxuXHRyZXR1cm4gYXV0aFNlcnZpY2U7XG59XSlcbi8vVGhlcmUgdXNlZCB0byBiZSBhIHNlcnZpY2UgaW4gaGVyZSBidXQgaXQgc2hvdWxkIGJlIGluamVjdGVkIGZyb20gdGhlIHJlc3RmdWwgXG4vL3NlcnZpY2VzXG4uZmFjdG9yeSgnQXV0aEludGVyY2VwdG9yJywgWyckcm9vdFNjb3BlJywgJyRxJywgJ0FVVEhfRVZFTlRTJywgZnVuY3Rpb24gKCRyb290U2NvcGUsICRxLCBBVVRIX0VWRU5UUyl7XG5cdHJldHVybiB7XG5cdFx0cmVzcG9uc2VFcnJvcjogZnVuY3Rpb24gKHJlc3BvbnNlKSB7XG5cdFx0XHQkcm9vdFNjb3BlLiRicm9hZGNhc3Qoe1xuXHRcdFx0XHQ0MDE6IEFVVEhfRVZFTlRTLm5vdEF1dGhlbnRpY2F0ZWQsXG5cdFx0XHRcdDQwMzogQVVUSF9FVkVOVFMubm90QXV0aG9yaXplZCxcblx0XHRcdFx0NDE5OiBBVVRIX0VWRU5UUy5zZXNzaW9uVGltZW91dCxcblx0XHRcdFx0NDQwOiBBVVRIX0VWRU5UUy5zZXNzaW9uVGltZW91dFxuXHRcdFx0fVtyZXNwb25zZS5zdGF0dXNdLCByZXNwb25zZSk7XG5cdFx0XHRyZXR1cm4gJHEucmVqZWN0KHJlc3BvbnNlKTtcblx0XHR9XG5cdH1cbn1dKTsiLCIndXNlIHN0cmljdCc7XG5cbmFuZ3VsYXIubW9kdWxlKCd1dHNIZWxwcy5leGFtcGxlJywgWyduZ1JvdXRlJ10pXG5cbi5jb25maWcoWyckcm91dGVQcm92aWRlcicsIGZ1bmN0aW9uKCRyb3V0ZVByb3ZpZGVyKSB7XG5cdCRyb3V0ZVByb3ZpZGVyLndoZW4oJy9leGFtcGxlJywge1xuXHRcdHRlbXBsYXRlVXJsOiAndmlld3MvZXhhbXBsZVZpZXcuaHRtbCcsXG5cdFx0Y29udHJvbGxlcjogJ2V4YW1wbGVDdHJsJ1xuXHR9KTtcbn1dKVxuXG4uY29udHJvbGxlcignZXhhbXBsZUN0cmwnLCBbJyRzY29wZScsICdBbGVydEJhbm5lcicsIGZ1bmN0aW9uKCRzY29wZSwgQWxlcnRCYW5uZXIpIHtcblx0JHNjb3BlLmdsb2JhbHMucGFnZVRpdGxlID0gXCJFeGFtcGxlIFZpZXdcIjtcbn1dKTsiLCIndXNlIHN0cmljdCc7XG5cbmFuZ3VsYXIubW9kdWxlKCd1dHNIZWxwcy5sb2dpbicsIFsnbmdSb3V0ZSddKVxuXG4uY29uZmlnKFsnJHJvdXRlUHJvdmlkZXInLCBmdW5jdGlvbigkcm91dGVQcm92aWRlcikge1xuXHQkcm91dGVQcm92aWRlci53aGVuKCcvbG9naW4nLCB7XG5cdFx0dGVtcGxhdGVVcmw6ICd2aWV3cy9sb2dpblZpZXcuaHRtbCcsXG5cdFx0Y29udHJvbGxlcjogJ2xvZ2luQ3RybCdcblx0fSk7XG59XSlcbi5jb250cm9sbGVyKCdsb2dpbkN0cmwnLCBbJyRzY29wZScsICckcm9vdFNjb3BlJywgJ0FVVEhfRVZFTlRTJywgJ0F1dGhTZXJ2aWNlJywgXG5cdGZ1bmN0aW9uKCRzY29wZSwgJHJvb3RTY29wZSwgQVVUSF9FVkVOVFMsIEF1dGhTZXJ2aWNlKSB7XG5cdFx0JHNjb3BlLmNyZWRlbnRpYWxzID0ge1xuXHRcdFx0dXNlcm5hbWU6ICcnLFxuXHRcdFx0cGFzc3dvcmQ6ICcnXG5cdFx0fTtcblx0XHQkc2NvcGUubG9naW5GYWlsZWQgPSBmYWxzZTtcblx0XHQkc2NvcGUubG9naW4gPSBmdW5jdGlvbiAoY3JlZGVudGlhbHMpIHtcblx0XHRcdEF1dGhTZXJ2aWNlLmxvZ2luRmFrZShjcmVkZW50aWFscykudGhlbihmdW5jdGlvbiAodXNlcikge1xuXHRcdFx0XHQkcm9vdFNjb3BlLiRicm9hZGNhc3QoQVVUSF9FVkVOVFMubG9naW5TdWNjZXNzKTtcblx0XHRcdFx0JHNjb3BlLnNldEN1cnJlbnRVc2VyKHVzZXIpO1xuXHRcdFx0fSwgZnVuY3Rpb24gKGVycikge1xuXHRcdFx0XHQkc2NvcGUubG9naW5GYWlsZWQgPSB0cnVlO1xuXHRcdFx0XHQkcm9vdFNjb3BlLiRicm9hZGNhc3QoQVVUSF9FVkVOVFMubG9naW5GYWlsZWQpO1xuXHRcdFx0fSk7XG5cdFx0fTtcblx0fV0pOyIsIid1c2Ugc3RyaWN0JztcblxuYW5ndWxhci5tb2R1bGUoJ3V0c0hlbHBzLlVwY29taW5nQWN0aXZpdGllcycsIFsndXRzSGVscHMuZGlyZWN0aXZlcycsICdoZWxwc1Jlc3RmdWxTZXJ2aWNlcycsICduZ1JvdXRlJywnaW5maW5pdGUtc2Nyb2xsJ10pXG4uY29uZmlnKFsnJHJvdXRlUHJvdmlkZXInLCBmdW5jdGlvbigkcm91dGVQcm92aWRlcil7XG5cdCRyb3V0ZVByb3ZpZGVyLndoZW4oJy91cGNvbWluZ0FjdGl2aXRpZXMnLCB7XG5cdFx0dGVtcGxhdGVVcmw6ICd2aWV3cy91cGNvbWluZ0FjdGl2aXRpZXNWaWV3Lmh0bWwnLFxuXHRcdGNvbnRyb2xsZXI6ICdVcGNvbWluZ0FjdGl2aXRpZXNDdHJsJ1xuXHR9KVxufV0pXG4uY29udHJvbGxlcignVXBjb21pbmdBY3Rpdml0aWVzQ3RybCcsIFsnJHNjb3BlJywgJ1VwY29taW5nQWN0aXZpdGllc01vZGVsJywgJ1Nlc3Npb24nLCAnQWxlcnRCYW5uZXInLCBmdW5jdGlvbigkc2NvcGUsIFVwY29taW5nQWN0aXZpdGllc01vZGVsLCBTZXNzaW9uLCBBbGVydEJhbm5lcil7XG5cdCRzY29wZS5nbG9iYWxzLnBhZ2VUaXRsZSA9IFwiVXBjb21pbmcgQWN0aXZpdGllc1wiO1xuXHQkc2NvcGUuVXBjb21pbmdBY3Rpdml0aWVzTW9kZWwgPSBVcGNvbWluZ0FjdGl2aXRpZXNNb2RlbDtcblx0JHNjb3BlLnNlbGVjdGVkV29ya3Nob3AgPSBudWxsO1xuXHQkc2NvcGUuY2xpY2tlZE9uQW5BY3Rpdml0eSA9IGZ1bmN0aW9uKGFjdGl2aXR5KSB7XG5cdFx0dmFyIGFjdGl2aXR5QXNTdHJpbmcgPSBKU09OLnN0cmluZ2lmeShhY3Rpdml0eSk7XG5cdFx0Zm9yICh2YXIgd29ya3Nob3BJZCBpbiAkc2NvcGUuVXBjb21pbmdBY3Rpdml0aWVzTW9kZWwuYWN0aXZpdGllcykge1xuXHRcdFx0aWYgKGFjdGl2aXR5QXNTdHJpbmcgPT09IEpTT04uc3RyaW5naWZ5KCRzY29wZS5VcGNvbWluZ0FjdGl2aXRpZXNNb2RlbC5hY3Rpdml0aWVzW3dvcmtzaG9wSWRdKSkge1xuXHRcdFx0XHRhY3Rpdml0eS5pc0V4cGFuZGVkPSFhY3Rpdml0eS5pc0V4cGFuZGVkO1xuXHRcdFx0fVxuXHRcdFx0ZWxzZSB7XG5cdFx0XHRcdCRzY29wZS5VcGNvbWluZ0FjdGl2aXRpZXNNb2RlbC5hY3Rpdml0aWVzW3dvcmtzaG9wSWRdLmlzRXhwYW5kZWQgPSBmYWxzZTtcblx0XHRcdH1cblx0XHR9XG5cdH07XG5cblx0JHNjb3BlLm9uVmlld01vcmUgPSBmdW5jdGlvbigpe1xuICAgICAgICAkc2NvcGUuVXBjb21pbmdBY3Rpdml0aWVzTW9kZWwuZ2V0TW9yZUFjdGl2aXRpZXMoKTtcblx0fTtcblxuXHQkc2NvcGUuYm9va1dvcmtzaG9wID0gZnVuY3Rpb24od29ya3Nob3ApIHtcblx0XHQvLyBQcmVwYXJlXG5cdFx0JHNjb3BlLnNlbGVjdGVkV29ya3Nob3AgPSB3b3Jrc2hvcDtcblx0XHQvLyBNYWtlIGl0IGFwcGVhclxuXHRcdCRzY29wZS4kYnJvYWRjYXN0KFwiU0hPV19DT05GSVJNX0RFTllcIik7XHRcdCBcblx0fTtcblxuXHQkc2NvcGUuY29uZmlybVdvcmtzaG9wID0gZnVuY3Rpb24oY29uZmlybWF0aW9uKSB7XG5cdFx0aWYgKGNvbmZpcm1hdGlvbikge1xuXHRcdFx0VXBjb21pbmdBY3Rpdml0aWVzTW9kZWwuYm9va1dvcmtzaG9wKCRzY29wZS5zZWxlY3RlZFdvcmtzaG9wLldvcmtzaG9wSWQsIFNlc3Npb24udXNlcklkKVxuXHRcdFx0LnRoZW4oZnVuY3Rpb24oc3VjY2Vzcykge1xuXHRcdFx0XHRpZiAoc3VjY2Vzcykge1xuXHRcdFx0XHRcdC8vIFRyaWdnZXIgYmFubmVyIHRvIHNheSBzdWNjZXNzZnVsIGJvb2tpbmcgbWFkZVxuXHRcdFx0XHRcdEFsZXJ0QmFubmVyLnB1Ymxpc2goe1xuXHRcdFx0XHRcdFx0dHlwZTogXCJzdWNjZXNzXCIsXG5cdFx0XHRcdFx0XHRtZXNzYWdlOiBcIlN1Y2Nlc3NmdWxseSBtYWRlIGEgYm9va2luZy5cIixcblx0XHRcdFx0XHRcdHRpbWVDb2xsYXBzZTogMzAwMFxuXHRcdFx0XHRcdH0pO1xuXHRcdFx0XHR9XG5cdFx0XHRcdGVsc2Uge1xuXHRcdFx0XHRcdC8vIERvbid0IHRyaWdnZXIgYSBiYW5uZXJcblx0XHRcdFx0fVxuXHRcdFx0fSk7XG5cdFx0fVxuXHRcdCRzY29wZS5zZWxlY3RlZFdvcmtzaG9wID0gbnVsbDtcblx0fVxuXG59XSk7IiwiYW5ndWxhci5tb2R1bGUoJ3V0c0hlbHBzLlVzZXJNZXNzYWdpbmdTZXJ2aWNlJywgWyd1dHNIZWxwcy5jb25zdGFudHMnLCAnYW5ndWxhci1hbGVydC1iYW5uZXInXSlcbi5zZXJ2aWNlKCdVc2VyTWVzc2FnaW5nU2VydmljZScsIFsnQWxlcnRCYW5uZXInLCAnJHJvb3RTY29wZScsICdFUlJfQlJPQURDQVNUUycsIFwiRXJyb3JSZWdpc3RyeVwiLCBmdW5jdGlvbihBbGVydEJhbm5lciwgJHJvb3RTY29wZSwgRVJSX0JST0FEQ0FTVFMsIEVycm9yUmVnaXN0cnkpe1xuXHR2YXIgc2NvcGUgPSB0aGlzO1xuXHR0aGlzLmVycm9yQWxlcnRCYW5uZXIgPSBmdW5jdGlvbihtZXNzYWdlKSB7XG5cdFx0QWxlcnRCYW5uZXIucHVibGlzaCh7XG5cdFx0XHR0eXBlOiBcImVycm9yXCIsXG5cdFx0XHRtZXNzYWdlOiBtZXNzYWdlLFxuXHRcdFx0dGltZUNvbGxhcHNlOiAzMDAwXG5cdFx0fSk7XG5cdH1cblx0JHJvb3RTY29wZS4kb24oRVJSX0JST0FEQ0FTVFMuQVBJX0VSUk9SLCBmdW5jdGlvbihlLCBlcnJfbXNnKSB7XG5cdFx0Y29uc29sZS5sb2coXCJBTEVSVCBCQU5ORVIgU0hPVUxEIEhBVkUgRklSRURcIik7XG5cdFx0dmFyIGZyaWVuZGx5RXJyb3IgPSBFcnJvclJlZ2lzdHJ5LnJldHJpZXZlRnJpZW5kbHlFcnJvcihlcnJfbXNnKTtcblx0XHRzY29wZS5lcnJvckFsZXJ0QmFubmVyKGZyaWVuZGx5RXJyb3IpO1xuXHR9KTtcblx0XG59XSlcbi5zZXJ2aWNlKCdFcnJvclJlZ2lzdHJ5JywgW2Z1bmN0aW9uKCkge1xuXHR0aGlzLmVycm9yRGljdGlvbmFyeSA9IHtcblx0XHRcIkVycm9yIGVuY291bnRlcmVkIHdoaWxzdCB0cnlpbmcgdG8gY3JlYXRlIHlvdXIgYm9va2luZy4gUGxlYXNlIHRyeSBhZ2FpbiBhbmQgaWYgaXNzdWVzIHBlcnNpc3QgY29udGFjdCBVVFMgSEVMUFMuXCI6XCJDb3VsZG4ndCBjcmVhdGUgYm9va2luZy5cIixcblx0XHRcIkVycm9yIGNyZWF0aW5nIHdvcmtzaG9wIGJvb2tpbmc6IEJvb2tpbmcgYWxyZWFkeSBleGlzdHMuXCI6XCJCb29raW5nIGFscmVhZHkgZXhpc3RzLlwiXG5cdH1cblx0dGhpcy5yZXRyaWV2ZUZyaWVuZGx5RXJyb3IgPSBmdW5jdGlvbihtZXNzYWdlKSB7XG5cdFx0aWYgKG1lc3NhZ2UgaW4gdGhpcy5lcnJvckRpY3Rpb25hcnkpIHtcblx0XHRcdHJldHVybiB0aGlzLmVycm9yRGljdGlvbmFyeVttZXNzYWdlXTtcblx0XHR9XG5cdFx0ZWxzZSB7XG5cdFx0XHRyZXR1cm4gXCJVbmtub3duIGVycm9yLiBDb250YWN0IFVUUyBJVEQuXCI7XG5cdFx0fVxuXHR9XG59XSkiLCJhbmd1bGFyLm1vZHVsZSgndXRzSGVscHMuY29uc3RhbnRzJywgW10pXG4uY29uc3RhbnQoJ0VSUl9CUk9BRENBU1RTJywge1xuXHRcIkFQSV9FUlJPUlwiOlwiQVBJX0VSUk9SXCJcbn0pXG4uY29uc3RhbnQoJ0FVVEhfRVZFTlRTJywge1xuXHRsb2dpblN1Y2Nlc3M6ICdhdXRoLWxvZ2luLXN1Y2VzcycsXG5cdGxvZ2luRmFpbGVkOiAnYXV0aC1sb2dpbi1mYWlsZWQnLFxuXHRsb2dvdXRTdWNjZXNzOiAnYXV0aC1sb2dvdXQtc3VjY2VzcycsXG5cdHNlc3Npb25UaW1lb3V0OiAnYXV0aC1zZXNzaW9uLXRpbWVvdXQnLFxuXHRub3RBdXRoZW50aWNhdGVkOiAnYXV0aC1ub3QtYXV0aGVudGljYXRlZCcsXG5cdG5vdEF1dGhvcml6ZWQ6ICdhdXRoLW5vdC1hdXRob3JpemVkJ1xufSlcbi5jb25zdGFudCgnVVNFUl9ST0xFUycsIHtcblx0YWxsOiAnKicsXG5cdGFkbWluOiAnYWRtaW4nLFxuXHRlZGl0b3I6ICdlZGl0b3InLFxuXHRndWVzdDogJ2d1ZXN0Jyxcblx0dXNlcjogJ3VzZXInXG59KVxuLmNvbnN0YW50KFwiaGVscHNfZW5kcG9pbnRfY29uc3RhbnRzXCIsIHtcblx0XCJFTkRQT0lOVF9VUklcIjpcImh0dHA6Ly9oZWxwc2hlcmUuY2xvdWRhcHAubmV0L2FwaVwiLFxuXHRcInBvcnRcIjpcIjgwXCIsXG5cdFwiQVBQX0tFWVwiOicxMjM0NTYnLFxuXHRcIkFDVElWSVRJRVNfVVJJXCI6XCIvd29ya3Nob3BcIixcblx0XCJTRUFSQ0hfVVJJXCI6XCIvc2VhcmNoXCIsXG5cdFwiQk9PS19TRVNTSU9OX1VSSVwiOlwiL3dvcmtzaG9wL2Jvb2tpbmcvY3JlYXRlXCJcbn0pOyJdLCJzb3VyY2VSb290IjoiL3NvdXJjZS8ifQ==
