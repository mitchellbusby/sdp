"use strict";angular.module("utsHelps",["ngRoute","utsHelps.auths","utsHelps.example","utsHelps.login","helpsRestfulServices","utsHelps.example","utsHelps.UpcomingActivities","angular.filter","ngAnimate","angular-loading-bar","utsHelps.constants","angular-alert-banner","utsHelps.UserMessagingService"]).config(["$routeProvider","cfpLoadingBarProvider","$httpProvider",function(e,t,n){e.otherwise({redirectTo:"/example"}),t.includeSpinner=!1,n.interceptors.push(["$injector",function(e){return e.get("AuthInterceptor")}])}]).config(["$provide",function(e){e.decorator("$exceptionHandler",["$delegate",function(e){return function(t,n){throw e(t,n),t}}])}]).run(["$rootScope","AUTH_EVENTS","AuthService","$location",function(e,t,n,o){console.log("Angular initialised!"),$(document).ready(function(){$(document).foundation({offcanvas:{close_on_click:!0}})}),$(document).on("open.fndtn.offcanvas","[data-offcanvas]",function(){$(this);$("#loading-bar").addClass("hide"),$("#loading-bar-spinner").addClass("hide")}),$(document).on("close.fndtn.offcanvas","[data-offcanvas]",function(){$(this);$("#loading-bar").removeClass("hide"),$("#loading-bar-spinner").addClass("hide")}),e.$on("$locationChangeStart",function(e,t,i){n.isAuthenticated()||"views/loginView.html"!=t.templateUrl&&o.path("/login")}),e.$on(t.loginSuccess,function(e){o.path("/example")}),e.$on(t.logoutSuccess,function(e){o.path("/login")})}]).controller("ApplicationController",["$scope","USER_ROLES","AuthService","ERR_BROADCASTS","AUTH_EVENTS","$rootScope","UserMessagingService",function(e,t,n,o,i,r,s){e.globals={pageTitle:"UTS HELPS"},e.err_message="",e.triggerCloseModal=function(){$("#uh-error-modal").foundation("reveal","close")},e.currentUser=null,e.userRoles=t,e.isAuthorized=n.isAuthorized,e.setCurrentUser=function(t){e.currentUser=t},e.logout=function(){n.logoutFake().then(function(){e.currentUser=null,r.$broadcast(i.logoutSuccess)},function(e){r.$broadcast(o.API_ERROR,e)})},e.isLoginPage=!0}]),angular.module("helpsRestfulServices",["utsHelps.constants","helpsModelsServices"]).config(["$sceDelegateProvider","helps_endpoint_constants",function(e,t){e.resourceUrlWhitelist(["self",t.ENDPOINT_URI+"/**"])}]).service("ApiMethods",["$http","helps_endpoint_constants","ERR_BROADCASTS","$rootScope","$q",function(e,t,n,o,i){this.createConfigObject=function(){var e={headers:{AppKey:t.APP_KEY}};return e},this.getResource=function(n,o){var i=this.createConfigObject();return i.params=o,e.get(t.ENDPOINT_URI+n,i)},this.getResourceFaked=function(e,n){var o;return e===t.ACTIVITIES_URI+t.SEARCH_URI?o={Results:[{WorkshopId:11,topic:"Planning and researching for an assignment",description:"“I have an assignment due soon, but I don’t know where and how to begin.",targetingGroup:"all students",campus:"CB02.05.32",StartDate:"2012-07-07T17:00:00",EndDate:"2012-07-07T18:00:00",maximum:45,WorkShopSetID:4,cutoff:null,type:"single",reminder_num:9999,reminder_sent:0,DaysOfWeek:null,BookingCount:44,archived:null},{WorkshopId:12,topic:"Planning and researching for an assignment",description:"“I have an assignment due soon, but I don’t know where and how to begin.",targetingGroup:"all students",campus:"CB02.05.32",StartDate:"2012-08-07T17:00:00",EndDate:"2012-08-07T18:00:00",maximum:45,WorkShopSetID:4,cutoff:null,type:"single",reminder_num:9999,reminder_sent:0,DaysOfWeek:null,BookingCount:44,archived:null},{WorkshopId:14,topic:"Planning and researching for an assignment",description:"“I have an assignment due soon, but I don’t know where and how to begin.",targetingGroup:"all students",campus:"CB02.05.32",StartDate:"2012-08-07T17:00:00",EndDate:"2012-08-07T18:00:00",maximum:45,WorkShopSetID:4,cutoff:null,type:"single",reminder_num:9999,reminder_sent:0,DaysOfWeek:null,BookingCount:45,archived:null},{WorkshopId:16,topic:"U:PASSwrite for 21129 Managing People & Organisations",description:"This workshop will empower you to write excellent essays and provide valuable support for the upcoming assignment.",targetingGroup:"all students",campus:"CB02.05.32",StartDate:"2012-09-07T17:00:00",EndDate:"2012-09-07T18:00:00",maximum:45,WorkShopSetID:5,cutoff:null,type:"single",reminder_num:9999,reminder_sent:0,DaysOfWeek:null,BookingCount:44,archived:null},{WorkshopId:16,topic:"U:PASSwrite for 21129 Managing People & Organisations",description:"This workshop will empower you to write excellent essays and provide valuable support for the upcoming assignment.",targetingGroup:"all students",campus:"CB02.05.32",StartDate:"2012-09-07T17:00:00",EndDate:"2012-09-07T18:00:00",maximum:45,WorkShopSetID:9,cutoff:null,type:"single",reminder_num:9999,reminder_sent:0,DaysOfWeek:null,BookingCount:44,archived:null},{WorkshopId:16,topic:"U:PASSwrite for 21129 Managing People & Organisations",description:"This workshop will empower you to write excellent essays and provide valuable support for the upcoming assignment.",targetingGroup:"all students",campus:"CB02.05.32",StartDate:"2012-09-07T17:00:00",EndDate:"2012-09-07T18:00:00",maximum:45,WorkShopSetID:10,cutoff:null,type:"single",reminder_num:9999,reminder_sent:0,DaysOfWeek:null,BookingCount:44,archived:null},{WorkshopId:16,topic:"U:PASSwrite for 21129 Managing People & Organisations",description:"This workshop will empower you to write excellent essays and provide valuable support for the upcoming assignment.",targetingGroup:"all students",campus:"CB02.05.32",StartDate:"2012-09-07T17:00:00",EndDate:"2012-09-07T18:00:00",maximum:45,WorkShopSetID:15,cutoff:null,type:"single",reminder_num:9999,reminder_sent:0,DaysOfWeek:null,BookingCount:44,archived:null}],IsSuccess:!0,DisplayMessage:null}:e!==t.BOOK_SESSION_URI||1!==n.WorkshopId&&11!==n.workshopId?e===t.BOOK_SESSION_URI?o={IsSuccess:!0,DisplayMessage:""}:(console.log("Resource not faked"),o=null):o={IsSuccess:!1,DisplayMessage:"Error encountered whilst trying to create your booking. Please try again and if issues persist contact UTS HELPS."},i(function(e,t){setTimeout(function(){o?e({data:o}):t({data:o})},1e3)})},this.transformParams=function(e){try{return void 0===e?e:$.param(e)}catch(t){return e}},this.postResource=function(n,o){var i=this.createConfigObject();return i.params=o,e.post(t.ENDPOINT_URI+n,i)},this.postResourceWithParamsInUri=function(n,o){var i=this.createConfigObject(),r=this.transformParams(o);return e({url:t.ENDPOINT_URI+n+"?"+r,method:"POST",headers:i.headers})}}]).service("UpcomingActivitiesModel",["$http","helps_endpoint_constants","ERR_BROADCASTS","$rootScope","ApiMethods","WorkshopBooking","AlertBanner",function(e,t,n,o,i,r,s){var a=this;this.getActivities=function(e){return i.getResource(t.ACTIVITIES_URI+t.SEARCH_URI,e)},this.mergeActivities=function(e,t){if(e.IsSuccess){if(!t)var t={};for(var i=0;i<e.Results.length;i++)t.hasOwnProperty(e.Results[i].WorkShopSetID)?t[e.Results[i].WorkShopSetID].workshops.push(e.Results[i]):t[e.Results[i].WorkShopSetID]={description:e.Results[i].description,topic:e.Results[i].topic,workshops:[e.Results[i]]};return t}return console.log("Failed to correctly load data."),o.$broadcast(n.API_ERROR,e.DisplayMessage),{}},this.onCreate=function(){this.getActivities({StartingDtBegin:"2015-08-07T17:00:00",StartingDtEnd:"9999-12-29T17:00:00"}).then(function(e){console.log(e),a.activities=a.mergeActivities(e.data)})},this.bookWorkshop=function(e,s){var a=r.create(null,e,s,null,s,null);return i.postResourceWithParamsInUri(t.BOOK_SESSION_URI,a).then(function(e){return e.data.IsSuccess?!0:(o.$broadcast(n.API_ERROR,e.data.DisplayMessage),!1)},function(e){o.$broadcast(n.API_ERROR,"Error encountered whilst trying to create your booking. Please try again and if issues persist contact UTS HELPS.")})},this.onCreate()}]).service("Session",[function(){this.create=function(e,t,n,o){this.id=e,this.userId=t,this.username=n,this.userRole=o},this.destroy=function(){this.id=null,this.userId=null,this.username=null,this.userRole=null}}]),angular.module("helpsModelsServices",[]).factory("User",function(){var e={};return e.create=function(e,t,n,o){return{userId:e,studentId:t,name:n,password:o}},e}).factory("Student",function(){var e={};return e.create=function(e,t,n,o,i,r,s,a,u,c,l,d,p,f,g,h,m,v,S,I,k,A,y,R,T,E,w){return{studentId:e,creatorId:t,dob:n,gender:o,degree:i,status:r,firstLanguage:s,countryOfOrigin:a,background:u,degreeDetails:c,altContact:l,HSC:d,HSCMarks:p,IELTS:f,IELTSMarks:g,TOELF:h,TOELFMarks:m,TAFE:v,TAFEMarks:S,CULT:I,CULTMarks:k,insearchDEEP:A,insearchDEEPMarks:y,insearchDiploma:R,insearchDiplomaMarks:T,foundationCourse:E,foundationCourseMarks:w}},e}).factory("Campus",function(){var e={};return e.create=function(e,t,n){return{campusId:e,campusInfo:t,archived:n}},e}).factory("Workshop",function(){var e={};return e.create=function(e,t,n,o,i,r,s,a,u,c,l,d,p,f,g,h){return{workshopId:e,workshopSetId:t,campusId:n,topic:o,startDate:i,endDate:r,description:s,targetingGroup:a,maximum:u,cutoff:c,type:l,reminderNum:d,reminderSent:p,daysOfWeek:f,bookingCount:g,archived:h}},e}).factory("WorkshopSet",function(){var e={};return e.create=function(e,t,n,o){return{workshopSetId:e,campusId:t,name:n,archived:o}},e}).factory("WorkshopWaiting",function(){var e={};return e.create=function(e,t,n,o){return{workshopWaitingId:e,workshopId:t,studentId:n,userId:o}},e}).factory("WorkshopBooking",function(){var e={};return e.create=function(e,t,n,o,i,r){return{workshopBookingId:e,workshopId:t,studentId:n,workshopSetId:o,userId:i,isActive:r}},e}).factory("Session",function(){var e={};return e.create=function(e,t,n,o,i,r,s){return{sessionId:e,sessionTypeId:t,campusId:n,lecturerId:o,startDate:i,endDate:r,isActive:s}},e}).factory("SessionType",function(){var e={};return e.create=function(e,t,n,o,i){return{sessionTypeId:e,abbName:t,fullName:n,isCurrent:o,isActive:i}},e}).factory("SessionBooking",function(){var e={};return e.create=function(e,t,n,o,i,r,s,a,u,c,l,d,p,f,g,h,m,v,S,I,k){return{sessionId:e,bookingId:t,studentId:n,userId:o,isCanceled:i,assistance:r,reason:s,attended:a,waitingId:u,isGroup:c,numPeople:l,lecturerComment:d,learningIssuesId:p,isLocked:f,assignType:g,assignTypeOther:h,subject:m,appointments:v,appointmentsOther:S,assistanceText:I,archived:k}},e}).factory("Waiting",function(){var e={};return e.create=function(e,t,n,o){return{waitingId:e,studentId:t,bookingId:n,waitingList:o}},e}).factory("WaitingList",function(){var e={};return e.create=function(e,t,n){return{waitingListId:e,workshopId:t,numberInList:n}},e}).factory("Notification",function(){var e={};return e.create=function(e,t,n,o,i,r){return{notificationId:e,studentId:t,workshopId:n,notifyTime:o,hoursAhead:i,notificationTypeId:r}},e}).factory("NotificationType",function(){var e={};return e.create=function(e,t,n){return{notificationTypeId:e,abbName:t,fullName:n}},e}),angular.module("utsHelps.auths",["ngRoute","helpsRestfulServices","utsHelps.constants"]).factory("AuthService",["$http","Session","$q",function(e,t,n){var o={};return o.loginFake=function(e){return n(function(n,o){setTimeout(function(){"mbusby"===e.username?o("User is unauthenticated"):(t.create("1",11899859,e.username,"User"),n(e.username))},1e3)})},o.login=function(n){return e.post("/",n).then(function(e){return t.create(e.data.id,e.data.user.id,e.data.user.role),e.data.user})},o.isAuthenticated=function(){return!!t.userId},o.isAuthorized=function(e){return angular.isArray(e)||(e=[e]),o.isAuthenticated()&&-1!==e.indexOf(t.userRole)},o.logout=function(){t.destroy()},o.logoutFake=function(){return t.destroy(),n(function(e,t){setTimeout(function(){return e()})})},o}]).factory("AuthInterceptor",["$rootScope","$q","AUTH_EVENTS",function(e,t,n){return{responseError:function(o){return e.$broadcast({401:n.notAuthenticated,403:n.notAuthorized,419:n.sessionTimeout,440:n.sessionTimeout}[o.status],o),t.reject(o)}}}]),angular.module("utsHelps.example",["ngRoute"]).config(["$routeProvider",function(e){e.when("/example",{templateUrl:"views/exampleView.html",controller:"exampleCtrl"})}]).controller("exampleCtrl",["$scope","AlertBanner",function(e,t){e.globals.pageTitle="Example View"}]),angular.module("utsHelps.login",["ngRoute"]).config(["$routeProvider",function(e){e.when("/login",{templateUrl:"views/loginView.html",controller:"loginCtrl"})}]).controller("loginCtrl",["$scope","$rootScope","AUTH_EVENTS","AuthService",function(e,t,n,o){e.credentials={username:"",password:""},e.loginFailed=!1,e.login=function(i){o.loginFake(i).then(function(o){t.$broadcast(n.loginSuccess),e.setCurrentUser(o)},function(o){e.loginFailed=!0,t.$broadcast(n.loginFailed)})}}]),angular.module("utsHelps.UpcomingActivities",["utsHelps.directives","helpsRestfulServices","ngRoute"]).config(["$routeProvider",function(e){e.when("/upcomingActivities",{templateUrl:"views/upcomingActivitiesView.html",controller:"UpcomingActivitiesCtrl"})}]).controller("UpcomingActivitiesCtrl",["$scope","UpcomingActivitiesModel","Session","AlertBanner",function(e,t,n,o){e.globals.pageTitle="Upcoming Activities",e.UpcomingActivitiesModel=t,e.selectedWorkshop=null,e.clickedOnAnActivity=function(t){var n=JSON.stringify(t);for(var o in e.UpcomingActivitiesModel.activities)n===JSON.stringify(e.UpcomingActivitiesModel.activities[o])?t.isExpanded=!t.isExpanded:e.UpcomingActivitiesModel.activities[o].isExpanded=!1},e.bookWorkshop=function(t){e.selectedWorkshop=t,e.$broadcast("SHOW_CONFIRM_DENY")},e.confirmWorkshop=function(i){i&&t.bookWorkshop(e.selectedWorkshop.WorkshopId,n.userId).then(function(e){e&&o.publish({type:"success",message:"Successfully made a booking.",timeCollapse:3e3})}),e.selectedWorkshop=null}}]),angular.module("utsHelps.constants",[]).constant("ERR_BROADCASTS",{API_ERROR:"API_ERROR"}).constant("AUTH_EVENTS",{loginSuccess:"auth-login-sucess",loginFailed:"auth-login-failed",logoutSuccess:"auth-logout-success",sessionTimeout:"auth-session-timeout",notAuthenticated:"auth-not-authenticated",notAuthorized:"auth-not-authorized"}).constant("USER_ROLES",{all:"*",admin:"admin",editor:"editor",guest:"guest",user:"user"}).constant("helps_endpoint_constants",{ENDPOINT_URI:"http://helpshere.cloudapp.net/api",port:"80",APP_KEY:"123456",ACTIVITIES_URI:"/workshop",SEARCH_URI:"/search",BOOK_SESSION_URI:"/workshop/booking/create"}),angular.module("utsHelps.directives",[]).directive("uhActivityDetails",function(){return{templateUrl:"directives/activity-details/activity-details.html",restrict:"E",scope:{activityDetails:"=activityDetails",expand:"=expand",workshopClickHandler:"=workshopClickHandler"}}}).directive("uhErrorBox",function(){return{templateUrl:"directives/uh-error-box/uh-error-box.html",restrict:"E",scope:{errorMsg:"=errorMessage"}}}).directive("stopEvent",function(){return{restrict:"A",link:function(e,t,n){t.bind("click",function(e){e.stopPropagation()})}}}).directive("truncateText",function(){return{restrict:"A",link:function(e,t,n){function o(e,t,n){var o=t.length>e,i=o?t.substr(0,e-1):t;return i=n&&o?i.substr(0,i.lastIndexOf(" ")):i}var i=t.context.innerText;t.context.innerText=o(n.truncateText,i,!0),t.append('<a class="more-text" ng-click="expand();"> more...</a>'),t.on("click",function(){t.context.innerText=$interpolate(i)})}}}).directive("loginDialog",function(e){return{restrict:"A",template:'<div ng-if="visible" ng-include="\'login-form.html\'">',link:function(t){var n=function(){t.visible=!0};t.visible=!1,t.$on(e.notAuthenticated,n),t.$on(e.sessionTimeout,n)}}}).directive("uhConfirmDenyModal",function(e){return{restrict:"E",transclude:!0,templateUrl:"directives/uh-confirm-deny-modal/uh-confirm-deny-modal.html",link:function(t,n,o){var i=e(o.callback),r=function(e){i(t,{isConfirmed:e})},s=function(){n.find("div").foundation("reveal","open")},a=function(){n.find("div").foundation("reveal","close")};t.$on("SHOW_CONFIRM_DENY",s);var u=function(){a(),console.log("Modal hidden!"),r(!1)},c=function(){a(),r(!0)};$(n).find(".cancel").on("click",function(){console.log("Modal declined"),u()}),$(n).find(".confirm").on("click",function(){console.log("Modal accepted"),c()})}}});
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImFwcC5qcyIsInNlcnZpY2VzL2hlbHBzUmVzdGZ1bFNlcnZpY2VzLmpzIiwic2VydmljZXMvaGVscHNNb2RlbFNlcnZpY2VzLmpzIiwiZmFjdG9yaWVzL2F1dGhlbnRpY2F0aW9uRmFjdG9yaWVzLmpzIiwiY29udHJvbGxlcnMvRXhhbXBsZUNvbnRyb2xsZXIvRXhhbXBsZUNvbnRyb2xsZXIuanMiLCJjb250cm9sbGVycy9Mb2dpbkNvbnRyb2xsZXIvTG9naW5Db250cm9sbGVyLmpzIiwiY29udHJvbGxlcnMvVXBjb21pbmdBY3Rpdml0aWVzQ29udHJvbGxlci9VcGNvbWluZ0FjdGl2aXRpZXNDb250cm9sbGVyLmpzIiwiY29uc3RhbnRzLmpzIiwiZGlyZWN0aXZlcy9kaXJlY3RpdmVzLmpzIl0sIm5hbWVzIjpbImFuZ3VsYXIiLCJtb2R1bGUiLCJjb25maWciLCIkcm91dGVQcm92aWRlciIsImNmcExvYWRpbmdCYXJQcm92aWRlciIsIiRodHRwUHJvdmlkZXIiLCJvdGhlcndpc2UiLCJyZWRpcmVjdFRvIiwiaW5jbHVkZVNwaW5uZXIiLCJpbnRlcmNlcHRvcnMiLCJwdXNoIiwiJGluamVjdG9yIiwiZ2V0IiwiJHByb3ZpZGUiLCJkZWNvcmF0b3IiLCIkZGVsZWdhdGUiLCJleGNlcHRpb24iLCJjYXVzZSIsInJ1biIsIiRyb290U2NvcGUiLCJBVVRIX0VWRU5UUyIsIkF1dGhTZXJ2aWNlIiwiJGxvY2F0aW9uIiwiY29uc29sZSIsImxvZyIsIiQiLCJkb2N1bWVudCIsInJlYWR5IiwiZm91bmRhdGlvbiIsIm9mZmNhbnZhcyIsImNsb3NlX29uX2NsaWNrIiwib24iLCJ0aGlzIiwiYWRkQ2xhc3MiLCJyZW1vdmVDbGFzcyIsIiRvbiIsImV2ZW50IiwibmV4dCIsImN1cnJlbnQiLCJpc0F1dGhlbnRpY2F0ZWQiLCJ0ZW1wbGF0ZVVybCIsInBhdGgiLCJsb2dpblN1Y2Nlc3MiLCJsb2dvdXRTdWNjZXNzIiwiY29udHJvbGxlciIsIiRzY29wZSIsIlVTRVJfUk9MRVMiLCJFUlJfQlJPQURDQVNUUyIsIlVzZXJNZXNzYWdpbmdTZXJ2aWNlIiwiZ2xvYmFscyIsInBhZ2VUaXRsZSIsImVycl9tZXNzYWdlIiwidHJpZ2dlckNsb3NlTW9kYWwiLCJjdXJyZW50VXNlciIsInVzZXJSb2xlcyIsImlzQXV0aG9yaXplZCIsInNldEN1cnJlbnRVc2VyIiwidXNlciIsImxvZ291dCIsImxvZ291dEZha2UiLCJ0aGVuIiwiJGJyb2FkY2FzdCIsImVyciIsIkFQSV9FUlJPUiIsImlzTG9naW5QYWdlIiwiJHNjZURlbGVnYXRlUHJvdmlkZXIiLCJoZWxwc19lbmRwb2ludF9jb25zdGFudHMiLCJyZXNvdXJjZVVybFdoaXRlbGlzdCIsIkVORFBPSU5UX1VSSSIsInNlcnZpY2UiLCIkaHR0cCIsImVuZHBvaW50X2NvbnN0YW50cyIsIiRxIiwiY3JlYXRlQ29uZmlnT2JqZWN0IiwiY29uZmlnT2JqZWN0IiwiaGVhZGVycyIsIkFwcEtleSIsIkFQUF9LRVkiLCJnZXRSZXNvdXJjZSIsInJlc291cmNlVXJpIiwicGFyYW1zIiwiZ2V0UmVzb3VyY2VGYWtlZCIsImRhdGEiLCJBQ1RJVklUSUVTX1VSSSIsIlNFQVJDSF9VUkkiLCJSZXN1bHRzIiwiV29ya3Nob3BJZCIsInRvcGljIiwiZGVzY3JpcHRpb24iLCJ0YXJnZXRpbmdHcm91cCIsImNhbXB1cyIsIlN0YXJ0RGF0ZSIsIkVuZERhdGUiLCJtYXhpbXVtIiwiV29ya1Nob3BTZXRJRCIsImN1dG9mZiIsInR5cGUiLCJyZW1pbmRlcl9udW0iLCJyZW1pbmRlcl9zZW50IiwiRGF5c09mV2VlayIsIkJvb2tpbmdDb3VudCIsImFyY2hpdmVkIiwiSXNTdWNjZXNzIiwiRGlzcGxheU1lc3NhZ2UiLCJCT09LX1NFU1NJT05fVVJJIiwid29ya3Nob3BJZCIsInJlc29sdmUiLCJyZWplY3QiLCJzZXRUaW1lb3V0IiwidHJhbnNmb3JtUGFyYW1zIiwidW5kZWZpbmVkIiwicGFyYW0iLCJwb3N0UmVzb3VyY2UiLCJwb3N0IiwicG9zdFJlc291cmNlV2l0aFBhcmFtc0luVXJpIiwidXJpVHJhbnNmb3JtIiwidXJsIiwibWV0aG9kIiwiQXBpTWV0aG9kcyIsIldvcmtzaG9wQm9va2luZyIsIkFsZXJ0QmFubmVyIiwic2NvcGUiLCJnZXRBY3Rpdml0aWVzIiwibWVyZ2VBY3Rpdml0aWVzIiwibmV3RGF0YVRvTWVyZ2UiLCJleGlzdGluZ0RhdGEiLCJpIiwibGVuZ3RoIiwiaGFzT3duUHJvcGVydHkiLCJ3b3Jrc2hvcHMiLCJvbkNyZWF0ZSIsIlN0YXJ0aW5nRHRCZWdpbiIsIlN0YXJ0aW5nRHRFbmQiLCJyZXN1bHQiLCJhY3Rpdml0aWVzIiwiYm9va1dvcmtzaG9wIiwic3R1ZGVudElkIiwid29ya3Nob3BCb29raW5nIiwiY3JlYXRlIiwicmVzcG9uc2UiLCJlcnJvciIsInNlc3Npb25JZCIsInVzZXJJZCIsInVzZXJuYW1lIiwidXNlclJvbGUiLCJpZCIsImRlc3Ryb3kiLCJmYWN0b3J5IiwibmFtZSIsInBhc3N3b3JkIiwic3R1ZGVudCIsImNyZWF0b3JJZCIsImRvYiIsImdlbmRlciIsImRlZ3JlZSIsInN0YXR1cyIsImZpcnN0TGFuZ3VhZ2UiLCJjb3VudHJ5T2ZPcmlnaW4iLCJiYWNrZ3JvdW5kIiwiZGVncmVlRGV0YWlscyIsImFsdENvbnRhY3QiLCJIU0MiLCJIU0NNYXJrcyIsIklFTFRTIiwiSUVMVFNNYXJrcyIsIlRPRUxGIiwiVE9FTEZNYXJrcyIsIlRBRkUiLCJUQUZFTWFya3MiLCJDVUxUIiwiQ1VMVE1hcmtzIiwiaW5zZWFyY2hERUVQIiwiaW5zZWFyY2hERUVQTWFya3MiLCJpbnNlYXJjaERpcGxvbWEiLCJpbnNlYXJjaERpcGxvbWFNYXJrcyIsImZvdW5kYXRpb25Db3Vyc2UiLCJmb3VuZGF0aW9uQ291cnNlTWFya3MiLCJjYW1wdXNJZCIsImNhbXB1c0luZm8iLCJ3b3Jrc2hvcCIsIndvcmtzaG9wU2V0SWQiLCJzdGFydERhdGUiLCJlbmREYXRlIiwicmVtaW5kZXJOdW0iLCJyZW1pbmRlclNlbnQiLCJkYXlzT2ZXZWVrIiwiYm9va2luZ0NvdW50Iiwid29ya3Nob3BTZXQiLCJ3b3Jrc2hvcFdhaXRpbmciLCJ3b3Jrc2hvcFdhaXRpbmdJZCIsIndvcmtzaG9wQm9va2luZ0lkIiwiaXNBY3RpdmUiLCJzZXNzaW9uIiwic2Vzc2lvblR5cGVJZCIsImxlY3R1cmVySWQiLCJhYmJOYW1lIiwiZnVsbE5hbWUiLCJpc0N1cnJlbnQiLCJzZXNzaW9uQm9va2luZyIsImJvb2tpbmdJZCIsImlzQ2FuY2VsZWQiLCJhc3Npc3RhbmNlIiwicmVhc29uIiwiYXR0ZW5kZWQiLCJ3YWl0aW5nSWQiLCJpc0dyb3VwIiwibnVtUGVvcGxlIiwibGVjdHVyZXJDb21tZW50IiwibGVhcm5pbmdJc3N1ZXNJZCIsImlzTG9ja2VkIiwiYXNzaWduVHlwZSIsImFzc2lnblR5cGVPdGhlciIsInN1YmplY3QiLCJhcHBvaW50bWVudHMiLCJhcHBvaW50bWVudHNPdGhlciIsImFzc2lzdGFuY2VUZXh0Iiwid2FpdCIsIndhaXRpbmdMaXN0SWQiLCJ3YWl0aW5nTGlzdCIsIm51bWJlckluTGlzdCIsIm5vdGlmaWNhdGlvbiIsIm5vdGlmaWNhdGlvbklkIiwibm90aWZ5VGltZSIsImhvdXJzQWhlYWQiLCJub3RpZmljYXRpb25UeXBlSWQiLCJub3RpZmljYXRpb25UeXBlIiwiU2Vzc2lvbiIsImF1dGhTZXJ2aWNlIiwibG9naW5GYWtlIiwiY3JlZGVudGlhbHMiLCJsb2dpbiIsInJlcyIsInJvbGUiLCJhdXRob3JpemVkUm9sZXMiLCJpc0FycmF5IiwiaW5kZXhPZiIsInJlc3BvbnNlRXJyb3IiLDQwMSwibm90QXV0aGVudGljYXRlZCIsNDAzLCJub3RBdXRob3JpemVkIiw0MTksInNlc3Npb25UaW1lb3V0Iiw0NDAsIndoZW4iLCJsb2dpbkZhaWxlZCIsIlVwY29taW5nQWN0aXZpdGllc01vZGVsIiwic2VsZWN0ZWRXb3Jrc2hvcCIsImNsaWNrZWRPbkFuQWN0aXZpdHkiLCJhY3Rpdml0eSIsImFjdGl2aXR5QXNTdHJpbmciLCJKU09OIiwic3RyaW5naWZ5IiwiaXNFeHBhbmRlZCIsImNvbmZpcm1Xb3Jrc2hvcCIsImNvbmZpcm1hdGlvbiIsInN1Y2Nlc3MiLCJwdWJsaXNoIiwibWVzc2FnZSIsInRpbWVDb2xsYXBzZSIsImNvbnN0YW50IiwiYWxsIiwiYWRtaW4iLCJlZGl0b3IiLCJndWVzdCIsInBvcnQiLCJkaXJlY3RpdmUiLCJyZXN0cmljdCIsImFjdGl2aXR5RGV0YWlscyIsImV4cGFuZCIsIndvcmtzaG9wQ2xpY2tIYW5kbGVyIiwiZXJyb3JNc2ciLCJsaW5rIiwiZWxlbWVudCIsImF0dHIiLCJiaW5kIiwiZSIsInN0b3BQcm9wYWdhdGlvbiIsImVsZW0iLCJhdHRycyIsInRydW5jIiwibiIsInRleHQiLCJ1c2VXb3JkQm91bmRhcnkiLCJ0b0xvbmciLCJzXyIsInN1YnN0ciIsImxhc3RJbmRleE9mIiwiY29udGV4dCIsImlubmVyVGV4dCIsInRydW5jYXRlVGV4dCIsImFwcGVuZCIsIiRpbnRlcnBvbGF0ZSIsInRlbXBsYXRlIiwic2hvd0RpYWxvZyIsInZpc2libGUiLCIkcGFyc2UiLCJ0cmFuc2NsdWRlIiwiY2FsbGJhY2tGdW5jdGlvbiIsImNhbGxiYWNrIiwiZGVjaXNpb24iLCJpc0NvbmZpcm1lZCIsInNob3dNb2RhbCIsImZpbmQiLCJoaWRlTW9kYWwiLCJkZW55TW9kYWwiLCJjb25maXJtTW9kYWwiXSwibWFwcGluZ3MiOiJBQUNBLFlBRUFBLFNBQUFDLE9BQUEsWUFDQSxVQUNBLGlCQUNBLG1CQUNBLGlCQUNBLHVCQUNBLG1CQUNBLDhCQUNBLGlCQUNBLFlBQ0Esc0JBQ0EscUJBQ0EsdUJBQ0Esa0NBRUFDLFFBQUEsaUJBQUEsd0JBQUEsZ0JBQUEsU0FBQUMsRUFBQUMsRUFBQUMsR0FDQUYsRUFBQUcsV0FBQUMsV0FBQSxhQUNBSCxFQUFBSSxnQkFBQSxFQUNBSCxFQUFBSSxhQUFBQyxNQUNBLFlBQ0EsU0FBQUMsR0FDQSxNQUFBQSxHQUFBQyxJQUFBLHlCQUdBVixRQUFBLFdBQUEsU0FBQVcsR0FFQUEsRUFBQUMsVUFBQSxxQkFBQSxZQUFBLFNB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QSxFQUNBQyxXQUFBLEtBQ0FDLGFBQUEsR0FDQUMsU0FBQSxPQUVBZixXQUFBLEdBQ0FDLE1BQUEsNkNBQ0FDLFlBQUEsMkVBQ0FDLGVBQUEsZUFDQUMsT0FBQSxhQUNBQyxVQUFBLHNCQUNBQyxRQUFBLHNCQUNBQyxRQUFBLEdBQ0FDLGNBQUEsRUFDQUMsT0FBQSxLQUNBQyxLQUFBLFNBQ0FDLGFBQUEsS0FDQUMsY0FBQSxFQUNBQyxXQUFBLEtBQ0FDLGFBQUEsR0FDQUMsU0FBQSxPQUVBZixXQUFBLEdBQ0FDLE1BQUEsd0RBQ0FDLFlBQUEscUhBRUFDLGVBQUEsZUFDQUMsT0FBQSxhQUNBQyxVQUFBLHNCQUNBQyxRQUFBLHNCQUNBQyxRQUFBLEdBQ0FDLGNBQUEsRUFDQUMsT0FBQSxLQUNBQyxLQUFBLFNBQ0FDLGFBQUEsS0FDQUMsY0FBQSxFQUNBQyxXQUFBLEtBQ0FDLGFBQUEsR0FDQUMsU0FBQSxPQUdBZixXQUFBLEdBQ0FDLE1BQUEsd0RBQ0FDLFlBQUEscUhBRUFDLGVBQUEsZUFDQUMsT0FBQSxhQUNBQyxVQUFBLHNCQUNBQyxRQUFBLHNCQUNBQyxRQUFBLEdBQ0FDLGNBQUEsRUFDQUMsT0FBQSxLQUNBQyxLQUFBLFNBQ0FDLGFBQUEsS0FDQUMsY0FBQSxFQUNBQyxXQUFBLEtBQ0FDLGFBQUEsR0FDQUMsU0FBQSxPQUdBZixXQUFBLEdBQ0FDLE1BQUEsd0RBQ0FDLFlBQUEscUhBRUFDLGVBQUEsZUFDQUMsT0FBQSxhQUNBQyxVQUFBLHNCQUNBQyxRQUFBLHNCQUNBQyxRQUFBLEdBQ0FDLGNBQUEsR0FDQUMsT0FBQSxLQUNBQyxLQUFBLFNBQ0FDLGFBQUEsS0FDQUMsY0FBQSxFQUNBQyxXQUFBLEtBQ0FDLGFBQUEsR0FDQUMsU0FBQSxPQUdBZixXQUFBLEdBQ0FDLE1BQUEsd0RBQ0FDLFlBQUEscUhBRUFDLGVBQUEsZUFDQUMsT0FBQSxhQUNBQyxVQUFBLHNCQUNBQyxRQUFBLHNCQUNBQyxRQUFBLEdBQ0FDLGNBQUEsR0FDQUMsT0FBQSxLQUNBQyxLQUFBLFNBQ0FDLGFBQUEsS0FDQUMsY0FB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QUFBLFdBQ0F1UCxFQUFBVSxRQUFBQyxVQUFBRyxhQUFBVixTQVdBaEIsVUFBQSxjQUFBLFNBQUF0UCxHQUNBLE9BQ0F1UCxTQUFBLElBQ0EwQixTQUFBLHlEQUNBckIsS0FBQSxTQUFBdkosR0FDQSxHQUFBNkssR0FBQSxXQUNBN0ssRUFBQThLLFNBQUEsRUFHQTlLLEdBQUE4SyxTQUFBLEVBQ0E5SyxFQUFBdEYsSUFBQWYsRUFBQTBOLGlCQUFBd0QsR0FDQTdLLEVBQUF0RixJQUFBZixFQUFBOE4sZUFBQW9ELE9BSUE1QixVQUFBLHFCQUFBLFNBQUE4QixHQUNBLE9BQ0E3QixTQUFBLElBQ0E4QixZQUFBLEVBQ0FqUSxZQUFBLDhEQUNBd08sS0FBQSxTQUFBdkosRUFBQTZKLEVBQUFDLEdBQ0EsR0FBQW1CLEdBQUFGLEVBQUFqQixFQUFBb0IsVUFDQUMsRUFBQSxTQUFBQyxHQUNBSCxFQUFBakwsR0FBQW9MLFlBQUFBLEtBRUFDLEVBQUEsV0FDQXhCLEVBQUF5QixLQUFBLE9BQUFuUixXQUFBLFNBQUEsU0FFQW9SLEVBQUEsV0FDQTFCLEVBQUF5QixLQUFBLE9BQUFuUixXQUFBLFNBQUEsU0FFQTZGLEdBQUF0RixJQUFBLG9CQUFBMlEsRUFDQSxJQUFBRyxHQUFBLFdBQ0FELElBQ0F6UixRQUFBQyxJQUFBLGlCQUNBb1IsR0FBQSxJQUVBTSxFQUFBLFdBQ0FGLElBQ0FKLEdBQUEsR0FHQW5SLEdBQUE2UCxHQUFBeUIsS0FBQSxXQUFBaFIsR0FBQSxRQUFBLFdBQ0FSLFFBQUFDLElBQUEsa0JBQ0F5UixNQUVBeFIsRUFBQTZQLEdBQUF5QixLQUFBLFlBQUFoUixHQUFBLFFBQUEsV0FDQVIsUUFBQUMsSUFBQSxrQkFDQTBSIiwiZmlsZSI6Im1haW4uanMiLCJzb3VyY2VzQ29udGVudCI6WyIvLyBBcHAuanNcbid1c2Ugc3RyaWN0J1xuXG5hbmd1bGFyLm1vZHVsZSgndXRzSGVscHMnLCBbXG5cdCduZ1JvdXRlJyxcblx0J3V0c0hlbHBzLmF1dGhzJyxcblx0J3V0c0hlbHBzLmV4YW1wbGUnLFxuXHQndXRzSGVscHMubG9naW4nLFxuXHQnaGVscHNSZXN0ZnVsU2VydmljZXMnLFxuXHQndXRzSGVscHMuZXhhbXBsZScsXG5cdCd1dHNIZWxwcy5VcGNvbWluZ0FjdGl2aXRpZXMnLFxuXHQnYW5ndWxhci5maWx0ZXInLFxuXHQnbmdBbmltYXRlJyxcblx0J2FuZ3VsYXItbG9hZGluZy1iYXInLFxuXHQndXRzSGVscHMuY29uc3RhbnRzJyxcblx0J2FuZ3VsYXItYWxlcnQtYmFubmVyJyxcblx0J3V0c0hlbHBzLlVzZXJNZXNzYWdpbmdTZXJ2aWNlJ1xuXHRdKVxuLmNvbmZpZyhbJyRyb3V0ZVByb3ZpZGVyJywgJ2NmcExvYWRpbmdCYXJQcm92aWRlcicsICckaHR0cFByb3ZpZGVyJywgZnVuY3Rpb24oJHJvdXRlUHJvdmlkZXIsIGNmcExvYWRpbmdCYXJQcm92aWRlciwgJGh0dHBQcm92aWRlcil7XG5cdCRyb3V0ZVByb3ZpZGVyLm90aGVyd2lzZSh7cmVkaXJlY3RUbzonL2V4YW1wbGUnfSk7XG5cdGNmcExvYWRpbmdCYXJQcm92aWRlci5pbmNsdWRlU3Bpbm5lciA9IGZhbHNlO1xuXHQkaHR0cFByb3ZpZGVyLmludGVyY2VwdG9ycy5wdXNoKFtcblx0XHQnJGluamVjdG9yJyxcblx0XHRmdW5jdGlvbiAoJGluamVjdG9yKSB7XG5cdFx0XHRyZXR1cm4gJGluamVjdG9yLmdldCgnQXV0aEludGVyY2VwdG9yJyk7XG5cdH1dKTtcbn1dKVxuLmNvbmZpZyhbJyRwcm92aWRlJywgZnVuY3Rpb24oJHByb3ZpZGUpIHtcbiAgLy9Qcm92aWRlcyByZWRpcmVjdGlvbiBmb3JcbiAgJHByb3ZpZGUuZGVjb3JhdG9yKCckZXhjZXB0aW9uSGFuZGxlcicsIFsnJGRlbGVnYXRlJywgZnVuY3Rpb24oJGRlbGVnYXRlKSB7XG4gICAgcmV0dXJuIGZ1bmN0aW9uKGV4Y2VwdGlvbiwgY2F1c2UpIHtcbiAgICAgICRkZWxlZ2F0ZShleGNlcHRpb24sIGNhdXNlKTtcbiAgICAgIHRocm93IGV4Y2VwdGlvbjtcbiAgfX1dKTtcbn1dKVxuLnJ1bihbJyRyb290U2NvcGUnLCAnQVVUSF9FVkVOVFMnLCAnQXV0aFNlcnZpY2UnLCAnJGxvY2F0aW9uJywgZnVuY3Rpb24oJHJvb3RTY29wZSwgQVVUSF9FVkVOVFMsIEF1dGhTZXJ2aWNlLCAkbG9jYXRpb24pIHtcblx0Y29uc29sZS5sb2coXCJBbmd1bGFyIGluaXRpYWxpc2VkIVwiKTtcblx0JChkb2N1bWVudCkucmVhZHkoZnVuY3Rpb24oKXtcblx0XHQkKGRvY3VtZW50KS5mb3VuZGF0aW9uKHtcblx0XHRcdG9mZmNhbnZhczoge1xuXHRcdFx0XHRjbG9zZV9vbl9jbGljazogdHJ1ZVxuXHRcdFx0fVxuXHRcdH0pO1xuXHR9KTtcblx0JChkb2N1bWVudCkub24oJ29wZW4uZm5kdG4ub2ZmY2FudmFzJywgJ1tkYXRhLW9mZmNhbnZhc10nLCBmdW5jdGlvbiAoKSB7XG5cdFx0dmFyIG9mZl9jYW52YXNfd3JhcCA9ICQodGhpcyk7XG5cdFx0JCgnI2xvYWRpbmctYmFyJykuYWRkQ2xhc3MoXCJoaWRlXCIpO1xuXHRcdCQoJyNsb2FkaW5nLWJhci1zcGlubmVyJykuYWRkQ2xhc3MoXCJoaWRlXCIpO1xuXHR9KTtcblxuXHQkKGRvY3VtZW50KS5vbignY2xvc2UuZm5kdG4ub2ZmY2FudmFzJywgJ1tkYXRhLW9mZmNhbnZhc10nLCBmdW5jdGlvbiAoKSB7XG5cdFx0dmFyIG9mZl9jYW52YXNfd3JhcCA9ICQodGhpcyk7XG5cdFx0JChcIiNsb2FkaW5nLWJhclwiKS5yZW1vdmVDbGFzcyhcImhpZGVcIik7XG5cdFx0JCgnI2xvYWRpbmctYmFyLXNwaW5uZXInKS5hZGRDbGFzcyhcImhpZGVcIik7XG5cdH0pO1xuXG5cblx0Ly8gUmVkaXJlY3QgdGhlIHVzZXIgaWYgdGhleSdyZSBsb3N0XG5cdCRyb290U2NvcGUuJG9uKFwiJGxvY2F0aW9uQ2hhbmdlU3RhcnRcIiwgZnVuY3Rpb24gKGV2ZW50LCBuZXh0LCBjdXJyZW50KSB7XG5cdFx0aWYgKCFBdXRoU2VydmljZS5pc0F1dGhlbnRpY2F0ZWQoKSkge1xuXHRcdFx0aWYgKG5leHQudGVtcGxhdGVVcmwhPVwidmlld3MvbG9naW5WaWV3Lmh0bWxcIil7XG5cdFx0XHRcdCRsb2NhdGlvbi5wYXRoKFwiL2xvZ2luXCIpO1xuXHRcdFx0fVxuXHRcdH1cblx0fSk7XG5cdC8vIFJlZGlyZWN0IGlmIHVzZXIgaWYgdGhleSBoYXZlIGJlZW4gbG9nZ2VkIGluIGFuZC9vciBsb2dnZWQgb3V0XG5cdCRyb290U2NvcGUuJG9uKEFVVEhfRVZFTlRTLmxvZ2luU3VjY2VzcywgZnVuY3Rpb24oZXZlbnQpe1xuXHRcdCRsb2NhdGlvbi5wYXRoKFwiL2V4YW1wbGVcIik7IC8vIGRhc2hib2FyZFxuXHR9KTtcblx0JHJvb3RTY29wZS4kb24oQVVUSF9FVkVOVFMubG9nb3V0U3VjY2VzcywgZnVuY3Rpb24oZXZlbnQpIHtcblx0XHQkbG9jYXRpb24ucGF0aChcIi9sb2dpblwiKTtcblx0fSk7XG5cblxufV0pXG4uY29udHJvbGxlcignQXBwbGljYXRpb25Db250cm9sbGVyJywgWyckc2NvcGUnLCAnVVNFUl9ST0xFUycsICdBdXRoU2VydmljZScsICdFUlJfQlJPQURDQVNUUycsICdBVVRIX0VWRU5UUycsICckcm9vdFNjb3BlJywgJ1VzZXJNZXNzYWdpbmdTZXJ2aWNlJyxcbiBmdW5jdGlvbigkc2NvcGUsIFVTRVJfUk9MRVMsIEF1dGhTZXJ2aWNlLCBFUlJfQlJPQURDQVNUUywgQVVUSF9FVkVOVFMsICRyb290U2NvcGUsIFVzZXJNZXNzYWdpbmdTZXJ2aWNlKSB7XG5cdCRzY29wZS5nbG9iYWxzID0ge1xuXHRcdHBhZ2VUaXRsZTogXCJVVFMgSEVMUFNcIlxuXHR9O1xuXHQkc2NvcGUuZXJyX21lc3NhZ2UgPSBcIlwiO1xuXHQvKiRzY29wZS4kb24oRVJSX0JST0FEQ0FTVFMuQVBJX0VSUk9SLCBmdW5jdGlvbiB0cmlnZ2VyRXJyb3JNb2RhbChlLCBlcnJfbWVzc2FnZSkge1xuXHRcdGNvbnNvbGUubG9nKFwiRXJyb3IgaW4gQVBJISBcIitlcnJfbWVzc2FnZSk7XG5cdFx0JHNjb3BlLmVycl9tZXNzYWdlID0gZXJyX21lc3NhZ2U7XG5cdFx0JChcIiN1aC1lcnJvci1tb2RhbFwiKS5mb3VuZGF0aW9uKCdyZXZlYWwnLCAnb3BlbicpO1xuXHR9KTsqL1xuXHQkc2NvcGUudHJpZ2dlckNsb3NlTW9kYWwgPSBmdW5jdGlvbigpIHtcblx0XHQkKFwiI3VoLWVycm9yLW1vZGFsXCIpLmZvdW5kYXRpb24oJ3JldmVhbCcsICdjbG9zZScpO1xuXHR9XG5cdCRzY29wZS5jdXJyZW50VXNlciA9IG51bGw7XG5cdCRzY29wZS51c2VyUm9sZXMgPSBVU0VSX1JPTEVTO1xuXHQkc2NvcGUuaXNBdXRob3JpemVkID0gQXV0aFNlcnZpY2UuaXNBdXRob3JpemVkO1xuXHRcblx0JHNjb3BlLnNldEN1cnJlbnRVc2VyID0gZnVuY3Rpb24gKHVzZXIpIHsgXG5cdFx0JHNjb3BlLmN1cnJlbnRVc2VyID0gdXNlcjtcblx0fTtcblx0JHNjb3BlLmxvZ291dCA9IGZ1bmN0aW9uKCkge1xuXHRcdEF1dGhTZXJ2aWNlLmxvZ291dEZha2UoKS50aGVuKGZ1bmN0aW9uIHN1Y2Nlc3MoKSB7XG5cdFx0XHQkc2NvcGUuY3VycmVudFVzZXIgPSBudWxsO1xuXHRcdFx0JHJvb3RTY29wZS4kYnJvYWRjYXN0KEFVVEhfRVZFTlRTLmxvZ291dFN1Y2Nlc3MpOyBcblx0XHR9LCBmdW5jdGlvbiBmYWlsdXJlKGVycikge1xuXHRcdFx0Ly8gZGVhbCB3aXRoIGZhaWx1cmUgdG8gbG9nIG91dCBoZXJlXG5cdFx0XHQkcm9vdFNjb3BlLiRicm9hZGNhc3QoRVJSX0JST0FEQ0FTVFMuQVBJX0VSUk9SLCBlcnIpO1xuXHRcdH0pO1xuXHR9XG5cdCRzY29wZS5pc0xvZ2luUGFnZSA9IHRydWU7XG59XSk7IiwiJ3VzZSBzdHJpY3QnO1xuXG5hbmd1bGFyLm1vZHVsZSgnaGVscHNSZXN0ZnVsU2VydmljZXMnLCBbJ3V0c0hlbHBzLmNvbnN0YW50cycsICdoZWxwc01vZGVsc1NlcnZpY2VzJ10pXG4uY29uZmlnKFsnJHNjZURlbGVnYXRlUHJvdmlkZXInLCAnaGVscHNfZW5kcG9pbnRfY29uc3RhbnRzJywgZnVuY3Rpb24oJHNjZURlbGVnYXRlUHJvdmlkZXIsIGhlbHBzX2VuZHBvaW50X2NvbnN0YW50cykge1xuXHQvLyBSZXNvbHZlcyB0aGUgbG9uZyB3YWl0IGZvciB0aGUgT1BUSU9OUyBwcmUgZmxpZ2h0IHJlcXVlc3Q7IHZlcnkgbXVjaCBhIGhhY2tcblx0Ly8gYW5kIGlzIG5vdCBzdXBwb3J0ZWQgYnkgdGhlIENPUlMgb2ZmaWNpYWwgc3BlYzogaHR0cDovL3N0YWNrb3ZlcmZsb3cuY29tL2EvMTY1NzA2MDRcblx0JHNjZURlbGVnYXRlUHJvdmlkZXIucmVzb3VyY2VVcmxXaGl0ZWxpc3QoWydzZWxmJywgXG5cdFx0aGVscHNfZW5kcG9pbnRfY29uc3RhbnRzLkVORFBPSU5UX1VSSSsnLyoqJ10pO1xufV0pXG4uc2VydmljZSgnQXBpTWV0aG9kcycsIFsnJGh0dHAnLCAnaGVscHNfZW5kcG9pbnRfY29uc3RhbnRzJywgJ0VSUl9CUk9BRENBU1RTJywgJyRyb290U2NvcGUnLCAnJHEnLFxuXHRmdW5jdGlvbigkaHR0cCwgZW5kcG9pbnRfY29uc3RhbnRzLCBFUlJfQlJPQURDQVNUUywgJHJvb3RTY29wZSwgJHEpIHtcblx0XHR0aGlzLmNyZWF0ZUNvbmZpZ09iamVjdCA9IGZ1bmN0aW9uKCkge1xuXHRcdFx0XHQvL0ZhY3RvcnkgbWV0aG9kIHBhdHRlcm5cblx0XHRcdFx0dmFyIGNvbmZpZ09iamVjdCA9IHtcblx0XHRcdFx0XHRoZWFkZXJzOiB7XG5cdFx0XHRcdFx0XHRcIkFwcEtleVwiOmVuZHBvaW50X2NvbnN0YW50cy5BUFBfS0VZXG5cdFx0XHRcdFx0fVxuXHRcdFx0XHR9O1xuXHRcdFx0XHRyZXR1cm4gY29uZmlnT2JqZWN0O1xuXHRcdFx0fVxuXHRcdFx0dGhpcy5nZXRSZXNvdXJjZSA9IGZ1bmN0aW9uKHJlc291cmNlVXJpLCBwYXJhbXMpIHtcblx0XHRcdFx0Ly8gR2l2ZW4gdGhlIHJlc291cmNlIFVSSSAobm90IGluY2x1ZGluZyB0aGUgZW5kcG9pbnQgVVJJKSwgYW5kIHBhcmFtZXRlcnMsIGNhbGwgdGhlIGVuZHBvaW50XG5cdFx0XHRcdC8vIGFuZCByZXR1cm4gYSBwcm9taXNlXG5cdFx0XHRcdHZhciBjb25maWdPYmplY3QgPSB0aGlzLmNyZWF0ZUNvbmZpZ09iamVjdCgpO1xuXHRcdFx0XHRjb25maWdPYmplY3RbXCJwYXJhbXNcIl0gPSBwYXJhbXM7XG5cdFx0XHRcdHJldHVybiAkaHR0cC5nZXQoZW5kcG9pbnRfY29uc3RhbnRzLkVORFBPSU5UX1VSSStyZXNvdXJjZVVyaSwgY29uZmlnT2JqZWN0KTtcblx0XHRcdH1cblx0XHRcdHRoaXMuZ2V0UmVzb3VyY2VGYWtlZCA9IGZ1bmN0aW9uKHJlc291cmNlVXJpLCBwYXJhbXMpIHtcblx0XHRcdFx0dmFyIGRhdGE7XG5cdFx0XHRcdGlmIChyZXNvdXJjZVVyaSA9PT0gZW5kcG9pbnRfY29uc3RhbnRzLkFDVElWSVRJRVNfVVJJK2VuZHBvaW50X2NvbnN0YW50cy5TRUFSQ0hfVVJJKSB7XG5cdFx0XHRcdFx0ZGF0YSA9IHtcblx0XHRcdFx0XHRcdFwiUmVzdWx0c1wiOiBbXG5cdFx0XHRcdFx0XHR7XG5cdFx0XHRcdFx0XHRcdFwiV29ya3Nob3BJZFwiOiAxMSxcblx0XHRcdFx0XHRcdFx0XCJ0b3BpY1wiOiBcIlBsYW5uaW5nIGFuZCByZXNlYXJjaGluZyBmb3IgYW4gYXNzaWdubWVudFwiLFxuXHRcdFx0XHRcdFx0XHRcImRlc2NyaXB0aW9uXCI6IFwi4oCcSSBoYXZlIGFuIGFzc2lnbm1lbnQgZHVlIHNvb24sIGJ1dCBJIGRvbuKAmXQga25vdyB3aGVyZSBhbmQgaG93IHRvIGJlZ2luLlwiLFxuXHRcdFx0XHRcdFx0XHRcInRhcmdldGluZ0dyb3VwXCI6IFwiYWxsIHN0dWRlbnRzXCIsXG5cdFx0XHRcdFx0XHRcdFwiY2FtcHVzXCI6IFwiQ0IwMi4wNS4zMlwiLFxuXHRcdFx0XHRcdFx0XHRcIlN0YXJ0RGF0ZVwiOiBcIjIwMTItMDctMDdUMTc6MDA6MDBcIixcblx0XHRcdFx0XHRcdFx0XCJFbmREYXRlXCI6IFwiMjAxMi0wNy0wN1QxODowMDowMFwiLFxuXHRcdFx0XHRcdFx0XHRcIm1heGltdW1cIjogNDUsXG5cdFx0XHRcdFx0XHRcdFwiV29ya1Nob3BTZXRJRFwiOiA0LFxuXHRcdFx0XHRcdFx0XHRcImN1dG9mZlwiOiBudWxsLFxuXHRcdFx0XHRcdFx0XHRcInR5cGVcIjogXCJzaW5nbGVcIixcblx0XHRcdFx0XHRcdFx0XCJyZW1pbmRlcl9udW1cIjogOTk5OSxcblx0XHRcdFx0XHRcdFx0XCJyZW1pbmRlcl9zZW50XCI6IDAsXG5cdFx0XHRcdFx0XHRcdFwiRGF5c09mV2Vla1wiOiBudWxsLFxuXHRcdFx0XHRcdFx0XHRcIkJvb2tpbmdDb3VudFwiOiA0NCxcblx0XHRcdFx0XHRcdFx0XCJhcmNoaXZlZFwiOiBudWxsXG5cdFx0XHRcdFx0XHR9LCB7XG5cdFx0XHRcdFx0XHRcdFwiV29ya3Nob3BJZFwiOiAxMixcblx0XHRcdFx0XHRcdFx0XCJ0b3BpY1wiOiBcIlBsYW5uaW5nIGFuZCByZXNlYXJjaGluZyBmb3IgYW4gYXNzaWdubWVudFwiLFxuXHRcdFx0XHRcdFx0XHRcImRlc2NyaXB0aW9uXCI6IFwi4oCcSSBoYXZlIGFuIGFzc2lnbm1lbnQgZHVlIHNvb24sIGJ1dCBJIGRvbuKAmXQga25vdyB3aGVyZSBhbmQgaG93IHRvIGJlZ2luLlwiLFxuXHRcdFx0XHRcdFx0XHRcInRhcmdldGluZ0dyb3VwXCI6IFwiYWxsIHN0dWRlbnRzXCIsXG5cdFx0XHRcdFx0XHRcdFwiY2FtcHVzXCI6IFwiQ0IwMi4wNS4zMlwiLFxuXHRcdFx0XHRcdFx0XHRcIlN0YXJ0RGF0ZVwiOiBcIjIwMTItMDgtMDdUMTc6MDA6MDBcIixcblx0XHRcdFx0XHRcdFx0XCJFbmREYXRlXCI6IFwiMjAxMi0wOC0wN1QxODowMDowMFwiLFxuXHRcdFx0XHRcdFx0XHRcIm1heGltdW1cIjogNDUsXG5cdFx0XHRcdFx0XHRcdFwiV29ya1Nob3BTZXRJRFwiOiA0LFxuXHRcdFx0XHRcdFx0XHRcImN1dG9mZlwiOiBudWxsLFxuXHRcdFx0XHRcdFx0XHRcInR5cGVcIjogXCJzaW5nbGVcIixcblx0XHRcdFx0XHRcdFx0XCJyZW1pbmRlcl9udW1cIjogOTk5OSxcblx0XHRcdFx0XHRcdFx0XCJyZW1pbmRlcl9zZW50XCI6IDAsXG5cdFx0XHRcdFx0XHRcdFwiRGF5c09mV2Vla1wiOiBudWxsLFxuXHRcdFx0XHRcdFx0XHRcIkJvb2tpbmdDb3VudFwiOiA0NCxcblx0XHRcdFx0XHRcdFx0XCJhcmNoaXZlZFwiOiBudWxsXG5cdFx0XHRcdFx0XHR9LCB7XG5cdFx0XHRcdFx0XHRcdFwiV29ya3Nob3BJZFwiOiAxNCxcblx0XHRcdFx0XHRcdFx0XCJ0b3BpY1wiOiBcIlBsYW5uaW5nIGFuZCByZXNlYXJjaGluZyBmb3IgYW4gYXNzaWdubWVudFwiLFxuXHRcdFx0XHRcdFx0XHRcImRlc2NyaXB0aW9uXCI6IFwi4oCcSSBoYXZlIGFuIGFzc2lnbm1lbnQgZHVlIHNvb24sIGJ1dCBJIGRvbuKAmXQga25vdyB3aGVyZSBhbmQgaG93IHRvIGJlZ2luLlwiLFxuXHRcdFx0XHRcdFx0XHRcInRhcmdldGluZ0dyb3VwXCI6IFwiYWxsIHN0dWRlbnRzXCIsXG5cdFx0XHRcdFx0XHRcdFwiY2FtcHVzXCI6IFwiQ0IwMi4wNS4zMlwiLFxuXHRcdFx0XHRcdFx0XHRcIlN0YXJ0RGF0ZVwiOiBcIjIwMTItMDgtMDdUMTc6MDA6MDBcIixcblx0XHRcdFx0XHRcdFx0XCJFbmREYXRlXCI6IFwiMjAxMi0wOC0wN1QxODowMDowMFwiLFxuXHRcdFx0XHRcdFx0XHRcIm1heGltdW1cIjogNDUsXG5cdFx0XHRcdFx0XHRcdFwiV29ya1Nob3BTZXRJRFwiOiA0LFxuXHRcdFx0XHRcdFx0XHRcImN1dG9mZlwiOiBudWxsLFxuXHRcdFx0XHRcdFx0XHRcInR5cGVcIjogXCJzaW5nbGVcIixcblx0XHRcdFx0XHRcdFx0XCJyZW1pbmRlcl9udW1cIjogOTk5OSxcblx0XHRcdFx0XHRcdFx0XCJyZW1pbmRlcl9zZW50XCI6IDAsXG5cdFx0XHRcdFx0XHRcdFwiRGF5c09mV2Vla1wiOiBudWxsLFxuXHRcdFx0XHRcdFx0XHRcIkJvb2tpbmdDb3VudFwiOiA0NSxcblx0XHRcdFx0XHRcdFx0XCJhcmNoaXZlZFwiOiBudWxsXG5cdFx0XHRcdFx0XHR9LCB7XG5cdFx0XHRcdFx0XHRcdFwiV29ya3Nob3BJZFwiOiAxNixcblx0XHRcdFx0XHRcdFx0XCJ0b3BpY1wiOiBcIlU6UEFTU3dyaXRlIGZvciAyMTEyOSBNYW5hZ2luZyBQZW9wbGUgJiBPcmdhbmlzYXRpb25zXCIsXG5cdFx0XHRcdFx0XHRcdFwiZGVzY3JpcHRpb25cIjogXCJUaGlzIHdvcmtzaG9wIHdpbGwgZW1wb3dlciB5b3UgdG8gd3JpdGUgZXhjZWxsZW50IGVzc2F5cyBhbmQgXCIrXG5cdFx0XHRcdFx0XHRcdFwicHJvdmlkZSB2YWx1YWJsZSBzdXBwb3J0IGZvciB0aGUgdXBjb21pbmcgYXNzaWdubWVudC5cIixcblx0XHRcdFx0XHRcdFx0XCJ0YXJnZXRpbmdHcm91cFwiOiBcImFsbCBzdHVkZW50c1wiLFxuXHRcdFx0XHRcdFx0XHRcImNhbXB1c1wiOiBcIkNCMDIuMDUuMzJcIixcblx0XHRcdFx0XHRcdFx0XCJTdGFydERhdGVcIjogXCIyMDEyLTA5LTA3VDE3OjAwOjAwXCIsXG5cdFx0XHRcdFx0XHRcdFwiRW5kRGF0ZVwiOiBcIjIwMTItMDktMDdUMTg6MDA6MDBcIixcblx0XHRcdFx0XHRcdFx0XCJtYXhpbXVtXCI6IDQ1LFxuXHRcdFx0XHRcdFx0XHRcIldvcmtTaG9wU2V0SURcIjogNSxcblx0XHRcdFx0XHRcdFx0XCJjdXRvZmZcIjogbnVsbCxcblx0XHRcdFx0XHRcdFx0XCJ0eXBlXCI6IFwic2luZ2xlXCIsXG5cdFx0XHRcdFx0XHRcdFwicmVtaW5kZXJfbnVtXCI6IDk5OTksXG5cdFx0XHRcdFx0XHRcdFwicmVtaW5kZXJfc2VudFwiOiAwLFxuXHRcdFx0XHRcdFx0XHRcIkRheXNPZldlZWtcIjogbnVsbCxcblx0XHRcdFx0XHRcdFx0XCJCb29raW5nQ291bnRcIjogNDQsXG5cdFx0XHRcdFx0XHRcdFwiYXJjaGl2ZWRcIjogbnVsbFxuXHRcdFx0XHRcdFx0fSxcblx0XHRcdFx0XHRcdHtcblx0XHRcdFx0XHRcdFx0XCJXb3Jrc2hvcElkXCI6IDE2LFxuXHRcdFx0XHRcdFx0XHRcInRvcGljXCI6IFwiVTpQQVNTd3JpdGUgZm9yIDIxMTI5IE1hbmFnaW5nIFBlb3BsZSAmIE9yZ2FuaXNhdGlvbnNcIixcblx0XHRcdFx0XHRcdFx0XCJkZXNjcmlwdGlvblwiOiBcIlRoaXMgd29ya3Nob3Agd2lsbCBlbXBvd2VyIHlvdSB0byB3cml0ZSBleGNlbGxlbnQgZXNzYXlzIGFuZCBcIitcblx0XHRcdFx0XHRcdFx0XCJwcm92aWRlIHZhbHVhYmxlIHN1cHBvcnQgZm9yIHRoZSB1cGNvbWluZyBhc3NpZ25tZW50LlwiLFxuXHRcdFx0XHRcdFx0XHRcInRhcmdldGluZ0dyb3VwXCI6IFwiYWxsIHN0dWRlbnRzXCIsXG5cdFx0XHRcdFx0XHRcdFwiY2FtcHVzXCI6IFwiQ0IwMi4wNS4zMlwiLFxuXHRcdFx0XHRcdFx0XHRcIlN0YXJ0RGF0ZVwiOiBcIjIwMTItMDktMDdUMTc6MDA6MDBcIixcblx0XHRcdFx0XHRcdFx0XCJFbmREYXRlXCI6IFwiMjAxMi0wOS0wN1QxODowMDowMFwiLFxuXHRcdFx0XHRcdFx0XHRcIm1heGltdW1cIjogNDUsXG5cdFx0XHRcdFx0XHRcdFwiV29ya1Nob3BTZXRJRFwiOiA5LFxuXHRcdFx0XHRcdFx0XHRcImN1dG9mZlwiOiBudWxsLFxuXHRcdFx0XHRcdFx0XHRcInR5cGVcIjogXCJzaW5nbGVcIixcblx0XHRcdFx0XHRcdFx0XCJyZW1pbmRlcl9udW1cIjogOTk5OSxcblx0XHRcdFx0XHRcdFx0XCJyZW1pbmRlcl9zZW50XCI6IDAsXG5cdFx0XHRcdFx0XHRcdFwiRGF5c09mV2Vla1wiOiBudWxsLFxuXHRcdFx0XHRcdFx0XHRcIkJvb2tpbmdDb3VudFwiOiA0NCxcblx0XHRcdFx0XHRcdFx0XCJhcmNoaXZlZFwiOiBudWxsXG5cdFx0XHRcdFx0XHR9LFxuXHRcdFx0XHRcdFx0e1xuXHRcdFx0XHRcdFx0XHRcIldvcmtzaG9wSWRcIjogMTYsXG5cdFx0XHRcdFx0XHRcdFwidG9waWNcIjogXCJVOlBBU1N3cml0ZSBmb3IgMjExMjkgTWFuYWdpbmcgUGVvcGxlICYgT3JnYW5pc2F0aW9uc1wiLFxuXHRcdFx0XHRcdFx0XHRcImRlc2NyaXB0aW9uXCI6IFwiVGhpcyB3b3Jrc2hvcCB3aWxsIGVtcG93ZXIgeW91IHRvIHdyaXRlIGV4Y2VsbGVudCBlc3NheXMgYW5kIFwiK1xuXHRcdFx0XHRcdFx0XHRcInByb3ZpZGUgdmFsdWFibGUgc3VwcG9ydCBmb3IgdGhlIHVwY29taW5nIGFzc2lnbm1lbnQuXCIsXG5cdFx0XHRcdFx0XHRcdFwidGFyZ2V0aW5nR3JvdXBcIjogXCJhbGwgc3R1ZGVudHNcIixcblx0XHRcdFx0XHRcdFx0XCJjYW1wdXNcIjogXCJDQjAyLjA1LjMyXCIsXG5cdFx0XHRcdFx0XHRcdFwiU3RhcnREYXRlXCI6IFwiMjAxMi0wOS0wN1QxNzowMDowMFwiLFxuXHRcdFx0XHRcdFx0XHRcIkVuZERhdGVcIjogXCIyMDEyLTA5LTA3VDE4OjAwOjAwXCIsXG5cdFx0XHRcdFx0XHRcdFwibWF4aW11bVwiOiA0NSxcblx0XHRcdFx0XHRcdFx0XCJXb3JrU2hvcFNldElEXCI6IDEwLFxuXHRcdFx0XHRcdFx0XHRcImN1dG9mZlwiOiBudWxsLFxuXHRcdFx0XHRcdFx0XHRcInR5cGVcIjogXCJzaW5nbGVcIixcblx0XHRcdFx0XHRcdFx0XCJyZW1pbmRlcl9udW1cIjogOTk5OSxcblx0XHRcdFx0XHRcdFx0XCJyZW1pbmRlcl9zZW50XCI6IDAsXG5cdFx0XHRcdFx0XHRcdFwiRGF5c09mV2Vla1wiOiBudWxsLFxuXHRcdFx0XHRcdFx0XHRcIkJvb2tpbmdDb3VudFwiOiA0NCxcblx0XHRcdFx0XHRcdFx0XCJhcmNoaXZlZFwiOiBudWxsXG5cdFx0XHRcdFx0XHR9LFxuXHRcdFx0XHRcdFx0e1xuXHRcdFx0XHRcdFx0XHRcIldvcmtzaG9wSWRcIjogMTYsXG5cdFx0XHRcdFx0XHRcdFwidG9waWNcIjogXCJVOlBBU1N3cml0ZSBmb3IgMjExMjkgTWFuYWdpbmcgUGVvcGxlICYgT3JnYW5pc2F0aW9uc1wiLFxuXHRcdFx0XHRcdFx0XHRcImRlc2NyaXB0aW9uXCI6IFwiVGhpcyB3b3Jrc2hvcCB3aWxsIGVtcG93ZXIgeW91IHRvIHdyaXRlIGV4Y2VsbGVudCBlc3NheXMgYW5kIFwiK1xuXHRcdFx0XHRcdFx0XHRcInByb3ZpZGUgdmFsdWFibGUgc3VwcG9ydCBmb3IgdGhlIHVwY29taW5nIGFzc2lnbm1lbnQuXCIsXG5cdFx0XHRcdFx0XHRcdFwidGFyZ2V0aW5nR3JvdXBcIjogXCJhbGwgc3R1ZGVudHNcIixcblx0XHRcdFx0XHRcdFx0XCJjYW1wdXNcIjogXCJDQjAyLjA1LjMyXCIsXG5cdFx0XHRcdFx0XHRcdFwiU3RhcnREYXRlXCI6IFwiMjAxMi0wOS0wN1QxNzowMDowMFwiLFxuXHRcdFx0XHRcdFx0XHRcIkVuZERhdGVcIjogXCIyMDEyLTA5LTA3VDE4OjAwOjAwXCIsXG5cdFx0XHRcdFx0XHRcdFwibWF4aW11bVwiOiA0NSxcblx0XHRcdFx0XHRcdFx0XCJXb3JrU2hvcFNldElEXCI6IDE1LFxuXHRcdFx0XHRcdFx0XHRcImN1dG9mZlwiOiBudWxsLFxuXHRcdFx0XHRcdFx0XHRcInR5cGVcIjogXCJzaW5nbGVcIixcblx0XHRcdFx0XHRcdFx0XCJyZW1pbmRlcl9udW1cIjogOTk5OSxcblx0XHRcdFx0XHRcdFx0XCJyZW1pbmRlcl9zZW50XCI6IDAsXG5cdFx0XHRcdFx0XHRcdFwiRGF5c09mV2Vla1wiOiBudWxsLFxuXHRcdFx0XHRcdFx0XHRcIkJvb2tpbmdDb3VudFwiOiA0NCxcblx0XHRcdFx0XHRcdFx0XCJhcmNoaXZlZFwiOiBudWxsXG5cdFx0XHRcdFx0XHR9XG5cdFx0XHRcdFx0XHRdLFxuXHRcdFx0XHRcdFx0XCJJc1N1Y2Nlc3NcIjogdHJ1ZSxcblx0XHRcdFx0XHRcdFwiRGlzcGxheU1lc3NhZ2VcIjogbnVsbFxuXHRcdFx0XHRcdH07XG5cdFx0XHRcdH1cblx0XHRcdFx0ZWxzZSBpZiAocmVzb3VyY2VVcmkgPT09IGVuZHBvaW50X2NvbnN0YW50cy5CT09LX1NFU1NJT05fVVJJICYmIChwYXJhbXMuV29ya3Nob3BJZCA9PT0gMSB8fCBwYXJhbXMud29ya3Nob3BJZCA9PT0gMTEpICkge1xuXHRcdFx0XHRcdGRhdGEgPSB7XCJJc1N1Y2Nlc3NcIjpmYWxzZSwgXCJEaXNwbGF5TWVzc2FnZVwiOlwiRXJyb3IgZW5jb3VudGVyZWQgd2hpbHN0IHRyeWluZyB0byBjcmVhdGUgeW91ciBib29raW5nLiBQbGVhc2UgdHJ5IGFnYWluIGFuZCBpZiBpc3N1ZXMgcGVyc2lzdCBjb250YWN0IFVUUyBIRUxQUy5cIn07XG5cdFx0XHRcdH1cblx0XHRcdFx0ZWxzZSBpZiAocmVzb3VyY2VVcmkgPT09IGVuZHBvaW50X2NvbnN0YW50cy5CT09LX1NFU1NJT05fVVJJKSB7XG5cdFx0XHRcdFx0ZGF0YSA9IHtcIklzU3VjY2Vzc1wiOnRydWUsIFwiRGlzcGxheU1lc3NhZ2VcIjpcIlwifTtcblx0XHRcdFx0fVxuXHRcdFx0XHRlbHNlIHtcblx0XHRcdFx0XHRjb25zb2xlLmxvZyhcIlJlc291cmNlIG5vdCBmYWtlZFwiKTtcblx0XHRcdFx0XHRkYXRhID0gbnVsbDtcblx0XHRcdFx0fVxuXHRcdFx0XHRyZXR1cm4gJHEoZnVuY3Rpb24ocmVzb2x2ZSwgcmVqZWN0KXtcblx0XHRcdFx0XHRzZXRUaW1lb3V0KGZ1bmN0aW9uKCkge1xuXHRcdFx0XHRcdFx0aWYgKGRhdGEpIHtcblx0XHRcdFx0XHRcdFx0cmVzb2x2ZSh7XCJkYXRhXCI6ZGF0YX0pO1xuXHRcdFx0XHRcdFx0fVxuXHRcdFx0XHRcdFx0ZWxzZSB7XG5cdFx0XHRcdFx0XHRcdHJlamVjdCh7XCJkYXRhXCI6ZGF0YX0pO1xuXHRcdFx0XHRcdFx0fVxuXHRcdFx0XHRcdH0sIDEwMDApO1xuXHRcdFx0XHR9KTtcblx0XHRcdH1cblx0XHRcdHRoaXMudHJhbnNmb3JtUGFyYW1zID0gZnVuY3Rpb24ocGFyYW1zKSB7XG5cdFx0XHRcdC8vIFRoaXMgYml0IG9mIGNvZGUgY2lyY3VtdmVudHMgdGhlIGlzc3VlIHdoZXJlYnkgQW5ndWxhciBkb2Vzbid0IHN1cHBvcnRcblx0XHRcdFx0Ly8gVVJJIHBhcmFtcyBmb3IgUE9TVCBjYWxscyAtIGZvciBvYnZpb3VzIHNlY3VyaXR5IHJlYXNvbnMuIEhvd2V2ZXIsIFxuXHRcdFx0XHQvLyBJVEQgaGF2ZSBkZWNpZGVkIHRoYXQgc2VjdXJpdHkgaXMgbm90IGltcG9ydGFudCBzbyBlc2NoZXdlZCB0aGlzIGltcG9ydGFudFxuXHRcdFx0XHQvLyBzYWZldHkgbWVhc3VyZS4gXG5cdFx0XHRcdC8vIEVuY2xvc2VkIGluIGEgdHJ5IGNhdGNoIGJlY2F1c2UgaWYgdGhlcmUgaXMgbm8gcmV0dXJuLCB0aGluZ3MgZ2V0IHVnbHkuXG5cdFx0XHRcdHRyeSB7XG5cdFx0XHRcdFx0aWYgKHBhcmFtcyA9PT0gdW5kZWZpbmVkKSB7cmV0dXJuIHBhcmFtczt9XG5cdFx0XHRcdFx0ZWxzZSB7cmV0dXJuICQucGFyYW0ocGFyYW1zKTt9XG5cdFx0XHRcdH1cblx0XHRcdFx0Y2F0Y2goZXJyKSB7XG5cdFx0XHRcdFx0cmV0dXJuIHBhcmFtcztcblx0XHRcdFx0fVxuXHRcdFx0XHRcblx0XHRcdH1cblx0XHRcdHRoaXMucG9zdFJlc291cmNlID0gZnVuY3Rpb24ocmVzb3VyY2VVcmksIHBhcmFtcykge1xuXHRcdFx0XHR2YXIgY29uZmlnT2JqZWN0ID0gdGhpcy5jcmVhdGVDb25maWdPYmplY3QoKTtcblx0XHRcdFx0Y29uZmlnT2JqZWN0LnBhcmFtcyA9IHBhcmFtcztcblx0XHRcdFx0cmV0dXJuICRodHRwLnBvc3QoZW5kcG9pbnRfY29uc3RhbnRzLkVORFBPSU5UX1VSSStyZXNvdXJjZVVyaSwgY29uZmlnT2JqZWN0KTtcblx0XHRcdH1cblx0XHRcdHRoaXMucG9zdFJlc291cmNlV2l0aFBhcmFtc0luVXJpID0gZnVuY3Rpb24ocmVzb3VyY2VVcmksIHBhcmFtcykge1xuXHRcdFx0XHR2YXIgY29uZmlnT2JqZWN0ID0gdGhpcy5jcmVhdGVDb25maWdPYmplY3QoKTtcblx0XHRcdFx0dmFyIHVyaVRyYW5zZm9ybSA9IHRoaXMudHJhbnNmb3JtUGFyYW1zKHBhcmFtcyk7XG5cdFx0XHRcdHJldHVybiAkaHR0cCh7dXJsOmVuZHBvaW50X2NvbnN0YW50cy5FTkRQT0lOVF9VUkkrcmVzb3VyY2VVcmkrXCI/XCIrdXJpVHJhbnNmb3JtLCBtZXRob2Q6ICdQT1NUJywgaGVhZGVyczpjb25maWdPYmplY3RbJ2hlYWRlcnMnXX0pO1xuXHRcdFx0fVxuXHRcdH1dKVxuLnNlcnZpY2UoJ1VwY29taW5nQWN0aXZpdGllc01vZGVsJywgWyckaHR0cCcsICdoZWxwc19lbmRwb2ludF9jb25zdGFudHMnLCAnRVJSX0JST0FEQ0FTVFMnLCAnJHJvb3RTY29wZScsICdBcGlNZXRob2RzJywgJ1dvcmtzaG9wQm9va2luZycsICdBbGVydEJhbm5lcicsIGZ1bmN0aW9uKCRodHRwLCBlbmRwb2ludF9jb25zdGFudHMsIEVSUl9CUk9BRENBU1RTLCAkcm9vdFNjb3BlLCBBcGlNZXRob2RzLCBXb3Jrc2hvcEJvb2tpbmcsIEFsZXJ0QmFubmVyKSB7XG5cdHZhciBzY29wZSA9IHRoaXM7XG5cdHRoaXMuZ2V0QWN0aXZpdGllcyA9IGZ1bmN0aW9uKHBhcmFtcykge1xuXHRcdC8vIEdldHMgZGF0YSBmcm9tIGEgc2VydmVyXG5cdFx0cmV0dXJuIEFwaU1ldGhvZHMuZ2V0UmVzb3VyY2UoZW5kcG9pbnRfY29uc3RhbnRzLkFDVElWSVRJRVNfVVJJK2VuZHBvaW50X2NvbnN0YW50cy5TRUFSQ0hfVVJJLCBcblx0XHRcdHBhcmFtc1xuXHRcdFx0KTtcblx0fVxuXHR0aGlzLm1lcmdlQWN0aXZpdGllcyA9IGZ1bmN0aW9uKG5ld0RhdGFUb01lcmdlLCBleGlzdGluZ0RhdGEpIHtcblx0XHRpZiAobmV3RGF0YVRvTWVyZ2UuSXNTdWNjZXNzKSB7XG5cdFx0XHRpZiAoIWV4aXN0aW5nRGF0YSkge1xuXHRcdFx0XHR2YXIgZXhpc3RpbmdEYXRhID0ge307XG5cdFx0XHR9XG5cdFx0XHRmb3IgKHZhciBpPTA7IGk8bmV3RGF0YVRvTWVyZ2VbXCJSZXN1bHRzXCJdLmxlbmd0aDsgaSsrKXtcblx0XHRcdFx0aWYgKGV4aXN0aW5nRGF0YS5oYXNPd25Qcm9wZXJ0eShuZXdEYXRhVG9NZXJnZVtcIlJlc3VsdHNcIl1baV1bXCJXb3JrU2hvcFNldElEXCJdKSkge1xuXHRcdFx0XHRcdC8vIEFwcGVuZCBhbGwgd29ya3Nob3AgZGVldHMgYW5kIHdoYXRub3QgaW50byB0aGUgd29ya3Nob3Bcblx0XHRcdFx0XHRleGlzdGluZ0RhdGFbbmV3RGF0YVRvTWVyZ2VbXCJSZXN1bHRzXCJdW2ldW1wiV29ya1Nob3BTZXRJRFwiXV1bXCJ3b3Jrc2hvcHNcIl0ucHVzaChuZXdEYXRhVG9NZXJnZVtcIlJlc3VsdHNcIl1baV0pO1xuXHRcdFx0XHR9XG5cdFx0XHRcdGVsc2Uge1xuXHRcdFx0XHRcdGV4aXN0aW5nRGF0YVtuZXdEYXRhVG9NZXJnZVtcIlJlc3VsdHNcIl1baV1bXCJXb3JrU2hvcFNldElEXCJdXSA9IHtcblx0XHRcdFx0XHRcdFwiZGVzY3JpcHRpb25cIjpuZXdEYXRhVG9NZXJnZVtcIlJlc3VsdHNcIl1baV1bXCJkZXNjcmlwdGlvblwiXSxcblx0XHRcdFx0XHRcdFwidG9waWNcIjpuZXdEYXRhVG9NZXJnZVtcIlJlc3VsdHNcIl1baV1bXCJ0b3BpY1wiXSxcblx0XHRcdFx0XHRcdFwid29ya3Nob3BzXCI6W25ld0RhdGFUb01lcmdlW1wiUmVzdWx0c1wiXVtpXV1cblx0XHRcdFx0XHR9O1xuXHRcdFx0XHR9XG5cdFx0XHR9XG5cdFx0XHRyZXR1cm4gZXhpc3RpbmdEYXRhO1xuXHRcdH1cblx0XHRlbHNlIHtcblx0XHRcdC8vIEZhaWxlZCB0byBjb3JyZWN0bHkgbG9hZCBkYXRhXG5cdFx0XHRjb25zb2xlLmxvZyhcIkZhaWxlZCB0byBjb3JyZWN0bHkgbG9hZCBkYXRhLlwiKTtcblx0XHRcdCRyb290U2NvcGUuJGJyb2FkY2FzdChFUlJfQlJPQURDQVNUUy5BUElfRVJST1IsIG5ld0RhdGFUb01lcmdlLkRpc3BsYXlNZXNzYWdlKTtcblx0XHRcdHJldHVybiB7fTtcblx0XHR9XG5cdH1cblx0dGhpcy5vbkNyZWF0ZSA9IGZ1bmN0aW9uKCkge1xuXHRcdHRoaXMuZ2V0QWN0aXZpdGllcyh7XCJTdGFydGluZ0R0QmVnaW5cIjpcIjIwMTUtMDgtMDdUMTc6MDA6MDBcIiwgXCJTdGFydGluZ0R0RW5kXCI6XCI5OTk5LTEyLTI5VDE3OjAwOjAwXCJ9KS50aGVuKGZ1bmN0aW9uKHJlc3VsdCkge1xuXHRcdFx0Y29uc29sZS5sb2cocmVzdWx0KTtcblx0XHRcdHNjb3BlLmFjdGl2aXRpZXMgPSBzY29wZS5tZXJnZUFjdGl2aXRpZXMocmVzdWx0LmRhdGEpO1xuXHRcdH0pO1xuXHR9O1xuXHR0aGlzLmJvb2tXb3Jrc2hvcCA9IGZ1bmN0aW9uKHdvcmtzaG9wSWQsIHN0dWRlbnRJZCkge1xuXHRcdC8vQ3JlYXRlIGEgbmljZSBtb2RlbCB0byBzZW5kIHRvIHRoZSBEQlxuXHRcdC8vIFRoaXMgbWV0aG9kIGNvdWxkIGJlIHBvcnRlZCB0byBUb21tJ3MgbW9kZWwgdGJoXG5cdFx0dmFyIHdvcmtzaG9wQm9va2luZyA9IFdvcmtzaG9wQm9va2luZy5jcmVhdGUobnVsbCwgd29ya3Nob3BJZCwgc3R1ZGVudElkLCBudWxsLCBzdHVkZW50SWQsIG51bGwpO1xuXHRcdHJldHVybiBBcGlNZXRob2RzLnBvc3RSZXNvdXJjZVdpdGhQYXJhbXNJblVyaShlbmRwb2ludF9jb25zdGFudHMuQk9PS19TRVNTSU9OX1VSSSwgd29ya3Nob3BCb29raW5nKS50aGVuKGZ1bmN0aW9uIHN1Y2Nlc3MocmVzcG9uc2UpIHtcblx0XHRcdGlmIChyZXNwb25zZS5kYXRhLklzU3VjY2Vzcykge1xuXHRcdFx0XHRyZXR1cm4gdHJ1ZTtcblx0XHRcdH1cblx0XHRcdGVsc2Uge1xuXHRcdFx0XHQkcm9vdFNjb3BlLiRicm9hZGNhc3QoRVJSX0JST0FEQ0FTVFMuQVBJX0VSUk9SLCByZXNwb25zZS5kYXRhLkRpc3BsYXlNZXNzYWdlKTtcblx0XHRcdFx0cmV0dXJuIGZhbHNlO1xuXHRcdFx0fVxuXHRcdH0sIGZ1bmN0aW9uIGZhaWx1cmUoZXJyb3IpIHtcblx0XHRcdC8vIEJpdCBvZiBlcnJvciBoYW5kbGluZ1xuXHRcdFx0JHJvb3RTY29wZS4kYnJvYWRjYXN0KEVSUl9CUk9BRENBU1RTLkFQSV9FUlJPUiwgXCJFcnJvciBlbmNvdW50ZXJlZCB3aGlsc3QgdHJ5aW5nIHRvIGNyZWF0ZSB5b3VyIGJvb2tpbmcuIFBsZWFzZSB0cnkgYWdhaW4gYW5kIGlmIGlzc3VlcyBwZXJzaXN0IGNvbnRhY3QgVVRTIEhFTFBTLlwiKTtcblx0XHR9KTtcblx0fTtcblx0dGhpcy5vbkNyZWF0ZSgpO1xufV0pXG4uc2VydmljZSgnU2Vzc2lvbicsIFtmdW5jdGlvbiAoKSB7XG5cdHRoaXMuY3JlYXRlID0gZnVuY3Rpb24gKHNlc3Npb25JZCwgdXNlcklkLCB1c2VybmFtZSwgdXNlclJvbGUpIHtcblx0XHR0aGlzLmlkID0gc2Vzc2lvbklkO1xuXHRcdHRoaXMudXNlcklkID0gdXNlcklkO1xuXHRcdHRoaXMudXNlcm5hbWUgPSB1c2VybmFtZTtcblx0XHR0aGlzLnVzZXJSb2xlID0gdXNlclJvbGU7XG5cdH07XG5cdFxuXHR0aGlzLmRlc3Ryb3kgPSBmdW5jdGlvbigpIHtcblx0XHR0aGlzLmlkID0gbnVsbDtcblx0XHR0aGlzLnVzZXJJZCA9IG51bGw7XG5cdFx0dGhpcy51c2VybmFtZSA9IG51bGw7XG5cdFx0dGhpcy51c2VyUm9sZSA9IG51bGw7XG5cdH07XG59XSk7XG4iLCIndXNlIHN0cmljdCc7XG5cbmFuZ3VsYXIubW9kdWxlKCdoZWxwc01vZGVsc1NlcnZpY2VzJywgW10pXG4uZmFjdG9yeSgnVXNlcicsIGZ1bmN0aW9uICgpe1xuXHR2YXIgdXNlciA9IHt9O1xuXHR1c2VyLmNyZWF0ZSA9IGZ1bmN0aW9uKHVzZXJJZCwgc3R1ZGVudElkLCBuYW1lLCBwYXNzd29yZCkge1xuXHRcdHJldHVybiB7XG5cdFx0XHRcInVzZXJJZFwiOnVzZXJJZCxcblx0XHRcdFwic3R1ZGVudElkXCI6c3R1ZGVudElkLFxuXHRcdFx0XCJuYW1lXCI6bmFtZSxcblx0XHRcdFwicGFzc3dvcmRcIjpwYXNzd29yZFxuXHRcdH07XG5cdH1cblx0cmV0dXJuIHVzZXI7XG59KVxuXG4uZmFjdG9yeSgnU3R1ZGVudCcsIGZ1bmN0aW9uICgpIHtcblx0dmFyIHN0dWRlbnQgPSB7fTtcblxuXHRzdHVkZW50LmNyZWF0ZSA9IGZ1bmN0aW9uIChzdHVkZW50SWQsIGNyZWF0b3JJZCwgZG9iLCBnZW5kZXIsIGRlZ3JlZSwgc3RhdHVzLCBcblx0XHRmaXJzdExhbmd1YWdlLCBjb3VudHJ5T2ZPcmlnaW4sIGJhY2tncm91bmQsIGRlZ3JlZURldGFpbHMsIGFsdENvbnRhY3QsXG5cdFx0SFNDLCBIU0NNYXJrcywgSUVMVFMsIElFTFRTTWFya3MsIFRPRUxGLCBUT0VMRk1hcmtzLCBUQUZFLFxuXHRcdFRBRkVNYXJrcywgQ1VMVCwgQ1VMVE1hcmtzLCBpbnNlYXJjaERFRVAsIGluc2VhcmNoREVFUE1hcmtzLFxuXHRcdGluc2VhcmNoRGlwbG9tYSwgaW5zZWFyY2hEaXBsb21hTWFya3MsIGZvdW5kYXRpb25Db3Vyc2UsXG5cdFx0Zm91bmRhdGlvbkNvdXJzZU1hcmtzKSB7XG5cdFx0XHRyZXR1cm4ge1xuXHRcdFx0XHRcInN0dWRlbnRJZFwiOnN0dWRlbnRJZCwgXG5cdFx0XHRcdFwiY3JlYXRvcklkXCI6IGNyZWF0b3JJZCwgXG5cdFx0XHRcdFwiZG9iXCI6IGRvYiwgXG5cdFx0XHRcdFwiZ2VuZGVyXCI6IGdlbmRlciwgXG5cdFx0XHRcdFwiZGVncmVlXCI6IGRlZ3JlZSwgXG5cdFx0XHRcdFwic3RhdHVzXCI6IHN0YXR1cyxcblx0XHRcdFx0XCJmaXJzdExhbmd1YWdlXCI6IGZpcnN0TGFuZ3VhZ2UsIFxuXHRcdFx0XHRcImNvdW50cnlPZk9yaWdpblwiOiBjb3VudHJ5T2ZPcmlnaW4sIFxuXHRcdFx0XHRcImJhY2tncm91bmRcIjogYmFja2dyb3VuZCwgXG5cdFx0XHRcdFwiZGVncmVlRGV0YWlsc1wiOiBkZWdyZWVEZXRhaWxzLCBcblx0XHRcdFx0XCJhbHRDb250YWN0XCI6IGFsdENvbnRhY3QsXG5cdFx0XHRcdFwiSFNDXCI6IEhTQywgXG5cdFx0XHRcdFwiSFNDTWFya3NcIjogSFNDTWFya3MsIFxuXHRcdFx0XHRcIklFTFRTXCI6IElFTFRTLCBcblx0XHRcdFx0XCJJRUxUU01hcmtzXCI6IElFTFRTTWFya3MsIFxuXHRcdFx0XHRcIlRPRUxGXCI6IFRPRUxGLCBcblx0XHRcdFx0XCJUT0VMRk1hcmtzXCI6IFRPRUxGTWFya3MsIFxuXHRcdFx0XHRcIlRBRkVcIjogVEFGRSxcblx0XHRcdFx0XCJUQUZFTWFya3NcIjogVEFGRU1hcmtzLCBcblx0XHRcdFx0XCJDVUxUXCI6IENVTFQsIFxuXHRcdFx0XHRcIkNVTFRNYXJrc1wiOiBDVUxUTWFya3MsIFxuXHRcdFx0XHRcImluc2VhcmNoREVFUFwiOiBpbnNlYXJjaERFRVAsIFxuXHRcdFx0XHRcImluc2VhcmNoREVFUE1hcmtzXCI6IGluc2VhcmNoREVFUE1hcmtzLFxuXHRcdFx0XHRcImluc2VhcmNoRGlwbG9tYVwiOiBpbnNlYXJjaERpcGxvbWEsXG5cdFx0XHRcdFwiaW5zZWFyY2hEaXBsb21hTWFya3NcIjogaW5zZWFyY2hEaXBsb21hTWFya3MsIFxuXHRcdFx0XHRcImZvdW5kYXRpb25Db3Vyc2VcIjogZm91bmRhdGlvbkNvdXJzZSxcblx0XHRcdFx0XCJmb3VuZGF0aW9uQ291cnNlTWFya3NcIjogZm91bmRhdGlvbkNvdXJzZU1hcmtzXG5cdFx0XHR9O1xuXHRcdH07XG5cdHJldHVybiBzdHVkZW50O1xufSlcblxuLmZhY3RvcnkoJ0NhbXB1cycsIGZ1bmN0aW9uKCkge1xuXHR2YXIgY2FtcHVzID0ge307XG5cdGNhbXB1cy5jcmVhdGUgPSBmdW5jdGlvbiAoY2FtcHVzSWQsIGNhbXB1c0luZm8sIGFyY2hpdmVkKSB7XG5cdFx0cmV0dXJuIHtcblx0XHRcdFwiY2FtcHVzSWRcIjogY2FtcHVzSWQsXG5cdFx0XHRcImNhbXB1c0luZm9cIjogY2FtcHVzSW5mbyxcblx0XHRcdFwiYXJjaGl2ZWRcIjogYXJjaGl2ZWRcblx0XHR9O1xuXHR9O1xuXHRcblx0cmV0dXJuIGNhbXB1cztcbn0pXG5cbi5mYWN0b3J5KCdXb3Jrc2hvcCcsIGZ1bmN0aW9uKCkge1xuXHR2YXIgd29ya3Nob3AgPSB7fTtcblx0XG5cdHdvcmtzaG9wLmNyZWF0ZSA9IGZ1bmN0aW9uICh3b3Jrc2hvcElkLCB3b3Jrc2hvcFNldElkLCBcblx0XHRjYW1wdXNJZCwgdG9waWMsIHN0YXJ0RGF0ZSwgZW5kRGF0ZSwgZGVzY3JpcHRpb24sXG5cdFx0dGFyZ2V0aW5nR3JvdXAsIG1heGltdW0sIGN1dG9mZiwgdHlwZSwgcmVtaW5kZXJOdW0sXG5cdFx0cmVtaW5kZXJTZW50LCBkYXlzT2ZXZWVrLCBib29raW5nQ291bnQsIGFyY2hpdmVkKSB7XG5cdFx0cmV0dXJuIHtcblx0XHRcdFwid29ya3Nob3BJZFwiOiB3b3Jrc2hvcElkLCBcblx0XHRcdFwid29ya3Nob3BTZXRJZFwiOiB3b3Jrc2hvcFNldElkLCBcblx0XHRcdFwiY2FtcHVzSWRcIjogY2FtcHVzSWQsIFxuXHRcdFx0XCJ0b3BpY1wiOiB0b3BpYywgXG5cdFx0XHRcInN0YXJ0RGF0ZVwiOiBzdGFydERhdGUsIFxuXHRcdFx0XCJlbmREYXRlXCI6IGVuZERhdGUsIFxuXHRcdFx0XCJkZXNjcmlwdGlvblwiOiBkZXNjcmlwdGlvbixcblx0XHRcdFwidGFyZ2V0aW5nR3JvdXBcIjogdGFyZ2V0aW5nR3JvdXAsIFxuXHRcdFx0XCJtYXhpbXVtXCI6IG1heGltdW0sIFxuXHRcdFx0XCJjdXRvZmZcIjogY3V0b2ZmLCBcblx0XHRcdFwidHlwZVwiOiB0eXBlLCBcblx0XHRcdFwicmVtaW5kZXJOdW1cIjogcmVtaW5kZXJOdW0sXG5cdFx0XHRcInJlbWluZGVyU2VudFwiOiByZW1pbmRlclNlbnQsIFxuXHRcdFx0XCJkYXlzT2ZXZWVrXCI6IGRheXNPZldlZWssIFxuXHRcdFx0XCJib29raW5nQ291bnRcIjogYm9va2luZ0NvdW50LCBcblx0XHRcdFwiYXJjaGl2ZWRcIjogYXJjaGl2ZWRcblx0XHR9O1xuXHR9O1xuXHRcblx0cmV0dXJuIHdvcmtzaG9wO1xufSlcblxuLmZhY3RvcnkoJ1dvcmtzaG9wU2V0JywgZnVuY3Rpb24gKCkge1xuXHR2YXIgd29ya3Nob3BTZXQgPSB7fTtcblx0d29ya3Nob3BTZXQuY3JlYXRlID0gZnVuY3Rpb24gKHdvcmtzaG9wU2V0SWQsIGNhbXB1c0lkLCBuYW1lLCBhcmNoaXZlZCl7XG5cdFx0cmV0dXJuIHtcblx0XHRcdFwid29ya3Nob3BTZXRJZFwiOiB3b3Jrc2hvcFNldElkLFxuXHRcdFx0XCJjYW1wdXNJZFwiOiBjYW1wdXNJZCxcblx0XHRcdFwibmFtZVwiOiBuYW1lLFxuXHRcdFx0XCJhcmNoaXZlZFwiOiBhcmNoaXZlZFxuXHRcdH07XG5cdH07XG5cdHJldHVybiB3b3Jrc2hvcFNldDtcbn0pXG5cbi5mYWN0b3J5KCdXb3Jrc2hvcFdhaXRpbmcnLCBmdW5jdGlvbiAoKSB7XG5cdHZhciB3b3Jrc2hvcFdhaXRpbmcgPSB7fTtcblxuXHR3b3Jrc2hvcFdhaXRpbmcuY3JlYXRlID0gZnVuY3Rpb24gKHdvcmtzaG9wV2FpdGluZ0lkLCB3b3Jrc2hvcElkLCBzdHVkZW50SWQsIHVzZXJJZCkge1xuXHRcdHJldHVybiB7XG5cdFx0XHRcIndvcmtzaG9wV2FpdGluZ0lkXCI6IHdvcmtzaG9wV2FpdGluZ0lkLFxuXHRcdFx0XCJ3b3Jrc2hvcElkXCI6IHdvcmtzaG9wSWQsXG5cdFx0XHRcInN0dWRlbnRJZFwiOiBzdHVkZW50SWQsXG5cdFx0XHRcInVzZXJJZFwiOiB1c2VySWRcblx0XHR9O1xuXHR9O1xuXHRyZXR1cm4gd29ya3Nob3BXYWl0aW5nO1xufSlcblxuLmZhY3RvcnkoJ1dvcmtzaG9wQm9va2luZycsIGZ1bmN0aW9uICgpIHtcblx0dmFyIHdvcmtzaG9wQm9va2luZyA9IHt9O1xuXHR3b3Jrc2hvcEJvb2tpbmcuY3JlYXRlID0gZnVuY3Rpb24gKHdvcmtzaG9wQm9va2luZ0lkLCB3b3Jrc2hvcElkLCBzdHVkZW50SWQsIHdvcmtzaG9wU2V0SWQsIHVzZXJJZCwgaXNBY3RpdmUpIHtcblx0XHRyZXR1cm4ge1xuXHRcdFx0XCJ3b3Jrc2hvcEJvb2tpbmdJZFwiOndvcmtzaG9wQm9va2luZ0lkLCBcblx0XHRcdFwid29ya3Nob3BJZFwiOiB3b3Jrc2hvcElkLCBcblx0XHRcdFwic3R1ZGVudElkXCI6IHN0dWRlbnRJZCwgXG5cdFx0XHRcIndvcmtzaG9wU2V0SWRcIjogd29ya3Nob3BTZXRJZCwgXG5cdFx0XHRcInVzZXJJZFwiOiB1c2VySWQsIFxuXHRcdFx0XCJpc0FjdGl2ZVwiOiBpc0FjdGl2ZVxuXHRcdH07XG5cdH07XG5cdHJldHVybiB3b3Jrc2hvcEJvb2tpbmc7XG59KVxuXG4uZmFjdG9yeSgnU2Vzc2lvbicsIGZ1bmN0aW9uICgpIHtcblx0dmFyIHNlc3Npb24gPSB7fTtcblx0c2Vzc2lvbi5jcmVhdGUgPSBmdW5jdGlvbiAoc2Vzc2lvbklkLCBzZXNzaW9uVHlwZUlkLCBjYW1wdXNJZCwgbGVjdHVyZXJJZCwgc3RhcnREYXRlLCBlbmREYXRlLCBpc0FjdGl2ZSkge1xuXHRcdHJldHVybiB7XG5cdFx0XHRcInNlc3Npb25JZFwiOiBzZXNzaW9uSWQsXG5cdFx0XHRcInNlc3Npb25UeXBlSWRcIjogc2Vzc2lvblR5cGVJZCxcblx0XHRcdFwiY2FtcHVzSWRcIjogY2FtcHVzSWQsXG5cdFx0XHRcImxlY3R1cmVySWRcIjogbGVjdHVyZXJJZCxcblx0XHRcdFwic3RhcnREYXRlXCI6IHN0YXJ0RGF0ZSxcblx0XHRcdFwiZW5kRGF0ZVwiOiBlbmREYXRlLFxuXHRcdFx0XCJpc0FjdGl2ZVwiOiBpc0FjdGl2ZVxuXHRcdFx0fTtcblx0fTtcblx0cmV0dXJuIHNlc3Npb247XG59KVxuXG4uZmFjdG9yeSgnU2Vzc2lvblR5cGUnLCBmdW5jdGlvbiAoKXtcblx0dmFyIHR5cGUgPSB7fTtcblx0dHlwZS5jcmVhdGUgPSBmdW5jdGlvbihzZXNzaW9uVHlwZUlkLCBhYmJOYW1lLCBmdWxsTmFtZSwgaXNDdXJyZW50LCBpc0FjdGl2ZSkge1xuXHRcdHJldHVybiB7XG5cdFx0XHRcInNlc3Npb25UeXBlSWRcIjogc2Vzc2lvblR5cGVJZCxcblx0XHRcdFwiYWJiTmFtZVwiOiBhYmJOYW1lLFxuXHRcdFx0XCJmdWxsTmFtZVwiOiBmdWxsTmFtZSxcblx0XHRcdFwiaXNDdXJyZW50XCI6IGlzQ3VycmVudCxcblx0XHRcdFwiaXNBY3RpdmVcIjogaXNBY3RpdmVcblx0XHR9O1xuXHR9O1xuXHRyZXR1cm4gdHlwZTtcbn0pXG5cbi5mYWN0b3J5KCdTZXNzaW9uQm9va2luZycsIGZ1bmN0aW9uKCkge1xuXHR2YXIgc2Vzc2lvbkJvb2tpbmcgPSB7fTtcblx0c2Vzc2lvbkJvb2tpbmcuY3JlYXRlID0gZnVuY3Rpb24oc2Vzc2lvbklkLCBib29raW5nSWQsIHN0dWRlbnRJZCwgdXNlcklkLCBpc0NhbmNlbGVkLCBhc3Npc3RhbmNlLCByZWFzb24sIGF0dGVuZGVkLCB3YWl0aW5nSWQsIGlzR3JvdXAsIG51bVBlb3BsZSwgbGVjdHVyZXJDb21tZW50LCBsZWFybmluZ0lzc3Vlc0lkLCBpc0xvY2tlZCwgYXNzaWduVHlwZSwgYXNzaWduVHlwZU90aGVyLCBzdWJqZWN0LCBhcHBvaW50bWVudHMsIGFwcG9pbnRtZW50c090aGVyLCBhc3Npc3RhbmNlVGV4dCwgYXJjaGl2ZWQpIHtcblx0XHRyZXR1cm4ge1xuXHRcdFx0XCJzZXNzaW9uSWRcIjogc2Vzc2lvbklkLCBcblx0XHRcdFwiYm9va2luZ0lkXCI6IGJvb2tpbmdJZCwgXG5cdFx0XHRcInN0dWRlbnRJZFwiOiBzdHVkZW50SWQsIFxuXHRcdFx0XCJ1c2VySWRcIjogdXNlcklkLCBcblx0XHRcdFwiaXNDYW5jZWxlZFwiOiBpc0NhbmNlbGVkLCBcblx0XHRcdFwiYXNzaXN0YW5jZVwiOiBhc3Npc3RhbmNlLCBcblx0XHRcdFwicmVhc29uXCI6IHJlYXNvbiwgXG5cdFx0XHRcImF0dGVuZGVkXCI6IGF0dGVuZGVkLCBcblx0XHRcdFwid2FpdGluZ0lkXCI6IHdhaXRpbmdJZCwgXG5cdFx0XHRcImlzR3JvdXBcIjogaXNHcm91cCwgXG5cdFx0XHRcIm51bVBlb3BsZVwiOiBudW1QZW9wbGUsIFxuXHRcdFx0XCJsZWN0dXJlckNvbW1lbnRcIjogbGVjdHVyZXJDb21tZW50LCBcblx0XHRcdFwibGVhcm5pbmdJc3N1ZXNJZFwiOiBsZWFybmluZ0lzc3Vlc0lkLCBcblx0XHRcdFwiaXNMb2NrZWRcIjogaXNMb2NrZWQsIFxuXHRcdFx0XCJhc3NpZ25UeXBlXCI6IGFzc2lnblR5cGUsIFxuXHRcdFx0XCJhc3NpZ25UeXBlT3RoZXJcIjogYXNzaWduVHlwZU90aGVyLCBcblx0XHRcdFwic3ViamVjdFwiOiBzdWJqZWN0LCBcblx0XHRcdFwiYXBwb2ludG1lbnRzXCI6IGFwcG9pbnRtZW50cywgXG5cdFx0XHRcImFwcG9pbnRtZW50c090aGVyXCI6IGFwcG9pbnRtZW50c090aGVyLCBcblx0XHRcdFwiYXNzaXN0YW5jZVRleHRcIjogYXNzaXN0YW5jZVRleHQsIFxuXHRcdFx0XCJhcmNoaXZlZFwiOiBhcmNoaXZlZFxuXHRcdH07XG5cdH07XG5cdHJldHVybiBzZXNzaW9uQm9va2luZztcbn0pXG5cbi5mYWN0b3J5KCdXYWl0aW5nJywgZnVuY3Rpb24oKSB7XG5cdHZhciB3YWl0ID0ge307XG5cdHdhaXQuY3JlYXRlID0gZnVuY3Rpb24od2FpdGluZ0lkLCBzdHVkZW50SWQsIGJvb2tpbmdJZCwgd2FpdGluZ0xpc3RJZCkge1xuXHRcdHJldHVybiB7XG5cdFx0XHRcIndhaXRpbmdJZFwiOiB3YWl0aW5nSWQsXG5cdFx0XHRcInN0dWRlbnRJZFwiOiBzdHVkZW50SWQsXG5cdFx0XHRcImJvb2tpbmdJZFwiOiBib29raW5nSWQsXG5cdFx0XHRcIndhaXRpbmdMaXN0XCI6IHdhaXRpbmdMaXN0SWRcblx0XHR9O1xuXHR9O1xuXHRyZXR1cm4gd2FpdDtcbn0pXG5cbi5mYWN0b3J5KCdXYWl0aW5nTGlzdCcsIGZ1bmN0aW9uKCkgeyBcblx0dmFyIHdhaXRpbmdMaXN0ID0ge307XG5cdHdhaXRpbmdMaXN0LmNyZWF0ZSA9IGZ1bmN0aW9uICh3YWl0aW5nTGlzdElkLCB3b3Jrc2hvcElkLCBudW1iZXJJbkxpc3QpIHtcblx0XHRyZXR1cm4ge1xuXHRcdFx0XCJ3YWl0aW5nTGlzdElkXCI6IHdhaXRpbmdMaXN0SWQsXG5cdFx0XHRcIndvcmtzaG9wSWRcIjogd29ya3Nob3BJZCxcblx0XHRcdFwibnVtYmVySW5MaXN0XCI6IG51bWJlckluTGlzdFxuXHRcdH07XG5cdH07XG5cdHJldHVybiB3YWl0aW5nTGlzdDtcbn0pXG5cbi5mYWN0b3J5KCdOb3RpZmljYXRpb24nLCBmdW5jdGlvbigpIHtcblx0dmFyIG5vdGlmaWNhdGlvbiA9IHt9O1xuXHRub3RpZmljYXRpb24uY3JlYXRlID0gZnVuY3Rpb24obm90aWZpY2F0aW9uSWQsIHN0dWRlbnRJZCwgd29ya3Nob3BJZCwgbm90aWZ5VGltZSwgaG91cnNBaGVhZCwgbm90aWZpY2F0aW9uVHlwZUlkKSB7XG5cdFx0cmV0dXJuIHtcblx0XHRcdFwibm90aWZpY2F0aW9uSWRcIjogbm90aWZpY2F0aW9uSWQsXG5cdFx0XHRcInN0dWRlbnRJZFwiOiBzdHVkZW50SWQsXG5cdFx0XHRcIndvcmtzaG9wSWRcIjogd29ya3Nob3BJZCxcblx0XHRcdFwibm90aWZ5VGltZVwiOiBub3RpZnlUaW1lLFxuXHRcdFx0XCJob3Vyc0FoZWFkXCI6IGhvdXJzQWhlYWQsXG5cdFx0XHRcIm5vdGlmaWNhdGlvblR5cGVJZFwiOiBub3RpZmljYXRpb25UeXBlSWQsXG5cdFx0fTtcblx0fTtcdFxuXHRyZXR1cm4gbm90aWZpY2F0aW9uO1xufSlcblxuLmZhY3RvcnkoJ05vdGlmaWNhdGlvblR5cGUnLCBmdW5jdGlvbigpIHtcblx0dmFyIG5vdGlmaWNhdGlvblR5cGUgPSB7fTtcblx0bm90aWZpY2F0aW9uVHlwZS5jcmVhdGUgPSBmdW5jdGlvbihub3RpZmljYXRpb25UeXBlSWQsIGFiYk5hbWUsIGZ1bGxOYW1lKXtcblx0XHRyZXR1cm4ge1xuXHRcdFx0XCJub3RpZmljYXRpb25UeXBlSWRcIjogbm90aWZpY2F0aW9uVHlwZUlkLFxuXHRcdFx0XCJhYmJOYW1lXCI6IGFiYk5hbWUsXG5cdFx0XHRcImZ1bGxOYW1lXCI6IGZ1bGxOYW1lXG5cdFx0fTtcblx0fTtcblx0cmV0dXJuIG5vdGlmaWNhdGlvblR5cGU7XG59KSIsIid1c2Ugc3RyaWN0JztcblxuYW5ndWxhci5tb2R1bGUoJ3V0c0hlbHBzLmF1dGhzJywgWyduZ1JvdXRlJywgJ2hlbHBzUmVzdGZ1bFNlcnZpY2VzJywgJ3V0c0hlbHBzLmNvbnN0YW50cyddKVxuLy8gVGhlc2UgY29uc3RhbnRzIGNhbiBiZSBpbmplY3RlZCB2aWEgSGVscHNSZXN0ZnVsU2VydmljZXNcbi5mYWN0b3J5KCdBdXRoU2VydmljZScsWyckaHR0cCcsICdTZXNzaW9uJywgJyRxJywgZnVuY3Rpb24gKCRodHRwLCBTZXNzaW9uLCAkcSkge1xuXHR2YXIgYXV0aFNlcnZpY2UgPSB7fTtcblx0YXV0aFNlcnZpY2UubG9naW5GYWtlID0gZnVuY3Rpb24gKGNyZWRlbnRpYWxzKXtcblx0XHRyZXR1cm4gJHEoZnVuY3Rpb24ocmVzb2x2ZSwgcmVqZWN0KSB7XG5cdFx0XHRzZXRUaW1lb3V0KGZ1bmN0aW9uKCkge1xuXHRcdFx0XHRpZiAoY3JlZGVudGlhbHMudXNlcm5hbWUgPT09ICdtYnVzYnknKSB7XG5cdFx0XHRcdFx0cmVqZWN0KFwiVXNlciBpcyB1bmF1dGhlbnRpY2F0ZWRcIik7XG5cdFx0XHRcdH1cblx0XHRcdFx0ZWxzZSB7XG5cdFx0XHRcdFx0U2Vzc2lvbi5jcmVhdGUoJzEnLCAxMTg5OTg1OSwgY3JlZGVudGlhbHMudXNlcm5hbWUsICdVc2VyJyk7XG5cdFx0XHRcdFx0cmVzb2x2ZShjcmVkZW50aWFscy51c2VybmFtZSk7XG5cdFx0XHRcdH1cblx0XHRcdH0sIDEwMDApO1xuXHRcdH0pO1xuXHR9XG5cdGF1dGhTZXJ2aWNlLmxvZ2luID0gZnVuY3Rpb24gKGNyZWRlbnRpYWxzKSB7XG5cdFx0Ly8gdGhpcyB3aWxsIHByb2JhYmx5IG5lZWQgdG8gYmUgcmV3cml0dGVuIHdoZW4gcmVhbCBsb2dpbiBmdW5jdGlvbmFsaXR5IFxuXHRcdC8vIGlzIGltcGxlbWVudGVkXG5cdFx0cmV0dXJuICRodHRwLnBvc3QoJy8nLCBjcmVkZW50aWFscylcblx0XHQudGhlbihmdW5jdGlvbiAocmVzKSB7IFxuXHRcdFx0U2Vzc2lvbi5jcmVhdGUocmVzLmRhdGEuaWQsIHJlcy5kYXRhLnVzZXIuaWQsXG5cdFx0XHRcdHJlcy5kYXRhLnVzZXIucm9sZSk7XG5cdFx0XHRyZXR1cm4gcmVzLmRhdGEudXNlcjtcblx0XHR9KTtcblx0fTtcblx0XG5cdGF1dGhTZXJ2aWNlLmlzQXV0aGVudGljYXRlZCA9IGZ1bmN0aW9uKCkge1xuXHRcdHJldHVybiAhIVNlc3Npb24udXNlcklkO1xuXHR9XG5cdFxuXHRhdXRoU2VydmljZS5pc0F1dGhvcml6ZWQgPSBmdW5jdGlvbiAoYXV0aG9yaXplZFJvbGVzKSB7XG5cdFx0aWYgKCFhbmd1bGFyLmlzQXJyYXkoYXV0aG9yaXplZFJvbGVzKSkge1xuXHRcdFx0YXV0aG9yaXplZFJvbGVzID0gW2F1dGhvcml6ZWRSb2xlc107XG5cdFx0fVxuXHRcdHJldHVybiAoYXV0aFNlcnZpY2UuaXNBdXRoZW50aWNhdGVkKCkgJiYgXG5cdFx0XHRhdXRob3JpemVkUm9sZXMuaW5kZXhPZihTZXNzaW9uLnVzZXJSb2xlKSAhPT0gLTEpO1xuXHR9O1xuXHRcblx0YXV0aFNlcnZpY2UubG9nb3V0ID0gZnVuY3Rpb24oKSB7XG5cdFx0Ly9UaGlzIGlzIHlldCB0byBiZSBmaWxsZWQgaW5cblx0XHRTZXNzaW9uLmRlc3Ryb3koKTtcblx0fVxuXG5cdGF1dGhTZXJ2aWNlLmxvZ291dEZha2UgPSBmdW5jdGlvbigpIHtcblx0XHRTZXNzaW9uLmRlc3Ryb3koKTtcblx0XHRyZXR1cm4gJHEoZnVuY3Rpb24ocmVzb2x2ZSwgcmVqZWN0KSB7XG5cdFx0XHRzZXRUaW1lb3V0KGZ1bmN0aW9uKCkge1xuXHRcdFx0XHRpZiAodHJ1ZSkge3JldHVybiByZXNvbHZlKCk7fVxuXHRcdFx0XHRlbHNlIHtyZXR1cm4gcmVqZWN0KCk7fVxuXHRcdFx0fSlcblx0XHR9KTtcblx0fVxuXG5cdHJldHVybiBhdXRoU2VydmljZTtcbn1dKVxuLy9UaGVyZSB1c2VkIHRvIGJlIGEgc2VydmljZSBpbiBoZXJlIGJ1dCBpdCBzaG91bGQgYmUgaW5qZWN0ZWQgZnJvbSB0aGUgcmVzdGZ1bCBcbi8vc2VydmljZXNcbi5mYWN0b3J5KCdBdXRoSW50ZXJjZXB0b3InLCBbJyRyb290U2NvcGUnLCAnJHEnLCAnQVVUSF9FVkVOVFMnLCBmdW5jdGlvbiAoJHJvb3RTY29wZSwgJHEsIEFVVEhfRVZFTlRTKXtcblx0cmV0dXJuIHtcblx0XHRyZXNwb25zZUVycm9yOiBmdW5jdGlvbiAocmVzcG9uc2UpIHtcblx0XHRcdCRyb290U2NvcGUuJGJyb2FkY2FzdCh7XG5cdFx0XHRcdDQwMTogQVVUSF9FVkVOVFMubm90QXV0aGVudGljYXRlZCxcblx0XHRcdFx0NDAzOiBBVVRIX0VWRU5UUy5ub3RBdXRob3JpemVkLFxuXHRcdFx0XHQ0MTk6IEFVVEhfRVZFTlRTLnNlc3Npb25UaW1lb3V0LFxuXHRcdFx0XHQ0NDA6IEFVVEhfRVZFTlRTLnNlc3Npb25UaW1lb3V0XG5cdFx0XHR9W3Jlc3BvbnNlLnN0YXR1c10sIHJlc3BvbnNlKTtcblx0XHRcdHJldHVybiAkcS5yZWplY3QocmVzcG9uc2UpO1xuXHRcdH1cblx0fVxufV0pOyIsIid1c2Ugc3RyaWN0JztcblxuYW5ndWxhci5tb2R1bGUoJ3V0c0hlbHBzLmV4YW1wbGUnLCBbJ25nUm91dGUnXSlcblxuLmNvbmZpZyhbJyRyb3V0ZVByb3ZpZGVyJywgZnVuY3Rpb24oJHJvdXRlUHJvdmlkZXIpIHtcblx0JHJvdXRlUHJvdmlkZXIud2hlbignL2V4YW1wbGUnLCB7XG5cdFx0dGVtcGxhdGVVcmw6ICd2aWV3cy9leGFtcGxlVmlldy5odG1sJyxcblx0XHRjb250cm9sbGVyOiAnZXhhbXBsZUN0cmwnXG5cdH0pO1xufV0pXG5cbi5jb250cm9sbGVyKCdleGFtcGxlQ3RybCcsIFsnJHNjb3BlJywgJ0FsZXJ0QmFubmVyJywgZnVuY3Rpb24oJHNjb3BlLCBBbGVydEJhbm5lcikge1xuXHQkc2NvcGUuZ2xvYmFscy5wYWdlVGl0bGUgPSBcIkV4YW1wbGUgVmlld1wiO1xufV0pOyIsIid1c2Ugc3RyaWN0JztcblxuYW5ndWxhci5tb2R1bGUoJ3V0c0hlbHBzLmxvZ2luJywgWyduZ1JvdXRlJ10pXG5cbi5jb25maWcoWyckcm91dGVQcm92aWRlcicsIGZ1bmN0aW9uKCRyb3V0ZVByb3ZpZGVyKSB7XG5cdCRyb3V0ZVByb3ZpZGVyLndoZW4oJy9sb2dpbicsIHtcblx0XHR0ZW1wbGF0ZVVybDogJ3ZpZXdzL2xvZ2luVmlldy5odG1sJyxcblx0XHRjb250cm9sbGVyOiAnbG9naW5DdHJsJ1xuXHR9KTtcbn1dKVxuLmNvbnRyb2xsZXIoJ2xvZ2luQ3RybCcsIFsnJHNjb3BlJywgJyRyb290U2NvcGUnLCAnQVVUSF9FVkVOVFMnLCAnQXV0aFNlcnZpY2UnLCBcblx0ZnVuY3Rpb24oJHNjb3BlLCAkcm9vdFNjb3BlLCBBVVRIX0VWRU5UUywgQXV0aFNlcnZpY2UpIHtcblx0XHQkc2NvcGUuY3JlZGVudGlhbHMgPSB7XG5cdFx0XHR1c2VybmFtZTogJycsXG5cdFx0XHRwYXNzd29yZDogJydcblx0XHR9O1xuXHRcdCRzY29wZS5sb2dpbkZhaWxlZCA9IGZhbHNlO1xuXHRcdCRzY29wZS5sb2dpbiA9IGZ1bmN0aW9uIChjcmVkZW50aWFscykge1xuXHRcdFx0QXV0aFNlcnZpY2UubG9naW5GYWtlKGNyZWRlbnRpYWxzKS50aGVuKGZ1bmN0aW9uICh1c2VyKSB7XG5cdFx0XHRcdCRyb290U2NvcGUuJGJyb2FkY2FzdChBVVRIX0VWRU5UUy5sb2dpblN1Y2Nlc3MpO1xuXHRcdFx0XHQkc2NvcGUuc2V0Q3VycmVudFVzZXIodXNlcik7XG5cdFx0XHR9LCBmdW5jdGlvbiAoZXJyKSB7XG5cdFx0XHRcdCRzY29wZS5sb2dpbkZhaWxlZCA9IHRydWU7XG5cdFx0XHRcdCRyb290U2NvcGUuJGJyb2FkY2FzdChBVVRIX0VWRU5UUy5sb2dpbkZhaWxlZCk7XG5cdFx0XHR9KTtcblx0XHR9O1xuXHR9XSk7IiwiJ3VzZSBzdHJpY3QnO1xuXG5hbmd1bGFyLm1vZHVsZSgndXRzSGVscHMuVXBjb21pbmdBY3Rpdml0aWVzJywgWyd1dHNIZWxwcy5kaXJlY3RpdmVzJywgJ2hlbHBzUmVzdGZ1bFNlcnZpY2VzJywgJ25nUm91dGUnXSlcbi5jb25maWcoWyckcm91dGVQcm92aWRlcicsIGZ1bmN0aW9uKCRyb3V0ZVByb3ZpZGVyKXtcblx0JHJvdXRlUHJvdmlkZXIud2hlbignL3VwY29taW5nQWN0aXZpdGllcycsIHtcblx0XHR0ZW1wbGF0ZVVybDogJ3ZpZXdzL3VwY29taW5nQWN0aXZpdGllc1ZpZXcuaHRtbCcsXG5cdFx0Y29udHJvbGxlcjogJ1VwY29taW5nQWN0aXZpdGllc0N0cmwnXG5cdH0pXG59XSlcbi5jb250cm9sbGVyKCdVcGNvbWluZ0FjdGl2aXRpZXNDdHJsJywgWyckc2NvcGUnLCAnVXBjb21pbmdBY3Rpdml0aWVzTW9kZWwnLCAnU2Vzc2lvbicsICdBbGVydEJhbm5lcicsIGZ1bmN0aW9uKCRzY29wZSwgVXBjb21pbmdBY3Rpdml0aWVzTW9kZWwsIFNlc3Npb24sIEFsZXJ0QmFubmVyKXtcblx0JHNjb3BlLmdsb2JhbHMucGFnZVRpdGxlID0gXCJVcGNvbWluZyBBY3Rpdml0aWVzXCI7XG5cdCRzY29wZS5VcGNvbWluZ0FjdGl2aXRpZXNNb2RlbCA9IFVwY29taW5nQWN0aXZpdGllc01vZGVsO1xuXHQkc2NvcGUuc2VsZWN0ZWRXb3Jrc2hvcCA9IG51bGw7XG5cdCRzY29wZS5jbGlja2VkT25BbkFjdGl2aXR5ID0gZnVuY3Rpb24oYWN0aXZpdHkpIHtcblx0XHR2YXIgYWN0aXZpdHlBc1N0cmluZyA9IEpTT04uc3RyaW5naWZ5KGFjdGl2aXR5KTtcblx0XHRmb3IgKHZhciB3b3Jrc2hvcElkIGluICRzY29wZS5VcGNvbWluZ0FjdGl2aXRpZXNNb2RlbC5hY3Rpdml0aWVzKSB7XG5cdFx0XHRpZiAoYWN0aXZpdHlBc1N0cmluZyA9PT0gSlNPTi5zdHJpbmdpZnkoJHNjb3BlLlVwY29taW5nQWN0aXZpdGllc01vZGVsLmFjdGl2aXRpZXNbd29ya3Nob3BJZF0pKSB7XG5cdFx0XHRcdGFjdGl2aXR5LmlzRXhwYW5kZWQ9IWFjdGl2aXR5LmlzRXhwYW5kZWQ7XG5cdFx0XHR9XG5cdFx0XHRlbHNlIHtcblx0XHRcdFx0JHNjb3BlLlVwY29taW5nQWN0aXZpdGllc01vZGVsLmFjdGl2aXRpZXNbd29ya3Nob3BJZF0uaXNFeHBhbmRlZCA9IGZhbHNlO1xuXHRcdFx0fVxuXHRcdH1cblx0fVxuXHQkc2NvcGUuYm9va1dvcmtzaG9wID0gZnVuY3Rpb24od29ya3Nob3ApIHtcblx0XHQvLyBQcmVwYXJlXG5cdFx0JHNjb3BlLnNlbGVjdGVkV29ya3Nob3AgPSB3b3Jrc2hvcDtcblx0XHQvLyBNYWtlIGl0IGFwcGVhclxuXHRcdCRzY29wZS4kYnJvYWRjYXN0KFwiU0hPV19DT05GSVJNX0RFTllcIik7XHRcdCBcblx0fTtcblx0JHNjb3BlLmNvbmZpcm1Xb3Jrc2hvcCA9IGZ1bmN0aW9uKGNvbmZpcm1hdGlvbikge1xuXHRcdGlmIChjb25maXJtYXRpb24pIHtcblx0XHRcdFVwY29taW5nQWN0aXZpdGllc01vZGVsLmJvb2tXb3Jrc2hvcCgkc2NvcGUuc2VsZWN0ZWRXb3Jrc2hvcC5Xb3Jrc2hvcElkLCBTZXNzaW9uLnVzZXJJZClcblx0XHRcdC50aGVuKGZ1bmN0aW9uKHN1Y2Nlc3MpIHtcblx0XHRcdFx0aWYgKHN1Y2Nlc3MpIHtcblx0XHRcdFx0IFx0XHQvLyBUcmlnZ2VyIGJhbm5lciB0byBzYXkgc3VjY2Vzc2Z1bCBib29raW5nIG1hZGVcblx0XHRcdFx0IFx0XHRBbGVydEJhbm5lci5wdWJsaXNoKHtcblx0XHRcdFx0IFx0XHRcdHR5cGU6IFwic3VjY2Vzc1wiLFxuXHRcdFx0XHQgXHRcdFx0bWVzc2FnZTogXCJTdWNjZXNzZnVsbHkgbWFkZSBhIGJvb2tpbmcuXCIsXG5cdFx0XHRcdCBcdFx0XHR0aW1lQ29sbGFwc2U6IDMwMDBcblx0XHRcdFx0IFx0XHR9KTtcblx0XHRcdFx0IFx0fVx0XHRcblx0XHRcdFx0IFx0ZWxzZSB7XG5cdFx0XHRcdCBcdFx0Ly8gRG9uJ3QgdHJpZ2dlciBhIGJhbm5lclxuXHRcdFx0XHQgXHR9XG5cdFx0XHRcdCB9KTtcblx0XHR9XG5cdFx0JHNjb3BlLnNlbGVjdGVkV29ya3Nob3AgPSBudWxsO1xuXHR9XG59XSk7IiwiYW5ndWxhci5tb2R1bGUoJ3V0c0hlbHBzLmNvbnN0YW50cycsIFtdKVxuLmNvbnN0YW50KCdFUlJfQlJPQURDQVNUUycsIHtcblx0XCJBUElfRVJST1JcIjpcIkFQSV9FUlJPUlwiXG59KVxuLmNvbnN0YW50KCdBVVRIX0VWRU5UUycsIHtcblx0bG9naW5TdWNjZXNzOiAnYXV0aC1sb2dpbi1zdWNlc3MnLFxuXHRsb2dpbkZhaWxlZDogJ2F1dGgtbG9naW4tZmFpbGVkJyxcblx0bG9nb3V0U3VjY2VzczogJ2F1dGgtbG9nb3V0LXN1Y2Nlc3MnLFxuXHRzZXNzaW9uVGltZW91dDogJ2F1dGgtc2Vzc2lvbi10aW1lb3V0Jyxcblx0bm90QXV0aGVudGljYXRlZDogJ2F1dGgtbm90LWF1dGhlbnRpY2F0ZWQnLFxuXHRub3RBdXRob3JpemVkOiAnYXV0aC1ub3QtYXV0aG9yaXplZCdcbn0pXG4uY29uc3RhbnQoJ1VTRVJfUk9MRVMnLCB7XG5cdGFsbDogJyonLFxuXHRhZG1pbjogJ2FkbWluJyxcblx0ZWRpdG9yOiAnZWRpdG9yJyxcblx0Z3Vlc3Q6ICdndWVzdCcsXG5cdHVzZXI6ICd1c2VyJ1xufSlcbi5jb25zdGFudChcImhlbHBzX2VuZHBvaW50X2NvbnN0YW50c1wiLCB7XG5cdFwiRU5EUE9JTlRfVVJJXCI6XCJodHRwOi8vaGVscHNoZXJlLmNsb3VkYXBwLm5ldC9hcGlcIixcblx0XCJwb3J0XCI6XCI4MFwiLFxuXHRcIkFQUF9LRVlcIjonMTIzNDU2Jyxcblx0XCJBQ1RJVklUSUVTX1VSSVwiOlwiL3dvcmtzaG9wXCIsXG5cdFwiU0VBUkNIX1VSSVwiOlwiL3NlYXJjaFwiLFxuXHRcIkJPT0tfU0VTU0lPTl9VUklcIjpcIi93b3Jrc2hvcC9ib29raW5nL2NyZWF0ZVwiXG59KTsiLCJhbmd1bGFyLm1vZHVsZSgndXRzSGVscHMuZGlyZWN0aXZlcycsIFtdKVxuLmRpcmVjdGl2ZSgndWhBY3Rpdml0eURldGFpbHMnLCBmdW5jdGlvbigpIHtcblx0cmV0dXJuIHtcblx0XHR0ZW1wbGF0ZVVybDogXCJkaXJlY3RpdmVzL2FjdGl2aXR5LWRldGFpbHMvYWN0aXZpdHktZGV0YWlscy5odG1sXCIsXG5cdFx0cmVzdHJpY3Q6ICdFJyxcblx0XHRzY29wZToge1xuXHRcdFx0YWN0aXZpdHlEZXRhaWxzOiAnPWFjdGl2aXR5RGV0YWlscycsXG5cdFx0XHRleHBhbmQ6ICc9ZXhwYW5kJyxcblx0XHRcdHdvcmtzaG9wQ2xpY2tIYW5kbGVyOiAnPXdvcmtzaG9wQ2xpY2tIYW5kbGVyJ1xuXHRcdH1cblx0fVxufSlcbi5kaXJlY3RpdmUoJ3VoRXJyb3JCb3gnLCBmdW5jdGlvbigpIHtcblx0cmV0dXJuIHtcblx0XHR0ZW1wbGF0ZVVybDogXCJkaXJlY3RpdmVzL3VoLWVycm9yLWJveC91aC1lcnJvci1ib3guaHRtbFwiLFxuXHRcdHJlc3RyaWN0OiAnRScsXG5cdFx0c2NvcGU6IHtcblx0XHRcdGVycm9yTXNnOiAnPWVycm9yTWVzc2FnZSdcblx0XHR9XG5cdH1cbn0pXG4uZGlyZWN0aXZlKCdzdG9wRXZlbnQnLCBmdW5jdGlvbiAoKSB7XG4gICAgcmV0dXJuIHtcbiAgICAgICAgcmVzdHJpY3Q6ICdBJyxcbiAgICAgICAgbGluazogZnVuY3Rpb24gKHNjb3BlLCBlbGVtZW50LCBhdHRyKSB7XG4gICAgICAgICAgICBlbGVtZW50LmJpbmQoJ2NsaWNrJywgZnVuY3Rpb24gKGUpIHtcbiAgICAgICAgICAgICAgICBlLnN0b3BQcm9wYWdhdGlvbigpO1xuICAgICAgICAgICAgfSk7XG4gICAgICAgIH1cbiAgICB9O1xuIH0pXG4uZGlyZWN0aXZlKCd0cnVuY2F0ZVRleHQnLCBmdW5jdGlvbigpIHtcblx0Ly8gRGlyZWN0aXZlIHRha2VuIGZyb20gaHR0cDovL3d3dy5uZ3JvdXRlcy5jb20vcXVlc3Rpb25zLzFiMTc0OWQvYW5ndWxhcmpzLWNyZWF0ZS1tb3JlLXRhZy1hZnRlci14LW51bWJlcnMtb2YtY2hhcmFjdGVycy5odG1sXG5cdHJldHVybiB7XG5cdFx0cmVzdHJpY3Q6ICdBJyxcblx0XHRsaW5rOiBmdW5jdGlvbihzY29wZSwgZWxlbSwgYXR0cnMpIHtcblx0XHRcdHZhciB0ZXh0ID0gZWxlbS5jb250ZXh0LmlubmVyVGV4dDtcblx0XHRcdGVsZW0uY29udGV4dC5pbm5lclRleHQgPSB0cnVuYyhhdHRycy50cnVuY2F0ZVRleHQsIHRleHQsIHRydWUpO1xuXHRcdFx0ZWxlbS5hcHBlbmQoJzxhIGNsYXNzPVwibW9yZS10ZXh0XCIgbmctY2xpY2s9XCJleHBhbmQoKTtcIj4gbW9yZS4uLjwvYT4nKTtcblx0XHRcdGVsZW0ub24oJ2NsaWNrJywgZnVuY3Rpb24oKSB7XG5cdFx0XHRcdGVsZW0uY29udGV4dC5pbm5lclRleHQgPSAkaW50ZXJwb2xhdGUodGV4dCk7XG5cdFx0XHR9KTtcblx0XHRcdGZ1bmN0aW9uIHRydW5jKG4sIHRleHQsIHVzZVdvcmRCb3VuZGFyeSkge1xuXHRcdFx0XHR2YXIgdG9Mb25nID0gdGV4dC5sZW5ndGggPiBuLFxuXHRcdFx0XHRcdHNfID0gdG9Mb25nID8gdGV4dC5zdWJzdHIoMCxuLTEpIDogdGV4dDtcblx0XHRcdFx0c18gPSB1c2VXb3JkQm91bmRhcnkgJiYgdG9Mb25nID8gc18uc3Vic3RyKDAsIHNfLmxhc3RJbmRleE9mKCcgJykpIDogc187XG5cdFx0XHRcdHJldHVybiBzXztcblx0XHRcdH1cblx0XHR9XG5cdH1cbn0pXG4uZGlyZWN0aXZlKCdsb2dpbkRpYWxvZycsIGZ1bmN0aW9uIChBVVRIX0VWRU5UUykge1xuXHRyZXR1cm4ge1xuXHRcdHJlc3RyaWN0OiAnQScsXG5cdFx0dGVtcGxhdGU6ICc8ZGl2IG5nLWlmPVwidmlzaWJsZVwiIG5nLWluY2x1ZGU9XCJcXCdsb2dpbi1mb3JtLmh0bWxcXCdcIj4nLFxuXHRcdGxpbms6IGZ1bmN0aW9uIChzY29wZSkge1xuXHRcdFx0dmFyIHNob3dEaWFsb2cgPSBmdW5jdGlvbiAoKSB7XG5cdFx0XHRcdHNjb3BlLnZpc2libGUgPSB0cnVlO1xuXHRcdFx0fVxuXHRcdFx0XG5cdFx0XHRzY29wZS52aXNpYmxlID0gZmFsc2U7XG5cdFx0XHRzY29wZS4kb24oQVVUSF9FVkVOVFMubm90QXV0aGVudGljYXRlZCwgc2hvd0RpYWxvZyk7XG5cdFx0XHRzY29wZS4kb24oQVVUSF9FVkVOVFMuc2Vzc2lvblRpbWVvdXQsIHNob3dEaWFsb2cpO1xuXHRcdH1cblx0fVxufSlcbi5kaXJlY3RpdmUoJ3VoQ29uZmlybURlbnlNb2RhbCcsIGZ1bmN0aW9uKCRwYXJzZSkge1xuXHRyZXR1cm4ge1xuXHRcdHJlc3RyaWN0OiAnRScsXG5cdFx0dHJhbnNjbHVkZTogdHJ1ZSxcblx0XHR0ZW1wbGF0ZVVybDogXCJkaXJlY3RpdmVzL3VoLWNvbmZpcm0tZGVueS1tb2RhbC91aC1jb25maXJtLWRlbnktbW9kYWwuaHRtbFwiLFxuXHRcdGxpbms6IGZ1bmN0aW9uKHNjb3BlLCBlbGVtLCBhdHRycykge1xuXHRcdFx0dmFyIGNhbGxiYWNrRnVuY3Rpb24gPSAkcGFyc2UoYXR0cnMuY2FsbGJhY2spO1xuXHRcdFx0dmFyIGRlY2lzaW9uID0gZnVuY3Rpb24oaXNDb25maXJtZWQpIHtcblx0XHRcdFx0Y2FsbGJhY2tGdW5jdGlvbihzY29wZSwge2lzQ29uZmlybWVkOmlzQ29uZmlybWVkfSk7XG5cdFx0XHR9XG5cdFx0XHR2YXIgc2hvd01vZGFsID0gZnVuY3Rpb24oKSB7XG5cdFx0XHRcdGVsZW0uZmluZCgnZGl2JykuZm91bmRhdGlvbigncmV2ZWFsJywgJ29wZW4nKTtcblx0XHRcdH1cblx0XHRcdHZhciBoaWRlTW9kYWwgPSBmdW5jdGlvbigpIHtcblx0XHRcdFx0ZWxlbS5maW5kKCdkaXYnKS5mb3VuZGF0aW9uKCdyZXZlYWwnLCAnY2xvc2UnKTtcblx0XHRcdH1cblx0XHRcdHNjb3BlLiRvbignU0hPV19DT05GSVJNX0RFTlknLCBzaG93TW9kYWwpO1xuXHRcdFx0dmFyIGRlbnlNb2RhbCA9IGZ1bmN0aW9uKCkge1xuXHRcdFx0XHRoaWRlTW9kYWwoKTtcblx0XHRcdFx0Y29uc29sZS5sb2coXCJNb2RhbCBoaWRkZW4hXCIpO1xuXHRcdFx0XHRkZWNpc2lvbihmYWxzZSk7XG5cdFx0XHR9O1xuXHRcdFx0dmFyIGNvbmZpcm1Nb2RhbCA9IGZ1bmN0aW9uKCkge1xuXHRcdFx0XHRoaWRlTW9kYWwoKTtcblx0XHRcdFx0ZGVjaXNpb24odHJ1ZSk7XG5cdFx0XHR9XG5cdFx0XHQvLyBJIGNhbid0IHdvcmsgb3V0IGhvdyB0byBkbyB0aGlzIGluIEpRbGl0ZSB5ZXQgc28gSSd2ZSB1c2VkICQuLi5cblx0XHRcdCQoZWxlbSkuZmluZChcIi5jYW5jZWxcIikub24oJ2NsaWNrJywgZnVuY3Rpb24oKSB7XG5cdFx0XHRcdGNvbnNvbGUubG9nKFwiTW9kYWwgZGVjbGluZWRcIik7XG5cdFx0XHRcdGRlbnlNb2RhbCgpO1xuXHRcdFx0fSk7XG5cdFx0XHQkKGVsZW0pLmZpbmQoXCIuY29uZmlybVwiKS5vbignY2xpY2snLCBmdW5jdGlvbigpIHtcblx0XHRcdFx0Y29uc29sZS5sb2coXCJNb2RhbCBhY2NlcHRlZFwiKTtcblx0XHRcdFx0Y29uZmlybU1vZGFsKCk7XG5cdFx0XHR9KVxuXHRcdH1cblx0fVxufSk7Il0sInNvdXJjZVJvb3QiOiIvc291cmNlLyJ9
