angular.module("utsHelps.directives",[]).directive("uhActivityDetails",function(){return{templateUrl:"directives/activity-details/activity-details.html",restrict:"E",scope:{activityDetails:"=activityDetails",expand:"=expand",workshopClickHandler:"=workshopClickHandler",waitlistClickHandler:"=waitlistClickHandler"}}}).directive("uhErrorBox",function(){return{templateUrl:"directives/uh-error-box/uh-error-box.html",restrict:"E",scope:{errorMsg:"=errorMessage"}}}).directive("stopEvent",function(){return{restrict:"A",link:function(e,t,n){t.bind("click",function(e){e.stopPropagation()})}}}).directive("truncateText",function(){return{restrict:"A",link:function(e,t,n){function o(e,t,n){var o=t.length>e,i=o?t.substr(0,e-1):t;return i=n&&o?i.substr(0,i.lastIndexOf(" ")):i}var i=t.context.innerText;t.context.innerText=o(n.truncateText,i,!0),t.append('<a class="more-text" ng-click="expand();"> more...</a>'),t.on("click",function(){t.context.innerText=$interpolate(i)})}}}).directive("loginDialog",function(e){return{restrict:"A",template:'<div ng-if="visible" ng-include="\'login-form.html\'">',link:function(t){var n=function(){t.visible=!0};t.visible=!1,t.$on(e.notAuthenticated,n),t.$on(e.sessionTimeout,n)}}}).directive("uhConfirmDenyModal",["$parse",function(e){return{restrict:"E",transclude:!0,templateUrl:"directives/uh-confirm-deny-modal/uh-confirm-deny-modal.html",link:function(t,n,o){var i=e(o.callback),r=function(e){i(t,{isConfirmed:e})},s=function(){n.find("div").foundation("reveal","open")},a=function(){n.find("div").foundation("reveal","close")};t.$on("SHOW_CONFIRM_DENY",s);var c=function(){a(),console.log("Modal hidden!"),r(!1)},u=function(){a(),r(!0)};$(n).find(".cancel").on("click",function(){console.log("Modal declined"),c()}),$(n).find(".confirm").on("click",function(){console.log("Modal accepted"),u()})}}}]),angular.module("utsHelps",["ngRoute","utsHelps.auths","utsHelps.example","utsHelps.login","helpsRestfulServices","utsHelps.example","utsHelps.UpcomingActivities","angular.filter","ngAnimate","angular-loading-bar","utsHelps.constants","angular-alert-banner","utsHelps.UserMessagingService"]).config(["$routeProvider","cfpLoadingBarProvider","$httpProvider",function(e,t,n){e.otherwise({redirectTo:"/example"}),t.includeSpinner=!1,n.interceptors.push(["$injector",function(e){return e.get("AuthInterceptor")}])}]).config(["$provide",function(e){e.decorator("$exceptionHandler",["$delegate",function(e){return function(t,n){throw e(t,n),t}}])}]).run(["$rootScope","AUTH_EVENTS","AuthService","$location",function(e,t,n,o){console.log("Angular initialised!"),$(document).ready(function(){$(document).foundation({offcanvas:{close_on_click:!0}})}),$(document).on("open.fndtn.offcanvas","[data-offcanvas]",function(){$(this);$("#loading-bar").addClass("hide"),$("#loading-bar-spinner").addClass("hide")}),$(document).on("close.fndtn.offcanvas","[data-offcanvas]",function(){$(this);$("#loading-bar").removeClass("hide"),$("#loading-bar-spinner").addClass("hide")}),e.$on("$locationChangeStart",function(e,t,i){n.isAuthenticated()||"views/loginView.html"!=t.templateUrl&&o.path("/login")}),e.$on(t.loginSuccess,function(e){o.path("/example")}),e.$on(t.logoutSuccess,function(e){o.path("/login")})}]).controller("ApplicationController",["$scope","USER_ROLES","AuthService","ERR_BROADCASTS","AUTH_EVENTS","$rootScope","UserMessagingService",function(e,t,n,o,i,r,s){e.globals={pageTitle:"UTS HELPS"},e.err_message="",e.triggerCloseModal=function(){$("#uh-error-modal").foundation("reveal","close")},e.currentUser=null,e.userRoles=t,e.isAuthorized=n.isAuthorized,e.setCurrentUser=function(t){e.currentUser=t},e.logout=function(){n.logoutFake().then(function(){e.currentUser=null,r.$broadcast(i.logoutSuccess)},function(e){r.$broadcast(o.API_ERROR,e)})},e.isLoginPage=!0}]),angular.module("helpsRestfulServices",["utsHelps.constants","helpsModelsServices"]).config(["$sceDelegateProvider","helps_endpoint_constants",function(e,t){e.resourceUrlWhitelist(["self",t.ENDPOINT_URI+"/**"])}]).service("ApiMethods",["$http","helps_endpoint_constants","ERR_BROADCASTS","$rootScope","$q",function(e,t,n,o,i){this.createConfigObject=function(){var e={headers:{AppKey:t.APP_KEY}};return e},this.getResource=function(n,o){var i=this.createConfigObject();return i.params=o,e.get(t.ENDPOINT_URI+n,i)},this.getResourceFaked=function(e,n){var o;return e===t.ACTIVITIES_URI+t.SEARCH_URI?o={Results:[{WorkshopId:11,topic:"Planning and researching for an assignment",description:"“I have an assignment due soon, but I don’t know where and how to begin.",targetingGroup:"all students",campus:"CB02.05.32",StartDate:"2012-07-07T17:00:00",EndDate:"2012-07-07T18:00:00",maximum:45,WorkShopSetID:4,cutoff:null,type:"single",reminder_num:9999,reminder_sent:0,DaysOfWeek:null,BookingCount:45,archived:null},{WorkshopId:12,topic:"Planning and researching for an assignment",description:"“I have an assignment due soon, but I don’t know where and how to begin.",targetingGroup:"all students",campus:"CB02.05.32",StartDate:"2012-08-07T17:00:00",EndDate:"2012-08-07T18:00:00",maximum:45,WorkShopSetID:4,cutoff:null,type:"single",reminder_num:9999,reminder_sent:0,DaysOfWeek:null,BookingCount:44,archived:null},{WorkshopId:14,topic:"Planning and researching for an assignment",description:"“I have an assignment due soon, but I don’t know where and how to begin.",targetingGroup:"all students",campus:"CB02.05.32",StartDate:"2012-08-07T17:00:00",EndDate:"2012-08-07T18:00:00",maximum:45,WorkShopSetID:4,cutoff:null,type:"single",reminder_num:9999,reminder_sent:0,DaysOfWeek:null,BookingCount:45,archived:null},{WorkshopId:16,topic:"U:PASSwrite for 21129 Managing People & Organisations",description:"This workshop will empower you to write excellent essays and provide valuable support for the upcoming assignment.",targetingGroup:"all students",campus:"CB02.05.32",StartDate:"2012-09-07T17:00:00",EndDate:"2012-09-07T18:00:00",maximum:45,WorkShopSetID:5,cutoff:null,type:"single",reminder_num:9999,reminder_sent:0,DaysOfWeek:null,BookingCount:44,archived:null},{WorkshopId:16,topic:"U:PASSwrite for 21129 Managing People & Organisations",description:"This workshop will empower you to write excellent essays and provide valuable support for the upcoming assignment.",targetingGroup:"all students",campus:"CB02.05.32",StartDate:"2012-09-07T17:00:00",EndDate:"2012-09-07T18:00:00",maximum:45,WorkShopSetID:9,cutoff:null,type:"single",reminder_num:9999,reminder_sent:0,DaysOfWeek:null,BookingCount:44,archived:null},{WorkshopId:16,topic:"U:PASSwrite for 21129 Managing People & Organisations",description:"This workshop will empower you to write excellent essays and provide valuable support for the upcoming assignment.",targetingGroup:"all students",campus:"CB02.05.32",StartDate:"2012-09-07T17:00:00",EndDate:"2012-09-07T18:00:00",maximum:45,WorkShopSetID:10,cutoff:null,type:"single",reminder_num:9999,reminder_sent:0,DaysOfWeek:null,BookingCount:44,archived:null},{WorkshopId:16,topic:"U:PASSwrite for 21129 Managing People & Organisations",description:"This workshop will empower you to write excellent essays and provide valuable support for the upcoming assignment.",targetingGroup:"all students",campus:"CB02.05.32",StartDate:"2012-09-07T17:00:00",EndDate:"2012-09-07T18:00:00",maximum:45,WorkShopSetID:15,cutoff:null,type:"single",reminder_num:9999,reminder_sent:0,DaysOfWeek:null,BookingCount:44,archived:null}],IsSuccess:!0,DisplayMessage:null}:e!==t.BOOK_SESSION_URI||1!==n.WorkshopId&&11!==n.workshopId?e===t.BOOK_SESSION_URI?o={IsSuccess:!0,DisplayMessage:""}:(console.log("Resource not faked"),o=null):o={IsSuccess:!1,DisplayMessage:"Error encountered whilst trying to create your booking. Please try again and if issues persist contact UTS HELPS."},i(function(e,t){setTimeout(function(){o?e({data:o}):t({data:o})},1e3)})},this.transformParams=function(e){try{return void 0===e?e:$.param(e)}catch(t){return e}},this.postResource=function(n,o){var i=this.createConfigObject();return i.params=o,e.post(t.ENDPOINT_URI+n,i)},this.postResourceWithParamsInUri=function(n,o){var i=this.createConfigObject(),r=this.transformParams(o);return e({url:t.ENDPOINT_URI+n+"?"+r,method:"POST",headers:i.headers})}}]).service("UpcomingActivitiesModel",["$http","helps_endpoint_constants","ERR_BROADCASTS","$rootScope","ApiMethods","WorkshopBooking","AlertBanner",function(e,t,n,o,i,r,s){var a=this,c=1,u=100;this.getActivities=function(e){return i.getResourceFaked(t.ACTIVITIES_URI+t.SEARCH_URI,e)},this.mergeActivities=function(e,t){if(e.IsSuccess){if(!t)var t={};for(var i=0;i<e.Results.length;i++)t.hasOwnProperty(e.Results[i].WorkShopSetID)?t[e.Results[i].WorkShopSetID].workshops.push(e.Results[i]):t[e.Results[i].WorkShopSetID]={description:e.Results[i].description,topic:e.Results[i].topic,workshops:[e.Results[i]]};return t}return console.log("Failed to correctly load data."),o.$broadcast(n.API_ERROR,e.DisplayMessage),{}},this.getMoreActivities=function(){c++,this.getActivities({Page:c,PageSize:u}).then(function(e){console.log(e),a.activities=a.mergeActivities(e.data,a.activities)})},this.onCreate=function(){this.getActivities({Page:c,PageSize:u}).then(function(e){console.log(e),a.activities=a.mergeActivities(e.data,a.activities)})},this.bookWorkshop=function(e,s){var a=r.create(null,e,s,null,s,null);return i.postResourceWithParamsInUri(t.BOOK_SESSION_URI,a).then(function(e){return e.data.IsSuccess?!0:(o.$broadcast(n.API_ERROR,e.data.DisplayMessage),!1)},function(e){o.$broadcast(n.API_ERROR,"Error encountered whilst trying to create your booking. Please try again and if issues persist contact UTS HELPS.")})},this.onCreate()}]).service("Session",[function(){this.create=function(e,t,n,o){this.id=e,this.userId=t,this.username=n,this.userRole=o},this.destroy=function(){this.id=null,this.userId=null,this.username=null,this.userRole=null}}]),angular.module("helpsModelsServices",[]).factory("User",function(){var e={};return e.create=function(e,t,n,o){return{userId:e,studentId:t,name:n,password:o}},e}).factory("Student",function(){var e={};return e.create=function(e,t,n,o,i,r,s,a,c,u,l,d,p,g,f,h,m,v,S,I,k,A,y,R,E,T,w){return{studentId:e,creatorId:t,dob:n,gender:o,degree:i,status:r,firstLanguage:s,countryOfOrigin:a,background:c,degreeDetails:u,altContact:l,HSC:d,HSCMarks:p,IELTS:g,IELTSMarks:f,TOELF:h,TOELFMarks:m,TAFE:v,TAFEMarks:S,CULT:I,CULTMarks:k,insearchDEEP:A,insearchDEEPMarks:y,insearchDiploma:R,insearchDiplomaMarks:E,foundationCourse:T,foundationCourseMarks:w}},e}).factory("Campus",function(){var e={};return e.create=function(e,t,n){return{campusId:e,campusInfo:t,archived:n}},e}).factory("Workshop",function(){var e={};return e.create=function(e,t,n,o,i,r,s,a,c,u,l,d,p,g,f,h){return{workshopId:e,workshopSetId:t,campusId:n,topic:o,startDate:i,endDate:r,description:s,targetingGroup:a,maximum:c,cutoff:u,type:l,reminderNum:d,reminderSent:p,daysOfWeek:g,bookingCount:f,archived:h}},e}).factory("WorkshopSet",function(){var e={};return e.create=function(e,t,n,o){return{workshopSetId:e,campusId:t,name:n,archived:o}},e}).factory("WorkshopWaiting",function(){var e={};return e.create=function(e,t,n,o){return{workshopWaitingId:e,workshopId:t,studentId:n,userId:o}},e}).factory("WorkshopBooking",function(){var e={};return e.create=function(e,t,n,o,i,r){return{workshopBookingId:e,workshopId:t,studentId:n,workshopSetId:o,userId:i,isActive:r}},e}).factory("Session",function(){var e={};return e.create=function(e,t,n,o,i,r,s){return{sessionId:e,sessionTypeId:t,campusId:n,lecturerId:o,startDate:i,endDate:r,isActive:s}},e}).factory("SessionType",function(){var e={};return e.create=function(e,t,n,o,i){return{sessionTypeId:e,abbName:t,fullName:n,isCurrent:o,isActive:i}},e}).factory("SessionBooking",function(){var e={};return e.create=function(e,t,n,o,i,r,s,a,c,u,l,d,p,g,f,h,m,v,S,I,k){return{sessionId:e,bookingId:t,studentId:n,userId:o,isCanceled:i,assistance:r,reason:s,attended:a,waitingId:c,isGroup:u,numPeople:l,lecturerComment:d,learningIssuesId:p,isLocked:g,assignType:f,assignTypeOther:h,subject:m,appointments:v,appointmentsOther:S,assistanceText:I,archived:k}},e}).factory("Waiting",function(){var e={};return e.create=function(e,t,n,o){return{waitingId:e,studentId:t,bookingId:n,waitingList:o}},e}).factory("WaitingList",function(){var e={};return e.create=function(e,t,n){return{waitingListId:e,workshopId:t,numberInList:n}},e}).factory("Notification",function(){var e={};return e.create=function(e,t,n,o,i,r){return{notificationId:e,studentId:t,workshopId:n,notifyTime:o,hoursAhead:i,notificationTypeId:r}},e}).factory("NotificationType",function(){var e={};return e.create=function(e,t,n){return{notificationTypeId:e,abbName:t,fullName:n}},e}),angular.module("utsHelps.auths",["ngRoute","helpsRestfulServices","utsHelps.constants"]).factory("AuthService",["$http","Session","$q",function(e,t,n){var o={};return o.loginFake=function(e){return n(function(n,o){setTimeout(function(){"mbusby"===e.username?o("User is unauthenticated"):(t.create("1",11899859,e.username,"User"),n(e.username))},1e3)})},o.login=function(n){return e.post("/",n).then(function(e){return t.create(e.data.id,e.data.user.id,e.data.user.role),e.data.user})},o.isAuthenticated=function(){return!!t.userId},o.isAuthorized=function(e){return angular.isArray(e)||(e=[e]),o.isAuthenticated()&&-1!==e.indexOf(t.userRole)},o.logout=function(){t.destroy()},o.logoutFake=function(){return t.destroy(),n(function(e,t){setTimeout(function(){return e()})})},o}]).factory("AuthInterceptor",["$rootScope","$q","AUTH_EVENTS",function(e,t,n){return{responseError:function(o){return e.$broadcast({401:n.notAuthenticated,403:n.notAuthorized,419:n.sessionTimeout,440:n.sessionTimeout}[o.status],o),t.reject(o)}}}]),angular.module("utsHelps.example",["ngRoute"]).config(["$routeProvider",function(e){e.when("/example",{templateUrl:"views/exampleView.html",controller:"exampleCtrl"})}]).controller("exampleCtrl",["$scope","AlertBanner",function(e,t){e.globals.pageTitle="Example View"}]),angular.module("utsHelps.login",["ngRoute"]).config(["$routeProvider",function(e){e.when("/login",{templateUrl:"views/loginView.html",controller:"loginCtrl"})}]).controller("loginCtrl",["$scope","$rootScope","AUTH_EVENTS","AuthService",function(e,t,n,o){e.credentials={username:"",password:""},e.loginFailed=!1,e.login=function(i){o.loginFake(i).then(function(o){t.$broadcast(n.loginSuccess),e.setCurrentUser(o)},function(o){e.loginFailed=!0,t.$broadcast(n.loginFailed)})}}]),angular.module("utsHelps.UpcomingActivities",["utsHelps.directives","helpsRestfulServices","ngRoute","infinite-scroll"]).config(["$routeProvider",function(e){e.when("/upcomingActivities",{templateUrl:"views/upcomingActivitiesView.html",controller:"UpcomingActivitiesCtrl"})}]).controller("UpcomingActivitiesCtrl",["$scope","UpcomingActivitiesModel","Session","AlertBanner",function(e,t,n,o){e.globals.pageTitle="Upcoming Activities",e.UpcomingActivitiesModel=t,e.selectedWorkshop=null,e.clickedOnAnActivity=function(t){var n=JSON.stringify(t);for(var o in e.UpcomingActivitiesModel.activities)n===JSON.stringify(e.UpcomingActivitiesModel.activities[o])?t.isExpanded=!t.isExpanded:e.UpcomingActivitiesModel.activities[o].isExpanded=!1},e.onViewMore=function(){e.UpcomingActivitiesModel.getMoreActivities()},e.bookWorkshop=function(t){e.selectedWorkshop=t,e.$broadcast("SHOW_CONFIRM_DENY")},e.confirmWorkshop=function(i){i&&t.bookWorkshop(e.selectedWorkshop.WorkshopId,n.userId).then(function(e){e&&o.publish({type:"success",message:"Successfully made a booking.",timeCollapse:3e3})}),e.selectedWorkshop=null},e.addWaitlist=function(t){e.selectedWorkshop=t}}]),angular.module("utsHelps.UserMessagingService",["utsHelps.constants","angular-alert-banner"]).service("UserMessagingService",["AlertBanner","$rootScope","ERR_BROADCASTS","ErrorRegistry",function(e,t,n,o){var i=this;this.errorAlertBanner=function(t){e.publish({type:"error",message:t,timeCollapse:3e3})},t.$on(n.API_ERROR,function(e,t){console.log("ALERT BANNER SHOULD HAVE FIRED");var n=o.retrieveFriendlyError(t);i.errorAlertBanner(n)})}]).service("ErrorRegistry",[function(){this.errorDictionary={"Error encountered whilst trying to create your booking. Please try again and if issues persist contact UTS HELPS.":"Couldn't create booking.","Error creating workshop booking: Booking already exists.":"Booking already exists."},this.retrieveFriendlyError=function(e){return e in this.errorDictionary?this.errorDictionary[e]:"Unknown error. Contact UTS ITD."}}]),angular.module("utsHelps.constants",[]).constant("ERR_BROADCASTS",{API_ERROR:"API_ERROR"}).constant("AUTH_EVENTS",{loginSuccess:"auth-login-sucess",loginFailed:"auth-login-failed",logoutSuccess:"auth-logout-success",sessionTimeout:"auth-session-timeout",notAuthenticated:"auth-not-authenticated",notAuthorized:"auth-not-authorized"}).constant("USER_ROLES",{all:"*",admin:"admin",editor:"editor",guest:"guest",user:"user"}).constant("helps_endpoint_constants",{ENDPOINT_URI:"http://helpshere.cloudapp.net/api",port:"80",APP_KEY:"123456",ACTIVITIES_URI:"/workshop",SEARCH_URI:"/search",BOOK_SESSION_URI:"/workshop/booking/create"});
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImRpcmVjdGl2ZXMvZGlyZWN0aXZlcy5qcyIsImFwcC5qcyIsInNlcnZpY2VzL2hlbHBzUmVzdGZ1bFNlcnZpY2VzLmpzIiwic2VydmljZXMvaGVscHNNb2RlbFNlcnZpY2VzLmpzIiwiZmFjdG9yaWVzL2F1dGhlbnRpY2F0aW9uRmFjdG9yaWVzLmpzIiwiY29udHJvbGxlcnMvRXhhbXBsZUNvbnRyb2xsZXIvRXhhbXBsZUNvbnRyb2xsZXIuanMiLCJjb250cm9sbGVycy9Mb2dpbkNvbnRyb2xsZXIvTG9naW5Db250cm9sbGVyLmpzIiwiY29udHJvbGxlcnMvVXBjb21pbmdBY3Rpdml0aWVzQ29udHJvbGxlci9VcGNvbWluZ0FjdGl2aXRpZXNDb250cm9sbGVyLmpzIiwic2VydmljZXMvbWVzc2FnaW5nU2VydmljZS5qcyIsImNvbnN0YW50cy5qcyJdLCJuYW1lcyI6WyJhbmd1bGFyIiwibW9kdWxlIiwiZGlyZWN0aXZlIiwidGVtcGxhdGVVcmwiLCJyZXN0cmljdCIsInNjb3BlIiwiYWN0aXZpdHlEZXRhaWxzIiwiZXhwYW5kIiwid29ya3Nob3BDbGlja0hhbmRsZXIiLCJ3YWl0bGlzdENsaWNrSGFuZGxlciIsImVycm9yTXNnIiwibGluayIsImVsZW1lbnQiLCJhdHRyIiwiYmluZCIsImUiLCJzdG9wUHJvcGFnYXRpb24iLCJlbGVtIiwiYXR0cnMiLCJ0cnVuYyIsIm4iLCJ0ZXh0IiwidXNlV29yZEJvdW5kYXJ5IiwidG9Mb25nIiwibGVuZ3RoIiwic18iLCJzdWJzdHIiLCJsYXN0SW5kZXhPZiIsImNvbnRleHQiLCJpbm5lclRleHQiLCJ0cnVuY2F0ZVRleHQiLCJhcHBlbmQiLCJvbiIsIiRpbnRlcnBvbGF0ZSIsIkFVVEhfRVZFTlRTIiwidGVtcGxhdGUiLCJzaG93RGlhbG9nIiwidmlzaWJsZSIsIiRvbiIsIm5vdEF1dGhlbnRpY2F0ZWQiLCJzZXNzaW9uVGltZW91dCIsIiRwYXJzZSIsInRyYW5zY2x1ZGUiLCJjYWxsYmFja0Z1bmN0aW9uIiwiY2FsbGJhY2siLCJkZWNpc2lvbiIsImlzQ29uZmlybWVkIiwic2hvd01vZGFsIiwiZmluZCIsImZvdW5kYXRpb24iLCJoaWRlTW9kYWwiLCJkZW55TW9kYWwiLCJjb25zb2xlIiwibG9nIiwiY29uZmlybU1vZGFsIiwiJCIsImNvbmZpZyIsIiRyb3V0ZVByb3ZpZGVyIiwiY2ZwTG9hZGluZ0JhclByb3ZpZGVyIiwiJGh0dHBQcm92aWRlciIsIm90aGVyd2lzZSIsInJlZGlyZWN0VG8iLCJpbmNsdWRlU3Bpbm5lciIsImludGVyY2VwdG9ycyIsInB1c2giLCIkaW5qZWN0b3IiLCJnZXQiLCIkcHJvdmlkZSIsImRlY29yYXRvciIsIiRkZWxlZ2F0ZSIsImV4Y2VwdGlvbiIsImNhdXNlIiwicnVuIiwiJHJvb3RTY29wZSIsIkF1dGhTZXJ2aWNlIiwiJGxvY2F0aW9uIiwiZG9jdW1lbnQiLCJyZWFkeSIsIm9mZmNhbnZhcyIsImNsb3NlX29uX2NsaWNrIiwidGhpcyIsImFkZENsYXNzIiwicmVtb3ZlQ2xhc3MiLCJldmVudCIsIm5leHQiLCJjdXJyZW50IiwiaXNBdXRoZW50aWNhdGVkIiwicGF0aCIsImxvZ2luU3VjY2VzcyIsImxvZ291dFN1Y2Nlc3MiLCJjb250cm9sbGVyIiwiJHNjb3BlIiwiVVNFUl9ST0xFUyIsIkVSUl9CUk9BRENBU1RTIiwiVXNlck1lc3NhZ2luZ1NlcnZpY2UiLCJnbG9iYWxzIiwicGFnZVRpdGxlIiwiZXJyX21lc3NhZ2UiLCJ0cmlnZ2VyQ2xvc2VNb2RhbCIsImN1cnJlbnRVc2VyIiwidXNlclJvbGVzIiwiaXNBdXRob3JpemVkIiwic2V0Q3VycmVudFVzZXIiLCJ1c2VyIiwibG9nb3V0IiwibG9nb3V0RmFrZSIsInRoZW4iLCIkYnJvYWRjYXN0IiwiZXJyIiwiQVBJX0VSUk9SIiwiaXNMb2dpblBhZ2UiLCIkc2NlRGVsZWdhdGVQcm92aWRlciIsImhlbHBzX2VuZHBvaW50X2NvbnN0YW50cyIsInJlc291cmNlVXJsV2hpdGVsaXN0IiwiRU5EUE9JTlRfVVJJIiwic2VydmljZSIsIiRodHRwIiwiZW5kcG9pbnRfY29uc3RhbnRzIiwiJHEiLCJjcmVhdGVDb25maWdPYmplY3QiLCJjb25maWdPYmplY3QiLCJoZWFkZXJzIiwiQXBwS2V5IiwiQVBQX0tFWSIsImdldFJlc291cmNlIiwicmVzb3VyY2VVcmkiLCJwYXJhbXMiLCJnZXRSZXNvdXJjZUZha2VkIiwiZGF0YSIsIkFDVElWSVRJRVNfVVJJIiwiU0VBUkNIX1VSSSIsIlJlc3VsdHMiLCJXb3Jrc2hvcElkIiwidG9waWMiLCJkZXNjcmlwdGlvbiIsInRhcmdldGluZ0dyb3VwIiwiY2FtcHVzIiwiU3RhcnREYXRlIiwiRW5kRGF0ZSIsIm1heGltdW0iLCJXb3JrU2hvcFNldElEIiwiY3V0b2ZmIiwidHlwZSIsInJlbWluZGVyX251bSIsInJlbWluZGVyX3NlbnQiLCJEYXlzT2ZXZWVrIiwiQm9va2luZ0NvdW50IiwiYXJjaGl2ZWQiLCJJc1N1Y2Nlc3MiLCJEaXNwbGF5TWVzc2FnZSIsIkJPT0tfU0VTU0lPTl9VUkkiLCJ3b3Jrc2hvcElkIiwicmVzb2x2ZSIsInJlamVjdCIsInNldFRpbWVvdXQiLCJ0cmFuc2Zvcm1QYXJhbXMiLCJ1bmRlZmluZWQiLCJwYXJhbSIsInBvc3RSZXNvdXJjZSIsInBvc3QiLCJwb3N0UmVzb3VyY2VXaXRoUGFyYW1zSW5VcmkiLCJ1cmlUcmFuc2Zvcm0iLCJ1cmwiLCJtZXRob2QiLCJBcGlNZXRob2RzIiwiV29ya3Nob3BCb29raW5nIiwiQWxlcnRCYW5uZXIiLCJwYWdlTnVtYmVyIiwicGFnZVNpemUiLCJnZXRBY3Rpdml0aWVzIiwibWVyZ2VBY3Rpdml0aWVzIiwibmV3RGF0YVRvTWVyZ2UiLCJleGlzdGluZ0RhdGEiLCJpIiwiaGFzT3duUHJvcGVydHkiLCJ3b3Jrc2hvcHMiLCJnZXRNb3JlQWN0aXZpdGllcyIsIlBhZ2UiLCJQYWdlU2l6ZSIsInJlc3VsdCIsImFjdGl2aXRpZXMiLCJvbkNyZWF0ZSIsImJvb2tXb3Jrc2hvcCIsInN0dWRlbnRJZCIsIndvcmtzaG9wQm9va2luZyIsImNyZWF0ZSIsInJlc3BvbnNlIiwiZXJyb3IiLCJzZXNzaW9uSWQiLCJ1c2VySWQiLCJ1c2VybmFtZSIsInVzZXJSb2xlIiwiaWQiLCJkZXN0cm95IiwiZmFjdG9yeSIsIm5hbWUiLCJwYXNzd29yZCIsInN0dWRlbnQiLCJjcmVhdG9ySWQiLCJkb2IiLCJnZW5kZXIiLCJkZWdyZWUiLCJzdGF0dXMiLCJmaXJzdExhbmd1YWdlIiwiY291bnRyeU9mT3JpZ2luIiwiYmFja2dyb3VuZCIsImRlZ3JlZURldGFpbHMiLCJhbHRDb250YWN0IiwiSFNDIiwiSFNDTWFya3MiLCJJRUxUUyIsIklFTFRTTWFya3MiLCJUT0VMRiIsIlRPRUxGTWFya3MiLCJUQUZFIiwiVEFGRU1hcmtzIiwiQ1VMVCIsIkNVTFRNYXJrcyIsImluc2VhcmNoREVFUCIsImluc2VhcmNoREVFUE1hcmtzIiwiaW5zZWFyY2hEaXBsb21hIiwiaW5zZWFyY2hEaXBsb21hTWFya3MiLCJmb3VuZGF0aW9uQ291cnNlIiwiZm91bmRhdGlvbkNvdXJzZU1hcmtzIiwiY2FtcHVzSWQiLCJjYW1wdXNJbmZvIiwid29ya3Nob3AiLCJ3b3Jrc2hvcFNldElkIiwic3RhcnREYXRlIiwiZW5kRGF0ZSIsInJlbWluZGVyTnVtIiwicmVtaW5kZXJTZW50IiwiZGF5c09mV2VlayIsImJvb2tpbmdDb3VudCIsIndvcmtzaG9wU2V0Iiwid29ya3Nob3BXYWl0aW5nIiwid29ya3Nob3BXYWl0aW5nSWQiLCJ3b3Jrc2hvcEJvb2tpbmdJZCIsImlzQWN0aXZlIiwic2Vzc2lvbiIsInNlc3Npb25UeXBlSWQiLCJsZWN0dXJlcklkIiwiYWJiTmFtZSIsImZ1bGxOYW1lIiwiaXNDdXJyZW50Iiwic2Vzc2lvbkJvb2tpbmciLCJib29raW5nSWQiLCJpc0NhbmNlbGVkIiwiYXNzaXN0YW5jZSIsInJlYXNvbiIsImF0dGVuZGVkIiwid2FpdGluZ0lkIiwiaXNHcm91cCIsIm51bVBlb3BsZSIsImxlY3R1cmVyQ29tbWVudCIsImxlYXJuaW5nSXNzdWVzSWQiLCJpc0xvY2tlZCIsImFzc2lnblR5cGUiLCJhc3NpZ25UeXBlT3RoZXIiLCJzdWJqZWN0IiwiYXBwb2ludG1lbnRzIiwiYXBwb2ludG1lbnRzT3RoZXIiLCJhc3Npc3RhbmNlVGV4dCIsIndhaXQiLCJ3YWl0aW5nTGlzdElkIiwid2FpdGluZ0xpc3QiLCJudW1iZXJJbkxpc3QiLCJub3RpZmljYXRpb24iLCJub3RpZmljYXRpb25JZCIsIm5vdGlmeVRpbWUiLCJob3Vyc0FoZWFkIiwibm90aWZpY2F0aW9uVHlwZUlkIiwibm90aWZpY2F0aW9uVHlwZSIsIlNlc3Npb24iLCJhdXRoU2VydmljZSIsImxvZ2luRmFrZSIsImNyZWRlbnRpYWxzIiwibG9naW4iLCJyZXMiLCJyb2xlIiwiYXV0aG9yaXplZFJvbGVzIiwiaXNBcnJheSIsImluZGV4T2YiLCJyZXNwb25zZUVycm9yIiw0MDEsNDAzLCJub3RBdXRob3JpemVkIiw0MTksNDQwLCJ3aGVuIiwibG9naW5GYWlsZWQiLCJVcGNvbWluZ0FjdGl2aXRpZXNNb2RlbCIsInNlbGVjdGVkV29ya3Nob3AiLCJjbGlja2VkT25BbkFjdGl2aXR5IiwiYWN0aXZpdHkiLCJhY3Rpdml0eUFzU3RyaW5nIiwiSlNPTiIsInN0cmluZ2lmeSIsImlzRXhwYW5kZWQiLCJvblZpZXdNb3JlIiwiY29uZmlybVdvcmtzaG9wIiwiY29uZmlybWF0aW9uIiwic3VjY2VzcyIsInB1Ymxpc2giLCJtZXNzYWdlIiwidGltZUNvbGxhcHNlIiwiYWRkV2FpdGxpc3QiLCJFcnJvclJlZ2lzdHJ5IiwiZXJyb3JBbGVydEJhbm5lciIsImVycl9tc2ciLCJmcmllbmRseUVycm9yIiwicmV0cmlldmVGcmllbmRseUVycm9yIiwiZXJyb3JEaWN0aW9uYXJ5IiwiRXJyb3IgZW5jb3VudGVyZWQgd2hpbHN0IHRyeWluZyB0byBjcmVhdGUgeW91ciBib29raW5nLiBQbGVhc2UgdHJ5IGFnYWluIGFuZCBpZiBpc3N1ZXMgcGVyc2lzdCBjb250YWN0IFVUUyBIRUxQUy4iLCJFcnJvciBjcmVhdGluZyB3b3Jrc2hvcCBib29raW5nOiBCb29raW5nIGFscmVhZHkgZXhpc3RzLiIsImNvbnN0YW50IiwiYWxsIiwiYWRtaW4iLCJlZGl0b3IiLCJndWVzdCIsInBvcnQiXSwibWFwcGluZ3MiOiJBQUFBQSxRQUFBQyxPQUFBLDBCQUNBQyxVQUFBLG9CQUFBLFdBQ0EsT0FDQUMsWUFBQSxvREFDQUMsU0FBQSxJQUNBQyxPQUNBQyxnQkFBQSxtQkFDQUMsT0FBQSxVQUNBQyxxQkFBQSx3QkFDQUMscUJBQUEsNEJBSUFQLFVBQUEsYUFBQSxXQUNBLE9BQ0FDLFlBQUEsNENBQ0FDLFNBQUEsSUFDQUMsT0FDQUssU0FBQSxvQkFJQVIsVUFBQSxZQUFBLFdBQ0EsT0FDQUUsU0FBQSxJQUNBTyxLQUFBLFNBQUFOLEVBQUFPLEVBQUFDLEdBQ0FELEVBQUFFLEtBQUEsUUFBQSxTQUFBQyxHQUNBQSxFQUFBQyx3QkFLQWQsVUFBQSxlQUFBLFdBRUEsT0FDQUUsU0FBQSxJQUNBTyxLQUFBLFNBQUFOLEVBQUFZLEVBQUFDLEdBT0EsUUFBQUMsR0FBQUMsRUFBQUMsRUFBQUMsR0FDQSxHQUFBQyxHQUFBRixFQUFBRyxPQUFBSixFQUNBSyxFQUFBRixFQUFBRixFQUFBSyxPQUFBLEVBQUFOLEVBQUEsR0FBQUMsQ0FFQSxPQURBSSxHQUFBSCxHQUFBQyxFQUFBRSxFQUFBQyxPQUFBLEVBQUFELEVBQUFFLFlBQUEsTUFBQUYsRUFUQSxHQUFBSixHQUFBSixFQUFBVyxRQUFBQyxTQUNBWixHQUFBVyxRQUFBQyxVQUFBVixFQUFBRCxFQUFBWSxhQUFBVCxHQUFBLEdBQ0FKLEVBQUFjLE9BQUEsMERBQ0FkLEVBQUFlLEdBQUEsUUFBQSxXQUNBZixFQUFBVyxRQUFBQyxVQUFBSSxhQUFBWixTQVdBbkIsVUFBQSxjQUFBLFNBQUFnQyxHQUNBLE9BQ0E5QixTQUFBLElBQ0ErQixTQUFBLHlEQUNBeEIsS0FBQSxTQUFBTixHQUNBLEdBQUErQixHQUFBLFdBQ0EvQixFQUFBZ0MsU0FBQSxFQUdBaEMsR0FBQWdDLFNBQUEsRUFDQWhDLEVBQUFpQyxJQUFBSixFQUFB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QUVBZixXQUFBLEdBQ0FDLE1BQUEsNkNBQ0FDLFlBQUEsMkVBQ0FDLGVBQUEsZUFDQUMsT0FBQSxhQUNBQyxVQUFBLHNCQUNBQyxRQUFBLHNCQUNBQyxRQUFBLEdBQ0FDLGNBQUEsRUFDQUMsT0FBQSxLQUNBQyxLQUFBLFNBQ0FDLGFBQUEsS0FDQUMsY0FBQSxFQUNBQyxXQUFBLEtBQ0FDLGFBQUEsR0FDQUMsU0FBQSxPQUVBZixXQUFBLEdBQ0FDLE1BQUEsd0RBQ0FDLFlBQUEscUhBRUFDLGVBQUEsZUFDQUMsT0FBQSxhQUNBQyxVQUFBLHNCQUNBQyxRQUFBLHNCQUNBQyxRQUFBLEdBQ0FDLGNBQUEsRUFDQUMsT0FBQSxLQUNBQyxLQUFBLFNBQ0FDLGFBQUEsS0FDQUMsY0FBQSxFQUNBQyxXQUFBLEtBQ0FDLGFBQUEsR0FDQUMsU0FBQSxPQUdBZixXQUFBLEdBQ0FDLE1BQUEsd0RBQ0FDLFlBQUEscUhBRUFDLGVBQUEsZUFDQUMsT0FBQSxhQUNBQyxVQUFBLHNCQUNBQyxRQUFBLHNCQUNBQyxRQUFBLEdBQ0FDLGNBQUEsRUFDQUMsT0FBQSxLQUNBQyxLQUFBLFNBQ0FDLGFBQUEsS0FDQUMsY0FBQSxFQUNBQyxXQUFBLEtBQ0FDLGFBQUEsR0FDQUMsU0FBQSxPQUdBZixXQUFBLEdBQ0FDLE1BQUEsd0RBQ0FDLFlBQUEscUhBRUFDLGVBQUEsZUFDQUMsT0FBQSxhQUNBQyxVQUFBLHNCQUNBQyxRQUFBLHNCQUNBQyxRQUFBLEdBQ0FDLGNBQUEsR0FDQUMsT0FBQSxLQUNBQyxLQUFBLFNBQ0FDLGFBQUEsS0FDQUMsY0FBQSxFQUNBQyxXQUFBLEtBQ0FDLGFBQUEsR0FDQUMsU0FBQSxPQUdBZixXQUFBLEdBQ0FDLE1BQUEsd0RBQ0FDLFlBQUEscUhBRUFDLGVBQUEsZUFDQUMsT0FBQSxhQUNBQyxVQUFBLHNCQUNBQyxRQUFBLHNCQUNBQyxRQUFBLEdBQ0FDLGNBQUEsR0FDQUMsT0FBQSxLQUNBQyxLQUFBLFNBQ0FDLGFBQUEsS0FDQUMsY0FBQSxFQUNBQyxXQUFBLEtBQ0FDLGFBQUEsR0FDQUMsU0FBQSxP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QXhOLEtBQUEsU0FFQW9OLFNBQUEsNEJBQ0F6TSxhQUFBLG9DQUNBOE0sS0FBQSxLQUNBck0sUUFBQSxTQUNBTSxlQUFBLFlBQ0FDLFdBQUEsVUFDQW9CLGlCQUFBIiwiZmlsZSI6Im1haW4uanMiLCJzb3VyY2VzQ29udGVudCI6WyJhbmd1bGFyLm1vZHVsZSgndXRzSGVscHMuZGlyZWN0aXZlcycsIFtdKVxuLmRpcmVjdGl2ZSgndWhBY3Rpdml0eURldGFpbHMnLCBmdW5jdGlvbigpIHtcblx0cmV0dXJuIHtcblx0XHR0ZW1wbGF0ZVVybDogXCJkaXJlY3RpdmVzL2FjdGl2aXR5LWRldGFpbHMvYWN0aXZpdHktZGV0YWlscy5odG1sXCIsXG5cdFx0cmVzdHJpY3Q6ICdFJyxcblx0XHRzY29wZToge1xuXHRcdFx0YWN0aXZpdHlEZXRhaWxzOiAnPWFjdGl2aXR5RGV0YWlscycsXG5cdFx0XHRleHBhbmQ6ICc9ZXhwYW5kJyxcblx0XHRcdHdvcmtzaG9wQ2xpY2tIYW5kbGVyOiAnPXdvcmtzaG9wQ2xpY2tIYW5kbGVyJyxcbiAgICAgICAgICAgIHdhaXRsaXN0Q2xpY2tIYW5kbGVyOiAnPXdhaXRsaXN0Q2xpY2tIYW5kbGVyJ1xuXHRcdH1cblx0fVxufSlcbi5kaXJlY3RpdmUoJ3VoRXJyb3JCb3gnLCBmdW5jdGlvbigpIHtcblx0cmV0dXJuIHtcblx0XHR0ZW1wbGF0ZVVybDogXCJkaXJlY3RpdmVzL3VoLWVycm9yLWJveC91aC1lcnJvci1ib3guaHRtbFwiLFxuXHRcdHJlc3RyaWN0OiAnRScsXG5cdFx0c2NvcGU6IHtcblx0XHRcdGVycm9yTXNnOiAnPWVycm9yTWVzc2FnZSdcblx0XHR9XG5cdH1cbn0pXG4uZGlyZWN0aXZlKCdzdG9wRXZlbnQnLCBmdW5jdGlvbiAoKSB7XG4gICAgcmV0dXJuIHtcbiAgICAgICAgcmVzdHJpY3Q6ICdBJyxcbiAgICAgICAgbGluazogZnVuY3Rpb24gKHNjb3BlLCBlbGVtZW50LCBhdHRyKSB7XG4gICAgICAgICAgICBlbGVtZW50LmJpbmQoJ2NsaWNrJywgZnVuY3Rpb24gKGUpIHtcbiAgICAgICAgICAgICAgICBlLnN0b3BQcm9wYWdhdGlvbigpO1xuICAgICAgICAgICAgfSk7XG4gICAgICAgIH1cbiAgICB9O1xuIH0pXG4uZGlyZWN0aXZlKCd0cnVuY2F0ZVRleHQnLCBmdW5jdGlvbigpIHtcblx0Ly8gRGlyZWN0aXZlIHRha2VuIGZyb20gaHR0cDovL3d3dy5uZ3JvdXRlcy5jb20vcXVlc3Rpb25zLzFiMTc0OWQvYW5ndWxhcmpzLWNyZWF0ZS1tb3JlLXRhZy1hZnRlci14LW51bWJlcnMtb2YtY2hhcmFjdGVycy5odG1sXG5cdHJldHVybiB7XG5cdFx0cmVzdHJpY3Q6ICdBJyxcblx0XHRsaW5rOiBmdW5jdGlvbihzY29wZSwgZWxlbSwgYXR0cnMpIHtcblx0XHRcdHZhciB0ZXh0ID0gZWxlbS5jb250ZXh0LmlubmVyVGV4dDtcblx0XHRcdGVsZW0uY29udGV4dC5pbm5lclRleHQgPSB0cnVuYyhhdHRycy50cnVuY2F0ZVRleHQsIHRleHQsIHRydWUpO1xuXHRcdFx0ZWxlbS5hcHBlbmQoJzxhIGNsYXNzPVwibW9yZS10ZXh0XCIgbmctY2xpY2s9XCJleHBhbmQoKTtcIj4gbW9yZS4uLjwvYT4nKTtcblx0XHRcdGVsZW0ub24oJ2NsaWNrJywgZnVuY3Rpb24oKSB7XG5cdFx0XHRcdGVsZW0uY29udGV4dC5pbm5lclRleHQgPSAkaW50ZXJwb2xhdGUodGV4dCk7XG5cdFx0XHR9KTtcblx0XHRcdGZ1bmN0aW9uIHRydW5jKG4sIHRleHQsIHVzZVdvcmRCb3VuZGFyeSkge1xuXHRcdFx0XHR2YXIgdG9Mb25nID0gdGV4dC5sZW5ndGggPiBuLFxuXHRcdFx0XHRcdHNfID0gdG9Mb25nID8gdGV4dC5zdWJzdHIoMCxuLTEpIDogdGV4dDtcblx0XHRcdFx0c18gPSB1c2VXb3JkQm91bmRhcnkgJiYgdG9Mb25nID8gc18uc3Vic3RyKDAsIHNfLmxhc3RJbmRleE9mKCcgJykpIDogc187XG5cdFx0XHRcdHJldHVybiBzXztcblx0XHRcdH1cblx0XHR9XG5cdH1cbn0pXG4uZGlyZWN0aXZlKCdsb2dpbkRpYWxvZycsIGZ1bmN0aW9uIChBVVRIX0VWRU5UUykge1xuXHRyZXR1cm4ge1xuXHRcdHJlc3RyaWN0OiAnQScsXG5cdFx0dGVtcGxhdGU6ICc8ZGl2IG5nLWlmPVwidmlzaWJsZVwiIG5nLWluY2x1ZGU9XCJcXCdsb2dpbi1mb3JtLmh0bWxcXCdcIj4nLFxuXHRcdGxpbms6IGZ1bmN0aW9uIChzY29wZSkge1xuXHRcdFx0dmFyIHNob3dEaWFsb2cgPSBmdW5jdGlvbiAoKSB7XG5cdFx0XHRcdHNjb3BlLnZpc2libGUgPSB0cnVlO1xuXHRcdFx0fVxuXHRcdFx0XG5cdFx0XHRzY29wZS52aXNpYmxlID0gZmFsc2U7XG5cdFx0XHRzY29wZS4kb24oQVVUSF9FVkVOVFMubm90QXV0aGVudGljYXRlZCwgc2hvd0RpYWxvZyk7XG5cdFx0XHRzY29wZS4kb24oQVVUSF9FVkVOVFMuc2Vzc2lvblRpbWVvdXQsIHNob3dEaWFsb2cpO1xuXHRcdH1cblx0fVxufSlcbi5kaXJlY3RpdmUoJ3VoQ29uZmlybURlbnlNb2RhbCcsIFsnJHBhcnNlJywgZnVuY3Rpb24oJHBhcnNlKSB7XG5cdHJldHVybiB7XG5cdFx0cmVzdHJpY3Q6ICdFJyxcblx0XHR0cmFuc2NsdWRlOiB0cnVlLFxuXHRcdHRlbXBsYXRlVXJsOiBcImRpcmVjdGl2ZXMvdWgtY29uZmlybS1kZW55LW1vZGFsL3VoLWNvbmZpcm0tZGVueS1tb2RhbC5odG1sXCIsXG5cdFx0bGluazogZnVuY3Rpb24oc2NvcGUsIGVsZW0sIGF0dHJzKSB7XG5cdFx0XHR2YXIgY2FsbGJhY2tGdW5jdGlvbiA9ICRwYXJzZShhdHRycy5jYWxsYmFjayk7XG5cdFx0XHR2YXIgZGVjaXNpb24gPSBmdW5jdGlvbihpc0NvbmZpcm1lZCkge1xuXHRcdFx0XHRjYWxsYmFja0Z1bmN0aW9uKHNjb3BlLCB7aXNDb25maXJtZWQ6aXNDb25maXJtZWR9KTtcblx0XHRcdH1cblx0XHRcdHZhciBzaG93TW9kYWwgPSBmdW5jdGlvbigpIHtcblx0XHRcdFx0ZWxlbS5maW5kKCdkaXYnKS5mb3VuZGF0aW9uKCdyZXZlYWwnLCAnb3BlbicpO1xuXHRcdFx0fVxuXHRcdFx0dmFyIGhpZGVNb2RhbCA9IGZ1bmN0aW9uKCkge1xuXHRcdFx0XHRlbGVtLmZpbmQoJ2RpdicpLmZvdW5kYXRpb24oJ3JldmVhbCcsICdjbG9zZScpO1xuXHRcdFx0fVxuXHRcdFx0c2NvcGUuJG9uKCdTSE9XX0NPTkZJUk1fREVOWScsIHNob3dNb2RhbCk7XG5cdFx0XHR2YXIgZGVueU1vZGFsID0gZnVuY3Rpb24oKSB7XG5cdFx0XHRcdGhpZGVNb2RhbCgpO1xuXHRcdFx0XHRjb25zb2xlLmxvZyhcIk1vZGFsIGhpZGRlbiFcIik7XG5cdFx0XHRcdGRlY2lzaW9uKGZhbHNlKTtcblx0XHRcdH07XG5cdFx0XHR2YXIgY29uZmlybU1vZGFsID0gZnVuY3Rpb24oKSB7XG5cdFx0XHRcdGhpZGVNb2RhbCgpO1xuXHRcdFx0XHRkZWNpc2lvbih0cnVlKTtcblx0XHRcdH1cblx0XHRcdC8vIEkgY2FuJ3Qgd29yayBvdXQgaG93IHRvIGRvIHRoaXMgaW4gSlFsaXRlIHlldCBzbyBJJ3ZlIHVzZWQgJC4uLlxuXHRcdFx0JChlbGVtKS5maW5kKFwiLmNhbmNlbFwiKS5vbignY2xpY2snLCBmdW5jdGlvbigpIHtcblx0XHRcdFx0Y29uc29sZS5sb2coXCJNb2RhbCBkZWNsaW5lZFwiKTtcblx0XHRcdFx0ZGVueU1vZGFsKCk7XG5cdFx0XHR9KTtcblx0XHRcdCQoZWxlbSkuZmluZChcIi5jb25maXJtXCIpLm9uKCdjbGljaycsIGZ1bmN0aW9uKCkge1xuXHRcdFx0XHRjb25zb2xlLmxvZyhcIk1vZGFsIGFjY2VwdGVkXCIpO1xuXHRcdFx0XHRjb25maXJtTW9kYWwoKTtcblx0XHRcdH0pXG5cdFx0fVxuXHR9XG59XSk7IiwiLy8gQXBwLmpzXG4ndXNlIHN0cmljdCdcblxuYW5ndWxhci5tb2R1bGUoJ3V0c0hlbHBzJywgW1xuXHQnbmdSb3V0ZScsXG5cdCd1dHNIZWxwcy5hdXRocycsXG5cdCd1dHNIZWxwcy5leGFtcGxlJyxcblx0J3V0c0hlbHBzLmxvZ2luJyxcblx0J2hlbHBzUmVzdGZ1bFNlcnZpY2VzJyxcblx0J3V0c0hlbHBzLmV4YW1wbGUnLFxuXHQndXRzSGVscHMuVXBjb21pbmdBY3Rpdml0aWVzJyxcblx0J2FuZ3VsYXIuZmlsdGVyJyxcblx0J25nQW5pbWF0ZScsXG5cdCdhbmd1bGFyLWxvYWRpbmctYmFyJyxcblx0J3V0c0hlbHBzLmNvbnN0YW50cycsXG5cdCdhbmd1bGFyLWFsZXJ0LWJhbm5lcicsXG5cdCd1dHNIZWxwcy5Vc2VyTWVzc2FnaW5nU2VydmljZSdcblx0XSlcbi5jb25maWcoWyckcm91dGVQcm92aWRlcicsICdjZnBMb2FkaW5nQmFyUHJvdmlkZXInLCAnJGh0dHBQcm92aWRlcicsIGZ1bmN0aW9uKCRyb3V0ZVByb3ZpZGVyLCBjZnBMb2FkaW5nQmFyUHJvdmlkZXIsICRodHRwUHJvdmlkZXIpe1xuXHQkcm91dGVQcm92aWRlci5vdGhlcndpc2Uoe3JlZGlyZWN0VG86Jy9leGFtcGxlJ30pO1xuXHRjZnBMb2FkaW5nQmFyUHJvdmlkZXIuaW5jbHVkZVNwaW5uZXIgPSBmYWxzZTtcblx0JGh0dHBQcm92aWRlci5pbnRlcmNlcHRvcnMucHVzaChbXG5cdFx0JyRpbmplY3RvcicsXG5cdFx0ZnVuY3Rpb24gKCRpbmplY3Rvcikge1xuXHRcdFx0cmV0dXJuICRpbmplY3Rvci5nZXQoJ0F1dGhJbnRlcmNlcHRvcicpO1xuXHR9XSk7XG59XSlcbi5jb25maWcoWyckcHJvdmlkZScsIGZ1bmN0aW9uKCRwcm92aWRlKSB7XG4gIC8vUHJvdmlkZXMgcmVkaXJlY3Rpb24gZm9yXG4gICRwcm92aWRlLmRlY29yYXRvcignJGV4Y2VwdGlvbkhhbmRsZXInLCBbJyRkZWxlZ2F0ZScsIGZ1bmN0aW9uKCRkZWxlZ2F0ZSkge1xuICAgIHJldHVybiBmdW5jdGlvbihleGNlcHRpb24sIGNhdXNlKSB7XG4gICAgICAkZGVsZWdhdGUoZXhjZXB0aW9uLCBjYXVzZSk7XG4gICAgICB0aHJvdyBleGNlcHRpb247XG4gIH19XSk7XG59XSlcbi5ydW4oWyckcm9vdFNjb3BlJywgJ0FVVEhfRVZFTlRTJywgJ0F1dGhTZXJ2aWNlJywgJyRsb2NhdGlvbicsIGZ1bmN0aW9uKCRyb290U2NvcGUsIEFVVEhfRVZFTlRTLCBBdXRoU2VydmljZSwgJGxvY2F0aW9uKSB7XG5cdGNvbnNvbGUubG9nKFwiQW5ndWxhciBpbml0aWFsaXNlZCFcIik7XG5cdCQoZG9jdW1lbnQpLnJlYWR5KGZ1bmN0aW9uKCl7XG5cdFx0JChkb2N1bWVudCkuZm91bmRhdGlvbih7XG5cdFx0XHRvZmZjYW52YXM6IHtcblx0XHRcdFx0Y2xvc2Vfb25fY2xpY2s6IHRydWVcblx0XHRcdH1cblx0XHR9KTtcblx0fSk7XG5cdCQoZG9jdW1lbnQpLm9uKCdvcGVuLmZuZHRuLm9mZmNhbnZhcycsICdbZGF0YS1vZmZjYW52YXNdJywgZnVuY3Rpb24gKCkge1xuXHRcdHZhciBvZmZfY2FudmFzX3dyYXAgPSAkKHRoaXMpO1xuXHRcdCQoJyNsb2FkaW5nLWJhcicpLmFkZENsYXNzKFwiaGlkZVwiKTtcblx0XHQkKCcjbG9hZGluZy1iYXItc3Bpbm5lcicpLmFkZENsYXNzKFwiaGlkZVwiKTtcblx0fSk7XG5cblx0JChkb2N1bWVudCkub24oJ2Nsb3NlLmZuZHRuLm9mZmNhbnZhcycsICdbZGF0YS1vZmZjYW52YXNdJywgZnVuY3Rpb24gKCkge1xuXHRcdHZhciBvZmZfY2FudmFzX3dyYXAgPSAkKHRoaXMpO1xuXHRcdCQoXCIjbG9hZGluZy1iYXJcIikucmVtb3ZlQ2xhc3MoXCJoaWRlXCIpO1xuXHRcdCQoJyNsb2FkaW5nLWJhci1zcGlubmVyJykuYWRkQ2xhc3MoXCJoaWRlXCIpO1xuXHR9KTtcblxuXG5cdC8vIFJlZGlyZWN0IHRoZSB1c2VyIGlmIHRoZXkncmUgbG9zdFxuXHQkcm9vdFNjb3BlLiRvbihcIiRsb2NhdGlvbkNoYW5nZVN0YXJ0XCIsIGZ1bmN0aW9uIChldmVudCwgbmV4dCwgY3VycmVudCkge1xuXHRcdGlmICghQXV0aFNlcnZpY2UuaXNBdXRoZW50aWNhdGVkKCkpIHtcblx0XHRcdGlmIChuZXh0LnRlbXBsYXRlVXJsIT1cInZpZXdzL2xvZ2luVmlldy5odG1sXCIpe1xuXHRcdFx0XHQkbG9jYXRpb24ucGF0aChcIi9sb2dpblwiKTtcblx0XHRcdH1cblx0XHR9XG5cdH0pO1xuXHQvLyBSZWRpcmVjdCBpZiB1c2VyIGlmIHRoZXkgaGF2ZSBiZWVuIGxvZ2dlZCBpbiBhbmQvb3IgbG9nZ2VkIG91dFxuXHQkcm9vdFNjb3BlLiRvbihBVVRIX0VWRU5UUy5sb2dpblN1Y2Nlc3MsIGZ1bmN0aW9uKGV2ZW50KXtcblx0XHQkbG9jYXRpb24ucGF0aChcIi9leGFtcGxlXCIpOyAvLyBkYXNoYm9hcmRcblx0fSk7XG5cdCRyb290U2NvcGUuJG9uKEFVVEhfRVZFTlRTLmxvZ291dFN1Y2Nlc3MsIGZ1bmN0aW9uKGV2ZW50KSB7XG5cdFx0JGxvY2F0aW9uLnBhdGgoXCIvbG9naW5cIik7XG5cdH0pO1xuXG5cbn1dKVxuLmNvbnRyb2xsZXIoJ0FwcGxpY2F0aW9uQ29udHJvbGxlcicsIFsnJHNjb3BlJywgJ1VTRVJfUk9MRVMnLCAnQXV0aFNlcnZpY2UnLCAnRVJSX0JST0FEQ0FTVFMnLCAnQVVUSF9FVkVOVFMnLCAnJHJvb3RTY29wZScsICdVc2VyTWVzc2FnaW5nU2VydmljZScsXG4gZnVuY3Rpb24oJHNjb3BlLCBVU0VSX1JPTEVTLCBBdXRoU2VydmljZSwgRVJSX0JST0FEQ0FTVFMsIEFVVEhfRVZFTlRTLCAkcm9vdFNjb3BlLCBVc2VyTWVzc2FnaW5nU2VydmljZSkge1xuXHQkc2NvcGUuZ2xvYmFscyA9IHtcblx0XHRwYWdlVGl0bGU6IFwiVVRTIEhFTFBTXCJcblx0fTtcblx0JHNjb3BlLmVycl9tZXNzYWdlID0gXCJcIjtcblx0Lyokc2NvcGUuJG9uKEVSUl9CUk9BRENBU1RTLkFQSV9FUlJPUiwgZnVuY3Rpb24gdHJpZ2dlckVycm9yTW9kYWwoZSwgZXJyX21lc3NhZ2UpIHtcblx0XHRjb25zb2xlLmxvZyhcIkVycm9yIGluIEFQSSEgXCIrZXJyX21lc3NhZ2UpO1xuXHRcdCRzY29wZS5lcnJfbWVzc2FnZSA9IGVycl9tZXNzYWdlO1xuXHRcdCQoXCIjdWgtZXJyb3ItbW9kYWxcIikuZm91bmRhdGlvbigncmV2ZWFsJywgJ29wZW4nKTtcblx0fSk7Ki9cblx0JHNjb3BlLnRyaWdnZXJDbG9zZU1vZGFsID0gZnVuY3Rpb24oKSB7XG5cdFx0JChcIiN1aC1lcnJvci1tb2RhbFwiKS5mb3VuZGF0aW9uKCdyZXZlYWwnLCAnY2xvc2UnKTtcblx0fVxuXHQkc2NvcGUuY3VycmVudFVzZXIgPSBudWxsO1xuXHQkc2NvcGUudXNlclJvbGVzID0gVVNFUl9ST0xFUztcblx0JHNjb3BlLmlzQXV0aG9yaXplZCA9IEF1dGhTZXJ2aWNlLmlzQXV0aG9yaXplZDtcblx0XG5cdCRzY29wZS5zZXRDdXJyZW50VXNlciA9IGZ1bmN0aW9uICh1c2VyKSB7IFxuXHRcdCRzY29wZS5jdXJyZW50VXNlciA9IHVzZXI7XG5cdH07XG5cdCRzY29wZS5sb2dvdXQgPSBmdW5jdGlvbigpIHtcblx0XHRBdXRoU2VydmljZS5sb2dvdXRGYWtlKCkudGhlbihmdW5jdGlvbiBzdWNjZXNzKCkge1xuXHRcdFx0JHNjb3BlLmN1cnJlbnRVc2VyID0gbnVsbDtcblx0XHRcdCRyb290U2NvcGUuJGJyb2FkY2FzdChBVVRIX0VWRU5UUy5sb2dvdXRTdWNjZXNzKTsgXG5cdFx0fSwgZnVuY3Rpb24gZmFpbHVyZShlcnIpIHtcblx0XHRcdC8vIGRlYWwgd2l0aCBmYWlsdXJlIHRvIGxvZyBvdXQgaGVyZVxuXHRcdFx0JHJvb3RTY29wZS4kYnJvYWRjYXN0KEVSUl9CUk9BRENBU1RTLkFQSV9FUlJPUiwgZXJyKTtcblx0XHR9KTtcblx0fVxuXHQkc2NvcGUuaXNMb2dpblBhZ2UgPSB0cnVlO1xufV0pOyIsIid1c2Ugc3RyaWN0JztcblxuYW5ndWxhci5tb2R1bGUoJ2hlbHBzUmVzdGZ1bFNlcnZpY2VzJywgWyd1dHNIZWxwcy5jb25zdGFudHMnLCAnaGVscHNNb2RlbHNTZXJ2aWNlcyddKVxuLmNvbmZpZyhbJyRzY2VEZWxlZ2F0ZVByb3ZpZGVyJywgJ2hlbHBzX2VuZHBvaW50X2NvbnN0YW50cycsIGZ1bmN0aW9uKCRzY2VEZWxlZ2F0ZVByb3ZpZGVyLCBoZWxwc19lbmRwb2ludF9jb25zdGFudHMpIHtcblx0Ly8gUmVzb2x2ZXMgdGhlIGxvbmcgd2FpdCBmb3IgdGhlIE9QVElPTlMgcHJlIGZsaWdodCByZXF1ZXN0OyB2ZXJ5IG11Y2ggYSBoYWNrXG5cdC8vIGFuZCBpcyBub3Qgc3VwcG9ydGVkIGJ5IHRoZSBDT1JTIG9mZmljaWFsIHNwZWM6IGh0dHA6Ly9zdGFja292ZXJmbG93LmNvbS9hLzE2NTcwNjA0XG5cdCRzY2VEZWxlZ2F0ZVByb3ZpZGVyLnJlc291cmNlVXJsV2hpdGVsaXN0KFsnc2VsZicsIFxuXHRcdGhlbHBzX2VuZHBvaW50X2NvbnN0YW50cy5FTkRQT0lOVF9VUkkrJy8qKiddKTtcbn1dKVxuLnNlcnZpY2UoJ0FwaU1ldGhvZHMnLCBbJyRodHRwJywgJ2hlbHBzX2VuZHBvaW50X2NvbnN0YW50cycsICdFUlJfQlJPQURDQVNUUycsICckcm9vdFNjb3BlJywgJyRxJyxcblx0ZnVuY3Rpb24oJGh0dHAsIGVuZHBvaW50X2NvbnN0YW50cywgRVJSX0JST0FEQ0FTVFMsICRyb290U2NvcGUsICRxKSB7XG5cdFx0dGhpcy5jcmVhdGVDb25maWdPYmplY3QgPSBmdW5jdGlvbigpIHtcblx0XHRcdFx0Ly9GYWN0b3J5IG1ldGhvZCBwYXR0ZXJuXG5cdFx0XHRcdHZhciBjb25maWdPYmplY3QgPSB7XG5cdFx0XHRcdFx0aGVhZGVyczoge1xuXHRcdFx0XHRcdFx0XCJBcHBLZXlcIjplbmRwb2ludF9jb25zdGFudHMuQVBQX0tFWVxuXHRcdFx0XHRcdH1cblx0XHRcdFx0fTtcblx0XHRcdFx0cmV0dXJuIGNvbmZpZ09iamVjdDtcblx0XHRcdH1cblx0XHRcdHRoaXMuZ2V0UmVzb3VyY2UgPSBmdW5jdGlvbihyZXNvdXJjZVVyaSwgcGFyYW1zKSB7XG5cdFx0XHRcdC8vIEdpdmVuIHRoZSByZXNvdXJjZSBVUkkgKG5vdCBpbmNsdWRpbmcgdGhlIGVuZHBvaW50IFVSSSksIGFuZCBwYXJhbWV0ZXJzLCBjYWxsIHRoZSBlbmRwb2ludFxuXHRcdFx0XHQvLyBhbmQgcmV0dXJuIGEgcHJvbWlzZVxuXHRcdFx0XHR2YXIgY29uZmlnT2JqZWN0ID0gdGhpcy5jcmVhdGVDb25maWdPYmplY3QoKTtcblx0XHRcdFx0Y29uZmlnT2JqZWN0W1wicGFyYW1zXCJdID0gcGFyYW1zO1xuXHRcdFx0XHRyZXR1cm4gJGh0dHAuZ2V0KGVuZHBvaW50X2NvbnN0YW50cy5FTkRQT0lOVF9VUkkrcmVzb3VyY2VVcmksIGNvbmZpZ09iamVjdCk7XG5cdFx0XHR9XG5cdFx0XHR0aGlzLmdldFJlc291cmNlRmFrZWQgPSBmdW5jdGlvbihyZXNvdXJjZVVyaSwgcGFyYW1zKSB7XG5cdFx0XHRcdHZhciBkYXRhO1xuXHRcdFx0XHRpZiAocmVzb3VyY2VVcmkgPT09IGVuZHBvaW50X2NvbnN0YW50cy5BQ1RJVklUSUVTX1VSSStlbmRwb2ludF9jb25zdGFudHMuU0VBUkNIX1VSSSkge1xuXHRcdFx0XHRcdGRhdGEgPSB7XG5cdFx0XHRcdFx0XHRcIlJlc3VsdHNcIjogW1xuXHRcdFx0XHRcdFx0e1xuXHRcdFx0XHRcdFx0XHRcIldvcmtzaG9wSWRcIjogMTEsXG5cdFx0XHRcdFx0XHRcdFwidG9waWNcIjogXCJQbGFubmluZyBhbmQgcmVzZWFyY2hpbmcgZm9yIGFuIGFzc2lnbm1lbnRcIixcblx0XHRcdFx0XHRcdFx0XCJkZXNjcmlwdGlvblwiOiBcIuKAnEkgaGF2ZSBhbiBhc3NpZ25tZW50IGR1ZSBzb29uLCBidXQgSSBkb27igJl0IGtub3cgd2hlcmUgYW5kIGhvdyB0byBiZWdpbi5cIixcblx0XHRcdFx0XHRcdFx0XCJ0YXJnZXRpbmdHcm91cFwiOiBcImFsbCBzdHVkZW50c1wiLFxuXHRcdFx0XHRcdFx0XHRcImNhbXB1c1wiOiBcIkNCMDIuMDUuMzJcIixcblx0XHRcdFx0XHRcdFx0XCJTdGFydERhdGVcIjogXCIyMDEyLTA3LTA3VDE3OjAwOjAwXCIsXG5cdFx0XHRcdFx0XHRcdFwiRW5kRGF0ZVwiOiBcIjIwMTItMDctMDdUMTg6MDA6MDBcIixcblx0XHRcdFx0XHRcdFx0XCJtYXhpbXVtXCI6IDQ1LFxuXHRcdFx0XHRcdFx0XHRcIldvcmtTaG9wU2V0SURcIjogNCxcblx0XHRcdFx0XHRcdFx0XCJjdXRvZmZcIjogbnVsbCxcblx0XHRcdFx0XHRcdFx0XCJ0eXBlXCI6IFwic2luZ2xlXCIsXG5cdFx0XHRcdFx0XHRcdFwicmVtaW5kZXJfbnVtXCI6IDk5OTksXG5cdFx0XHRcdFx0XHRcdFwicmVtaW5kZXJfc2VudFwiOiAwLFxuXHRcdFx0XHRcdFx0XHRcIkRheXNPZldlZWtcIjogbnVsbCxcblx0XHRcdFx0XHRcdFx0XCJCb29raW5nQ291bnRcIjogNDUsXG5cdFx0XHRcdFx0XHRcdFwiYXJjaGl2ZWRcIjogbnVsbFxuXHRcdFx0XHRcdFx0fSwge1xuXHRcdFx0XHRcdFx0XHRcIldvcmtzaG9wSWRcIjogMTIsXG5cdFx0XHRcdFx0XHRcdFwidG9waWNcIjogXCJQbGFubmluZyBhbmQgcmVzZWFyY2hpbmcgZm9yIGFuIGFzc2lnbm1lbnRcIixcblx0XHRcdFx0XHRcdFx0XCJkZXNjcmlwdGlvblwiOiBcIuKAnEkgaGF2ZSBhbiBhc3NpZ25tZW50IGR1ZSBzb29uLCBidXQgSSBkb27igJl0IGtub3cgd2hlcmUgYW5kIGhvdyB0byBiZWdpbi5cIixcblx0XHRcdFx0XHRcdFx0XCJ0YXJnZXRpbmdHcm91cFwiOiBcImFsbCBzdHVkZW50c1wiLFxuXHRcdFx0XHRcdFx0XHRcImNhbXB1c1wiOiBcIkNCMDIuMDUuMzJcIixcblx0XHRcdFx0XHRcdFx0XCJTdGFydERhdGVcIjogXCIyMDEyLTA4LTA3VDE3OjAwOjAwXCIsXG5cdFx0XHRcdFx0XHRcdFwiRW5kRGF0ZVwiOiBcIjIwMTItMDgtMDdUMTg6MDA6MDBcIixcblx0XHRcdFx0XHRcdFx0XCJtYXhpbXVtXCI6IDQ1LFxuXHRcdFx0XHRcdFx0XHRcIldvcmtTaG9wU2V0SURcIjogNCxcblx0XHRcdFx0XHRcdFx0XCJjdXRvZmZcIjogbnVsbCxcblx0XHRcdFx0XHRcdFx0XCJ0eXBlXCI6IFwic2luZ2xlXCIsXG5cdFx0XHRcdFx0XHRcdFwicmVtaW5kZXJfbnVtXCI6IDk5OTksXG5cdFx0XHRcdFx0XHRcdFwicmVtaW5kZXJfc2VudFwiOiAwLFxuXHRcdFx0XHRcdFx0XHRcIkRheXNPZldlZWtcIjogbnVsbCxcblx0XHRcdFx0XHRcdFx0XCJCb29raW5nQ291bnRcIjogNDQsXG5cdFx0XHRcdFx0XHRcdFwiYXJjaGl2ZWRcIjogbnVsbFxuXHRcdFx0XHRcdFx0fSwge1xuXHRcdFx0XHRcdFx0XHRcIldvcmtzaG9wSWRcIjogMTQsXG5cdFx0XHRcdFx0XHRcdFwidG9waWNcIjogXCJQbGFubmluZyBhbmQgcmVzZWFyY2hpbmcgZm9yIGFuIGFzc2lnbm1lbnRcIixcblx0XHRcdFx0XHRcdFx0XCJkZXNjcmlwdGlvblwiOiBcIuKAnEkgaGF2ZSBhbiBhc3NpZ25tZW50IGR1ZSBzb29uLCBidXQgSSBkb27igJl0IGtub3cgd2hlcmUgYW5kIGhvdyB0byBiZWdpbi5cIixcblx0XHRcdFx0XHRcdFx0XCJ0YXJnZXRpbmdHcm91cFwiOiBcImFsbCBzdHVkZW50c1wiLFxuXHRcdFx0XHRcdFx0XHRcImNhbXB1c1wiOiBcIkNCMDIuMDUuMzJcIixcblx0XHRcdFx0XHRcdFx0XCJTdGFydERhdGVcIjogXCIyMDEyLTA4LTA3VDE3OjAwOjAwXCIsXG5cdFx0XHRcdFx0XHRcdFwiRW5kRGF0ZVwiOiBcIjIwMTItMDgtMDdUMTg6MDA6MDBcIixcblx0XHRcdFx0XHRcdFx0XCJtYXhpbXVtXCI6IDQ1LFxuXHRcdFx0XHRcdFx0XHRcIldvcmtTaG9wU2V0SURcIjogNCxcblx0XHRcdFx0XHRcdFx0XCJjdXRvZmZcIjogbnVsbCxcblx0XHRcdFx0XHRcdFx0XCJ0eXBlXCI6IFwic2luZ2xlXCIsXG5cdFx0XHRcdFx0XHRcdFwicmVtaW5kZXJfbnVtXCI6IDk5OTksXG5cdFx0XHRcdFx0XHRcdFwicmVtaW5kZXJfc2VudFwiOiAwLFxuXHRcdFx0XHRcdFx0XHRcIkRheXNPZldlZWtcIjogbnVsbCxcblx0XHRcdFx0XHRcdFx0XCJCb29raW5nQ291bnRcIjogNDUsXG5cdFx0XHRcdFx0XHRcdFwiYXJjaGl2ZWRcIjogbnVsbFxuXHRcdFx0XHRcdFx0fSwge1xuXHRcdFx0XHRcdFx0XHRcIldvcmtzaG9wSWRcIjogMTYsXG5cdFx0XHRcdFx0XHRcdFwidG9waWNcIjogXCJVOlBBU1N3cml0ZSBmb3IgMjExMjkgTWFuYWdpbmcgUGVvcGxlICYgT3JnYW5pc2F0aW9uc1wiLFxuXHRcdFx0XHRcdFx0XHRcImRlc2NyaXB0aW9uXCI6IFwiVGhpcyB3b3Jrc2hvcCB3aWxsIGVtcG93ZXIgeW91IHRvIHdyaXRlIGV4Y2VsbGVudCBlc3NheXMgYW5kIFwiK1xuXHRcdFx0XHRcdFx0XHRcInByb3ZpZGUgdmFsdWFibGUgc3VwcG9ydCBmb3IgdGhlIHVwY29taW5nIGFzc2lnbm1lbnQuXCIsXG5cdFx0XHRcdFx0XHRcdFwidGFyZ2V0aW5nR3JvdXBcIjogXCJhbGwgc3R1ZGVudHNcIixcblx0XHRcdFx0XHRcdFx0XCJjYW1wdXNcIjogXCJDQjAyLjA1LjMyXCIsXG5cdFx0XHRcdFx0XHRcdFwiU3RhcnREYXRlXCI6IFwiMjAxMi0wOS0wN1QxNzowMDowMFwiLFxuXHRcdFx0XHRcdFx0XHRcIkVuZERhdGVcIjogXCIyMDEyLTA5LTA3VDE4OjAwOjAwXCIsXG5cdFx0XHRcdFx0XHRcdFwibWF4aW11bVwiOiA0NSxcblx0XHRcdFx0XHRcdFx0XCJXb3JrU2hvcFNldElEXCI6IDUsXG5cdFx0XHRcdFx0XHRcdFwiY3V0b2ZmXCI6IG51bGwsXG5cdFx0XHRcdFx0XHRcdFwidHlwZVwiOiBcInNpbmdsZVwiLFxuXHRcdFx0XHRcdFx0XHRcInJlbWluZGVyX251bVwiOiA5OTk5LFxuXHRcdFx0XHRcdFx0XHRcInJlbWluZGVyX3NlbnRcIjogMCxcblx0XHRcdFx0XHRcdFx0XCJEYXlzT2ZXZWVrXCI6IG51bGwsXG5cdFx0XHRcdFx0XHRcdFwiQm9va2luZ0NvdW50XCI6IDQ0LFxuXHRcdFx0XHRcdFx0XHRcImFyY2hpdmVkXCI6IG51bGxcblx0XHRcdFx0XHRcdH0sXG5cdFx0XHRcdFx0XHR7XG5cdFx0XHRcdFx0XHRcdFwiV29ya3Nob3BJZFwiOiAxNixcblx0XHRcdFx0XHRcdFx0XCJ0b3BpY1wiOiBcIlU6UEFTU3dyaXRlIGZvciAyMTEyOSBNYW5hZ2luZyBQZW9wbGUgJiBPcmdhbmlzYXRpb25zXCIsXG5cdFx0XHRcdFx0XHRcdFwiZGVzY3JpcHRpb25cIjogXCJUaGlzIHdvcmtzaG9wIHdpbGwgZW1wb3dlciB5b3UgdG8gd3JpdGUgZXhjZWxsZW50IGVzc2F5cyBhbmQgXCIrXG5cdFx0XHRcdFx0XHRcdFwicHJvdmlkZSB2YWx1YWJsZSBzdXBwb3J0IGZvciB0aGUgdXBjb21pbmcgYXNzaWdubWVudC5cIixcblx0XHRcdFx0XHRcdFx0XCJ0YXJnZXRpbmdHcm91cFwiOiBcImFsbCBzdHVkZW50c1wiLFxuXHRcdFx0XHRcdFx0XHRcImNhbXB1c1wiOiBcIkNCMDIuMDUuMzJcIixcblx0XHRcdFx0XHRcdFx0XCJTdGFydERhdGVcIjogXCIyMDEyLTA5LTA3VDE3OjAwOjAwXCIsXG5cdFx0XHRcdFx0XHRcdFwiRW5kRGF0ZVwiOiBcIjIwMTItMDktMDdUMTg6MDA6MDBcIixcblx0XHRcdFx0XHRcdFx0XCJtYXhpbXVtXCI6IDQ1LFxuXHRcdFx0XHRcdFx0XHRcIldvcmtTaG9wU2V0SURcIjogOSxcblx0XHRcdFx0XHRcdFx0XCJjdXRvZmZcIjogbnVsbCxcblx0XHRcdFx0XHRcdFx0XCJ0eXBlXCI6IFwic2luZ2xlXCIsXG5cdFx0XHRcdFx0XHRcdFwicmVtaW5kZXJfbnVtXCI6IDk5OTksXG5cdFx0XHRcdFx0XHRcdFwicmVtaW5kZXJfc2VudFwiOiAwLFxuXHRcdFx0XHRcdFx0XHRcIkRheXNPZldlZWtcIjogbnVsbCxcblx0XHRcdFx0XHRcdFx0XCJCb29raW5nQ291bnRcIjogNDQsXG5cdFx0XHRcdFx0XHRcdFwiYXJjaGl2ZWRcIjogbnVsbFxuXHRcdFx0XHRcdFx0fSxcblx0XHRcdFx0XHRcdHtcblx0XHRcdFx0XHRcdFx0XCJXb3Jrc2hvcElkXCI6IDE2LFxuXHRcdFx0XHRcdFx0XHRcInRvcGljXCI6IFwiVTpQQVNTd3JpdGUgZm9yIDIxMTI5IE1hbmFnaW5nIFBlb3BsZSAmIE9yZ2FuaXNhdGlvbnNcIixcblx0XHRcdFx0XHRcdFx0XCJkZXNjcmlwdGlvblwiOiBcIlRoaXMgd29ya3Nob3Agd2lsbCBlbXBvd2VyIHlvdSB0byB3cml0ZSBleGNlbGxlbnQgZXNzYXlzIGFuZCBcIitcblx0XHRcdFx0XHRcdFx0XCJwcm92aWRlIHZhbHVhYmxlIHN1cHBvcnQgZm9yIHRoZSB1cGNvbWluZyBhc3NpZ25tZW50LlwiLFxuXHRcdFx0XHRcdFx0XHRcInRhcmdldGluZ0dyb3VwXCI6IFwiYWxsIHN0dWRlbnRzXCIsXG5cdFx0XHRcdFx0XHRcdFwiY2FtcHVzXCI6IFwiQ0IwMi4wNS4zMlwiLFxuXHRcdFx0XHRcdFx0XHRcIlN0YXJ0RGF0ZVwiOiBcIjIwMTItMDktMDdUMTc6MDA6MDBcIixcblx0XHRcdFx0XHRcdFx0XCJFbmREYXRlXCI6IFwiMjAxMi0wOS0wN1QxODowMDowMFwiLFxuXHRcdFx0XHRcdFx0XHRcIm1heGltdW1cIjogNDUsXG5cdFx0XHRcdFx0XHRcdFwiV29ya1Nob3BTZXRJRFwiOiAxMCxcblx0XHRcdFx0XHRcdFx0XCJjdXRvZmZcIjogbnVsbCxcblx0XHRcdFx0XHRcdFx0XCJ0eXBlXCI6IFwic2luZ2xlXCIsXG5cdFx0XHRcdFx0XHRcdFwicmVtaW5kZXJfbnVtXCI6IDk5OTksXG5cdFx0XHRcdFx0XHRcdFwicmVtaW5kZXJfc2VudFwiOiAwLFxuXHRcdFx0XHRcdFx0XHRcIkRheXNPZldlZWtcIjogbnVsbCxcblx0XHRcdFx0XHRcdFx0XCJCb29raW5nQ291bnRcIjogNDQsXG5cdFx0XHRcdFx0XHRcdFwiYXJjaGl2ZWRcIjogbnVsbFxuXHRcdFx0XHRcdFx0fSxcblx0XHRcdFx0XHRcdHtcblx0XHRcdFx0XHRcdFx0XCJXb3Jrc2hvcElkXCI6IDE2LFxuXHRcdFx0XHRcdFx0XHRcInRvcGljXCI6IFwiVTpQQVNTd3JpdGUgZm9yIDIxMTI5IE1hbmFnaW5nIFBlb3BsZSAmIE9yZ2FuaXNhdGlvbnNcIixcblx0XHRcdFx0XHRcdFx0XCJkZXNjcmlwdGlvblwiOiBcIlRoaXMgd29ya3Nob3Agd2lsbCBlbXBvd2VyIHlvdSB0byB3cml0ZSBleGNlbGxlbnQgZXNzYXlzIGFuZCBcIitcblx0XHRcdFx0XHRcdFx0XCJwcm92aWRlIHZhbHVhYmxlIHN1cHBvcnQgZm9yIHRoZSB1cGNvbWluZyBhc3NpZ25tZW50LlwiLFxuXHRcdFx0XHRcdFx0XHRcInRhcmdldGluZ0dyb3VwXCI6IFwiYWxsIHN0dWRlbnRzXCIsXG5cdFx0XHRcdFx0XHRcdFwiY2FtcHVzXCI6IFwiQ0IwMi4wNS4zMlwiLFxuXHRcdFx0XHRcdFx0XHRcIlN0YXJ0RGF0ZVwiOiBcIjIwMTItMDktMDdUMTc6MDA6MDBcIixcblx0XHRcdFx0XHRcdFx0XCJFbmREYXRlXCI6IFwiMjAxMi0wOS0wN1QxODowMDowMFwiLFxuXHRcdFx0XHRcdFx0XHRcIm1heGltdW1cIjogNDUsXG5cdFx0XHRcdFx0XHRcdFwiV29ya1Nob3BTZXRJRFwiOiAxNSxcblx0XHRcdFx0XHRcdFx0XCJjdXRvZmZcIjogbnVsbCxcblx0XHRcdFx0XHRcdFx0XCJ0eXBlXCI6IFwic2luZ2xlXCIsXG5cdFx0XHRcdFx0XHRcdFwicmVtaW5kZXJfbnVtXCI6IDk5OTksXG5cdFx0XHRcdFx0XHRcdFwicmVtaW5kZXJfc2VudFwiOiAwLFxuXHRcdFx0XHRcdFx0XHRcIkRheXNPZldlZWtcIjogbnVsbCxcblx0XHRcdFx0XHRcdFx0XCJCb29raW5nQ291bnRcIjogNDQsXG5cdFx0XHRcdFx0XHRcdFwiYXJjaGl2ZWRcIjogbnVsbFxuXHRcdFx0XHRcdFx0fVxuXHRcdFx0XHRcdFx0XSxcblx0XHRcdFx0XHRcdFwiSXNTdWNjZXNzXCI6IHRydWUsXG5cdFx0XHRcdFx0XHRcIkRpc3BsYXlNZXNzYWdlXCI6IG51bGxcblx0XHRcdFx0XHR9O1xuXHRcdFx0XHR9XG5cdFx0XHRcdGVsc2UgaWYgKHJlc291cmNlVXJpID09PSBlbmRwb2ludF9jb25zdGFudHMuQk9PS19TRVNTSU9OX1VSSSAmJiAocGFyYW1zLldvcmtzaG9wSWQgPT09IDEgfHwgcGFyYW1zLndvcmtzaG9wSWQgPT09IDExKSApIHtcblx0XHRcdFx0XHRkYXRhID0ge1wiSXNTdWNjZXNzXCI6ZmFsc2UsIFwiRGlzcGxheU1lc3NhZ2VcIjpcIkVycm9yIGVuY291bnRlcmVkIHdoaWxzdCB0cnlpbmcgdG8gY3JlYXRlIHlvdXIgYm9va2luZy4gUGxlYXNlIHRyeSBhZ2FpbiBhbmQgaWYgaXNzdWVzIHBlcnNpc3QgY29udGFjdCBVVFMgSEVMUFMuXCJ9O1xuXHRcdFx0XHR9XG5cdFx0XHRcdGVsc2UgaWYgKHJlc291cmNlVXJpID09PSBlbmRwb2ludF9jb25zdGFudHMuQk9PS19TRVNTSU9OX1VSSSkge1xuXHRcdFx0XHRcdGRhdGEgPSB7XCJJc1N1Y2Nlc3NcIjp0cnVlLCBcIkRpc3BsYXlNZXNzYWdlXCI6XCJcIn07XG5cdFx0XHRcdH1cblx0XHRcdFx0ZWxzZSB7XG5cdFx0XHRcdFx0Y29uc29sZS5sb2coXCJSZXNvdXJjZSBub3QgZmFrZWRcIik7XG5cdFx0XHRcdFx0ZGF0YSA9IG51bGw7XG5cdFx0XHRcdH1cblx0XHRcdFx0cmV0dXJuICRxKGZ1bmN0aW9uKHJlc29sdmUsIHJlamVjdCl7XG5cdFx0XHRcdFx0c2V0VGltZW91dChmdW5jdGlvbigpIHtcblx0XHRcdFx0XHRcdGlmIChkYXRhKSB7XG5cdFx0XHRcdFx0XHRcdHJlc29sdmUoe1wiZGF0YVwiOmRhdGF9KTtcblx0XHRcdFx0XHRcdH1cblx0XHRcdFx0XHRcdGVsc2Uge1xuXHRcdFx0XHRcdFx0XHRyZWplY3Qoe1wiZGF0YVwiOmRhdGF9KTtcblx0XHRcdFx0XHRcdH1cblx0XHRcdFx0XHR9LCAxMDAwKTtcblx0XHRcdFx0fSk7XG5cdFx0XHR9XG5cdFx0XHR0aGlzLnRyYW5zZm9ybVBhcmFtcyA9IGZ1bmN0aW9uKHBhcmFtcykge1xuXHRcdFx0XHQvLyBUaGlzIGJpdCBvZiBjb2RlIGNpcmN1bXZlbnRzIHRoZSBpc3N1ZSB3aGVyZWJ5IEFuZ3VsYXIgZG9lc24ndCBzdXBwb3J0XG5cdFx0XHRcdC8vIFVSSSBwYXJhbXMgZm9yIFBPU1QgY2FsbHMgLSBmb3Igb2J2aW91cyBzZWN1cml0eSByZWFzb25zLiBIb3dldmVyLCBcblx0XHRcdFx0Ly8gSVREIGhhdmUgZGVjaWRlZCB0aGF0IHNlY3VyaXR5IGlzIG5vdCBpbXBvcnRhbnQgc28gZXNjaGV3ZWQgdGhpcyBpbXBvcnRhbnRcblx0XHRcdFx0Ly8gc2FmZXR5IG1lYXN1cmUuIFxuXHRcdFx0XHQvLyBFbmNsb3NlZCBpbiBhIHRyeSBjYXRjaCBiZWNhdXNlIGlmIHRoZXJlIGlzIG5vIHJldHVybiwgdGhpbmdzIGdldCB1Z2x5LlxuXHRcdFx0XHR0cnkge1xuXHRcdFx0XHRcdGlmIChwYXJhbXMgPT09IHVuZGVmaW5lZCkge3JldHVybiBwYXJhbXM7fVxuXHRcdFx0XHRcdGVsc2Uge3JldHVybiAkLnBhcmFtKHBhcmFtcyk7fVxuXHRcdFx0XHR9XG5cdFx0XHRcdGNhdGNoKGVycikge1xuXHRcdFx0XHRcdHJldHVybiBwYXJhbXM7XG5cdFx0XHRcdH1cblx0XHRcdFx0XG5cdFx0XHR9XG5cdFx0XHR0aGlzLnBvc3RSZXNvdXJjZSA9IGZ1bmN0aW9uKHJlc291cmNlVXJpLCBwYXJhbXMpIHtcblx0XHRcdFx0dmFyIGNvbmZpZ09iamVjdCA9IHRoaXMuY3JlYXRlQ29uZmlnT2JqZWN0KCk7XG5cdFx0XHRcdGNvbmZpZ09iamVjdC5wYXJhbXMgPSBwYXJhbXM7XG5cdFx0XHRcdHJldHVybiAkaHR0cC5wb3N0KGVuZHBvaW50X2NvbnN0YW50cy5FTkRQT0lOVF9VUkkrcmVzb3VyY2VVcmksIGNvbmZpZ09iamVjdCk7XG5cdFx0XHR9XG5cdFx0XHR0aGlzLnBvc3RSZXNvdXJjZVdpdGhQYXJhbXNJblVyaSA9IGZ1bmN0aW9uKHJlc291cmNlVXJpLCBwYXJhbXMpIHtcblx0XHRcdFx0dmFyIGNvbmZpZ09iamVjdCA9IHRoaXMuY3JlYXRlQ29uZmlnT2JqZWN0KCk7XG5cdFx0XHRcdHZhciB1cmlUcmFuc2Zvcm0gPSB0aGlzLnRyYW5zZm9ybVBhcmFtcyhwYXJhbXMpO1xuXHRcdFx0XHRyZXR1cm4gJGh0dHAoe3VybDplbmRwb2ludF9jb25zdGFudHMuRU5EUE9JTlRfVVJJK3Jlc291cmNlVXJpK1wiP1wiK3VyaVRyYW5zZm9ybSwgbWV0aG9kOiAnUE9TVCcsIGhlYWRlcnM6Y29uZmlnT2JqZWN0WydoZWFkZXJzJ119KTtcblx0XHRcdH1cblx0XHR9XSlcbi5zZXJ2aWNlKCdVcGNvbWluZ0FjdGl2aXRpZXNNb2RlbCcsIFsnJGh0dHAnLCAnaGVscHNfZW5kcG9pbnRfY29uc3RhbnRzJywgJ0VSUl9CUk9BRENBU1RTJywgJyRyb290U2NvcGUnLCAnQXBpTWV0aG9kcycsICdXb3Jrc2hvcEJvb2tpbmcnLCAnQWxlcnRCYW5uZXInLCBmdW5jdGlvbigkaHR0cCwgZW5kcG9pbnRfY29uc3RhbnRzLCBFUlJfQlJPQURDQVNUUywgJHJvb3RTY29wZSwgQXBpTWV0aG9kcywgV29ya3Nob3BCb29raW5nLCBBbGVydEJhbm5lcikge1xuXHR2YXIgc2NvcGUgPSB0aGlzO1xuXG4gICAgdmFyIHBhZ2VOdW1iZXIgPSAxO1xuXHR2YXIgcGFnZVNpemUgPSAxMDA7XG5cdC8qdGhpcy5jcmVhdGUgPSBmdW5jdGlvbihhY3Rpdml0aWVzVG9TYXZlKSB7XG5cdFx0c2NvcGUuYWN0aXZpdGllcyA9IGFjdGl2aXRpZXNUb1NhdmU7XG5cdH0qL1xuXG5cblx0dGhpcy5nZXRBY3Rpdml0aWVzID0gZnVuY3Rpb24ocGFyYW1zKSB7XG5cdFx0Ly8gR2V0cyBkYXRhIGZyb20gYSBzZXJ2ZXJcblx0XHRyZXR1cm4gQXBpTWV0aG9kcy5nZXRSZXNvdXJjZUZha2VkKGVuZHBvaW50X2NvbnN0YW50cy5BQ1RJVklUSUVTX1VSSStlbmRwb2ludF9jb25zdGFudHMuU0VBUkNIX1VSSSxcblx0XHRcdHBhcmFtc1xuXHRcdFx0KTtcblx0fTtcblxuXHR0aGlzLm1lcmdlQWN0aXZpdGllcyA9IGZ1bmN0aW9uKG5ld0RhdGFUb01lcmdlLCBleGlzdGluZ0RhdGEpIHtcblx0XHRpZiAobmV3RGF0YVRvTWVyZ2UuSXNTdWNjZXNzKSB7XG5cdFx0XHRpZiAoIWV4aXN0aW5nRGF0YSkge1xuXHRcdFx0XHR2YXIgZXhpc3RpbmdEYXRhID0ge307XG5cdFx0XHR9XG5cdFx0XHRmb3IgKHZhciBpPTA7IGk8bmV3RGF0YVRvTWVyZ2VbXCJSZXN1bHRzXCJdLmxlbmd0aDsgaSsrKXtcblx0XHRcdFx0aWYgKGV4aXN0aW5nRGF0YS5oYXNPd25Qcm9wZXJ0eShuZXdEYXRhVG9NZXJnZVtcIlJlc3VsdHNcIl1baV1bXCJXb3JrU2hvcFNldElEXCJdKSkge1xuXHRcdFx0XHRcdC8vIEFwcGVuZCBhbGwgd29ya3Nob3AgZGVldHMgYW5kIHdoYXRub3QgaW50byB0aGUgd29ya3Nob3Bcblx0XHRcdFx0XHRleGlzdGluZ0RhdGFbbmV3RGF0YVRvTWVyZ2VbXCJSZXN1bHRzXCJdW2ldW1wiV29ya1Nob3BTZXRJRFwiXV1bXCJ3b3Jrc2hvcHNcIl0ucHVzaChuZXdEYXRhVG9NZXJnZVtcIlJlc3VsdHNcIl1baV0pO1xuXHRcdFx0XHR9XG5cdFx0XHRcdGVsc2Uge1xuXHRcdFx0XHRcdGV4aXN0aW5nRGF0YVtuZXdEYXRhVG9NZXJnZVtcIlJlc3VsdHNcIl1baV1bXCJXb3JrU2hvcFNldElEXCJdXSA9IHtcblx0XHRcdFx0XHRcdFwiZGVzY3JpcHRpb25cIjpuZXdEYXRhVG9NZXJnZVtcIlJlc3VsdHNcIl1baV1bXCJkZXNjcmlwdGlvblwiXSxcblx0XHRcdFx0XHRcdFwidG9waWNcIjpuZXdEYXRhVG9NZXJnZVtcIlJlc3VsdHNcIl1baV1bXCJ0b3BpY1wiXSxcblx0XHRcdFx0XHRcdFwid29ya3Nob3BzXCI6W25ld0RhdGFUb01lcmdlW1wiUmVzdWx0c1wiXVtpXV1cblx0XHRcdFx0XHR9O1xuXHRcdFx0XHR9XG5cdFx0XHR9XG5cdFx0XHRyZXR1cm4gZXhpc3RpbmdEYXRhO1xuXHRcdH1cblx0XHRlbHNlIHtcblx0XHRcdC8vIEZhaWxlZCB0byBjb3JyZWN0bHkgbG9hZCBkYXRhXG5cdFx0XHRjb25zb2xlLmxvZyhcIkZhaWxlZCB0byBjb3JyZWN0bHkgbG9hZCBkYXRhLlwiKTtcblx0XHRcdCRyb290U2NvcGUuJGJyb2FkY2FzdChFUlJfQlJPQURDQVNUUy5BUElfRVJST1IsIG5ld0RhdGFUb01lcmdlLkRpc3BsYXlNZXNzYWdlKTtcblx0XHRcdHJldHVybiB7fTtcblx0XHR9XG5cdH07XG5cblx0dGhpcy5nZXRNb3JlQWN0aXZpdGllcyA9IGZ1bmN0aW9uKCl7XG5cdFx0cGFnZU51bWJlcisrO1xuXHRcdHRoaXMuZ2V0QWN0aXZpdGllcyh7XCJQYWdlXCI6cGFnZU51bWJlcixcIlBhZ2VTaXplXCI6cGFnZVNpemV9KS50aGVuKGZ1bmN0aW9uKHJlc3VsdCkge1xuXHRcdFx0Y29uc29sZS5sb2cocmVzdWx0KTtcblx0XHRcdHNjb3BlLmFjdGl2aXRpZXMgPSBzY29wZS5tZXJnZUFjdGl2aXRpZXMocmVzdWx0LmRhdGEsIHNjb3BlLmFjdGl2aXRpZXMpO1xuXHRcdH0pO1xuXHR9O1xuXG5cdHRoaXMub25DcmVhdGUgPSBmdW5jdGlvbigpIHtcblxuICAgICAgICAvL21vZGlmaWVkIGZyb20gbWl0Y2gncyBjb2RlLlxuICAgICAgICAvL1VzaW5nIHBhZ2UgbnVtYmVyLCBpbnN0ZWFkIG9mIGEgZGF0ZSwgdG8gZ2V0IGFjdGl2aXRpZXNcblx0XHR0aGlzLmdldEFjdGl2aXRpZXMoe1wiUGFnZVwiOnBhZ2VOdW1iZXIsXCJQYWdlU2l6ZVwiOnBhZ2VTaXplfSkudGhlbihmdW5jdGlvbihyZXN1bHQpIHtcblx0XHQvL3RoaXMuZ2V0QWN0aXZpdGllcyh7XCJTdGFydGluZ0R0QmVnaW5cIjpcIjIwMTUtMDgtMDdUMTc6MDA6MDBcIiwgXCJTdGFydGluZ0R0RW5kXCI6XCI5OTk5LTEyLTI5VDE3OjAwOjAwXCJ9KS50aGVuKGZ1bmN0aW9uKHJlc3VsdCkge1xuXHRcdFx0Y29uc29sZS5sb2cocmVzdWx0KTtcblx0XHRcdHNjb3BlLmFjdGl2aXRpZXMgPSBzY29wZS5tZXJnZUFjdGl2aXRpZXMocmVzdWx0LmRhdGEsIHNjb3BlLmFjdGl2aXRpZXMpO1xuXHRcdH0pO1xuXHR9O1xuXHR0aGlzLmJvb2tXb3Jrc2hvcCA9IGZ1bmN0aW9uKHdvcmtzaG9wSWQsIHN0dWRlbnRJZCkge1xuXHRcdC8vQ3JlYXRlIGEgbmljZSBtb2RlbCB0byBzZW5kIHRvIHRoZSBEQlxuXHRcdC8vIFRoaXMgbWV0aG9kIGNvdWxkIGJlIHBvcnRlZCB0byBUb21tJ3MgbW9kZWwgdGJoXG5cdFx0dmFyIHdvcmtzaG9wQm9va2luZyA9IFdvcmtzaG9wQm9va2luZy5jcmVhdGUobnVsbCwgd29ya3Nob3BJZCwgc3R1ZGVudElkLCBudWxsLCBzdHVkZW50SWQsIG51bGwpO1xuXHRcdHJldHVybiBBcGlNZXRob2RzLnBvc3RSZXNvdXJjZVdpdGhQYXJhbXNJblVyaShlbmRwb2ludF9jb25zdGFudHMuQk9PS19TRVNTSU9OX1VSSSwgd29ya3Nob3BCb29raW5nKS50aGVuKGZ1bmN0aW9uIHN1Y2Nlc3MocmVzcG9uc2UpIHtcblx0XHRcdGlmIChyZXNwb25zZS5kYXRhLklzU3VjY2Vzcykge1xuXHRcdFx0XHRyZXR1cm4gdHJ1ZTtcblx0XHRcdH1cblx0XHRcdGVsc2Uge1xuXHRcdFx0XHQkcm9vdFNjb3BlLiRicm9hZGNhc3QoRVJSX0JST0FEQ0FTVFMuQVBJX0VSUk9SLCByZXNwb25zZS5kYXRhLkRpc3BsYXlNZXNzYWdlKTtcblx0XHRcdFx0cmV0dXJuIGZhbHNlO1xuXHRcdFx0fVxuXHRcdH0sIGZ1bmN0aW9uIGZhaWx1cmUoZXJyb3IpIHtcblx0XHRcdC8vIEJpdCBvZiBlcnJvciBoYW5kbGluZ1xuXHRcdFx0JHJvb3RTY29wZS4kYnJvYWRjYXN0KEVSUl9CUk9BRENBU1RTLkFQSV9FUlJPUiwgXCJFcnJvciBlbmNvdW50ZXJlZCB3aGlsc3QgdHJ5aW5nIHRvIGNyZWF0ZSB5b3VyIGJvb2tpbmcuIFBsZWFzZSB0cnkgYWdhaW4gYW5kIGlmIGlzc3VlcyBwZXJzaXN0IGNvbnRhY3QgVVRTIEhFTFBTLlwiKTtcblx0XHR9KTtcblx0fTtcblx0dGhpcy5vbkNyZWF0ZSgpO1xufV0pXG5cblxuXG5cblxuLnNlcnZpY2UoJ1Nlc3Npb24nLCBbZnVuY3Rpb24gKCkge1xuXHR0aGlzLmNyZWF0ZSA9IGZ1bmN0aW9uIChzZXNzaW9uSWQsIHVzZXJJZCwgdXNlcm5hbWUsIHVzZXJSb2xlKSB7XG5cblx0XHR0aGlzLmlkID0gc2Vzc2lvbklkO1xuXHRcdHRoaXMudXNlcklkID0gdXNlcklkO1xuXHRcdHRoaXMudXNlcm5hbWUgPSB1c2VybmFtZTtcblx0XHR0aGlzLnVzZXJSb2xlID0gdXNlclJvbGU7XG5cdH07XG5cdFxuXHR0aGlzLmRlc3Ryb3kgPSBmdW5jdGlvbigpIHtcblx0XHR0aGlzLmlkID0gbnVsbDtcblx0XHR0aGlzLnVzZXJJZCA9IG51bGw7XG5cdFx0dGhpcy51c2VybmFtZSA9IG51bGw7XG5cdFx0dGhpcy51c2VyUm9sZSA9IG51bGw7XG5cdH07XG59XSk7XG4iLCIndXNlIHN0cmljdCc7XG5cbmFuZ3VsYXIubW9kdWxlKCdoZWxwc01vZGVsc1NlcnZpY2VzJywgW10pXG4uZmFjdG9yeSgnVXNlcicsIGZ1bmN0aW9uICgpe1xuXHR2YXIgdXNlciA9IHt9O1xuXHR1c2VyLmNyZWF0ZSA9IGZ1bmN0aW9uKHVzZXJJZCwgc3R1ZGVudElkLCBuYW1lLCBwYXNzd29yZCkge1xuXHRcdHJldHVybiB7XG5cdFx0XHRcInVzZXJJZFwiOnVzZXJJZCxcblx0XHRcdFwic3R1ZGVudElkXCI6c3R1ZGVudElkLFxuXHRcdFx0XCJuYW1lXCI6bmFtZSxcblx0XHRcdFwicGFzc3dvcmRcIjpwYXNzd29yZFxuXHRcdH07XG5cdH1cblx0cmV0dXJuIHVzZXI7XG59KVxuXG4uZmFjdG9yeSgnU3R1ZGVudCcsIGZ1bmN0aW9uICgpIHtcblx0dmFyIHN0dWRlbnQgPSB7fTtcblxuXHRzdHVkZW50LmNyZWF0ZSA9IGZ1bmN0aW9uIChzdHVkZW50SWQsIGNyZWF0b3JJZCwgZG9iLCBnZW5kZXIsIGRlZ3JlZSwgc3RhdHVzLCBcblx0XHRmaXJzdExhbmd1YWdlLCBjb3VudHJ5T2ZPcmlnaW4sIGJhY2tncm91bmQsIGRlZ3JlZURldGFpbHMsIGFsdENvbnRhY3QsXG5cdFx0SFNDLCBIU0NNYXJrcywgSUVMVFMsIElFTFRTTWFya3MsIFRPRUxGLCBUT0VMRk1hcmtzLCBUQUZFLFxuXHRcdFRBRkVNYXJrcywgQ1VMVCwgQ1VMVE1hcmtzLCBpbnNlYXJjaERFRVAsIGluc2VhcmNoREVFUE1hcmtzLFxuXHRcdGluc2VhcmNoRGlwbG9tYSwgaW5zZWFyY2hEaXBsb21hTWFya3MsIGZvdW5kYXRpb25Db3Vyc2UsXG5cdFx0Zm91bmRhdGlvbkNvdXJzZU1hcmtzKSB7XG5cdFx0XHRyZXR1cm4ge1xuXHRcdFx0XHRcInN0dWRlbnRJZFwiOnN0dWRlbnRJZCwgXG5cdFx0XHRcdFwiY3JlYXRvcklkXCI6IGNyZWF0b3JJZCwgXG5cdFx0XHRcdFwiZG9iXCI6IGRvYiwgXG5cdFx0XHRcdFwiZ2VuZGVyXCI6IGdlbmRlciwgXG5cdFx0XHRcdFwiZGVncmVlXCI6IGRlZ3JlZSwgXG5cdFx0XHRcdFwic3RhdHVzXCI6IHN0YXR1cyxcblx0XHRcdFx0XCJmaXJzdExhbmd1YWdlXCI6IGZpcnN0TGFuZ3VhZ2UsIFxuXHRcdFx0XHRcImNvdW50cnlPZk9yaWdpblwiOiBjb3VudHJ5T2ZPcmlnaW4sIFxuXHRcdFx0XHRcImJhY2tncm91bmRcIjogYmFja2dyb3VuZCwgXG5cdFx0XHRcdFwiZGVncmVlRGV0YWlsc1wiOiBkZWdyZWVEZXRhaWxzLCBcblx0XHRcdFx0XCJhbHRDb250YWN0XCI6IGFsdENvbnRhY3QsXG5cdFx0XHRcdFwiSFNDXCI6IEhTQywgXG5cdFx0XHRcdFwiSFNDTWFya3NcIjogSFNDTWFya3MsIFxuXHRcdFx0XHRcIklFTFRTXCI6IElFTFRTLCBcblx0XHRcdFx0XCJJRUxUU01hcmtzXCI6IElFTFRTTWFya3MsIFxuXHRcdFx0XHRcIlRPRUxGXCI6IFRPRUxGLCBcblx0XHRcdFx0XCJUT0VMRk1hcmtzXCI6IFRPRUxGTWFya3MsIFxuXHRcdFx0XHRcIlRBRkVcIjogVEFGRSxcblx0XHRcdFx0XCJUQUZFTWFya3NcIjogVEFGRU1hcmtzLCBcblx0XHRcdFx0XCJDVUxUXCI6IENVTFQsIFxuXHRcdFx0XHRcIkNVTFRNYXJrc1wiOiBDVUxUTWFya3MsIFxuXHRcdFx0XHRcImluc2VhcmNoREVFUFwiOiBpbnNlYXJjaERFRVAsIFxuXHRcdFx0XHRcImluc2VhcmNoREVFUE1hcmtzXCI6IGluc2VhcmNoREVFUE1hcmtzLFxuXHRcdFx0XHRcImluc2VhcmNoRGlwbG9tYVwiOiBpbnNlYXJjaERpcGxvbWEsXG5cdFx0XHRcdFwiaW5zZWFyY2hEaXBsb21hTWFya3NcIjogaW5zZWFyY2hEaXBsb21hTWFya3MsIFxuXHRcdFx0XHRcImZvdW5kYXRpb25Db3Vyc2VcIjogZm91bmRhdGlvbkNvdXJzZSxcblx0XHRcdFx0XCJmb3VuZGF0aW9uQ291cnNlTWFya3NcIjogZm91bmRhdGlvbkNvdXJzZU1hcmtzXG5cdFx0XHR9O1xuXHRcdH07XG5cdHJldHVybiBzdHVkZW50O1xufSlcblxuLmZhY3RvcnkoJ0NhbXB1cycsIGZ1bmN0aW9uKCkge1xuXHR2YXIgY2FtcHVzID0ge307XG5cdGNhbXB1cy5jcmVhdGUgPSBmdW5jdGlvbiAoY2FtcHVzSWQsIGNhbXB1c0luZm8sIGFyY2hpdmVkKSB7XG5cdFx0cmV0dXJuIHtcblx0XHRcdFwiY2FtcHVzSWRcIjogY2FtcHVzSWQsXG5cdFx0XHRcImNhbXB1c0luZm9cIjogY2FtcHVzSW5mbyxcblx0XHRcdFwiYXJjaGl2ZWRcIjogYXJjaGl2ZWRcblx0XHR9O1xuXHR9O1xuXHRcblx0cmV0dXJuIGNhbXB1cztcbn0pXG5cbi5mYWN0b3J5KCdXb3Jrc2hvcCcsIGZ1bmN0aW9uKCkge1xuXHR2YXIgd29ya3Nob3AgPSB7fTtcblx0XG5cdHdvcmtzaG9wLmNyZWF0ZSA9IGZ1bmN0aW9uICh3b3Jrc2hvcElkLCB3b3Jrc2hvcFNldElkLCBcblx0XHRjYW1wdXNJZCwgdG9waWMsIHN0YXJ0RGF0ZSwgZW5kRGF0ZSwgZGVzY3JpcHRpb24sXG5cdFx0dGFyZ2V0aW5nR3JvdXAsIG1heGltdW0sIGN1dG9mZiwgdHlwZSwgcmVtaW5kZXJOdW0sXG5cdFx0cmVtaW5kZXJTZW50LCBkYXlzT2ZXZWVrLCBib29raW5nQ291bnQsIGFyY2hpdmVkKSB7XG5cdFx0cmV0dXJuIHtcblx0XHRcdFwid29ya3Nob3BJZFwiOiB3b3Jrc2hvcElkLCBcblx0XHRcdFwid29ya3Nob3BTZXRJZFwiOiB3b3Jrc2hvcFNldElkLCBcblx0XHRcdFwiY2FtcHVzSWRcIjogY2FtcHVzSWQsIFxuXHRcdFx0XCJ0b3BpY1wiOiB0b3BpYywgXG5cdFx0XHRcInN0YXJ0RGF0ZVwiOiBzdGFydERhdGUsIFxuXHRcdFx0XCJlbmREYXRlXCI6IGVuZERhdGUsIFxuXHRcdFx0XCJkZXNjcmlwdGlvblwiOiBkZXNjcmlwdGlvbixcblx0XHRcdFwidGFyZ2V0aW5nR3JvdXBcIjogdGFyZ2V0aW5nR3JvdXAsIFxuXHRcdFx0XCJtYXhpbXVtXCI6IG1heGltdW0sIFxuXHRcdFx0XCJjdXRvZmZcIjogY3V0b2ZmLCBcblx0XHRcdFwidHlwZVwiOiB0eXBlLCBcblx0XHRcdFwicmVtaW5kZXJOdW1cIjogcmVtaW5kZXJOdW0sXG5cdFx0XHRcInJlbWluZGVyU2VudFwiOiByZW1pbmRlclNlbnQsIFxuXHRcdFx0XCJkYXlzT2ZXZWVrXCI6IGRheXNPZldlZWssIFxuXHRcdFx0XCJib29raW5nQ291bnRcIjogYm9va2luZ0NvdW50LCBcblx0XHRcdFwiYXJjaGl2ZWRcIjogYXJjaGl2ZWRcblx0XHR9O1xuXHR9O1xuXHRcblx0cmV0dXJuIHdvcmtzaG9wO1xufSlcblxuLmZhY3RvcnkoJ1dvcmtzaG9wU2V0JywgZnVuY3Rpb24gKCkge1xuXHR2YXIgd29ya3Nob3BTZXQgPSB7fTtcblx0d29ya3Nob3BTZXQuY3JlYXRlID0gZnVuY3Rpb24gKHdvcmtzaG9wU2V0SWQsIGNhbXB1c0lkLCBuYW1lLCBhcmNoaXZlZCl7XG5cdFx0cmV0dXJuIHtcblx0XHRcdFwid29ya3Nob3BTZXRJZFwiOiB3b3Jrc2hvcFNldElkLFxuXHRcdFx0XCJjYW1wdXNJZFwiOiBjYW1wdXNJZCxcblx0XHRcdFwibmFtZVwiOiBuYW1lLFxuXHRcdFx0XCJhcmNoaXZlZFwiOiBhcmNoaXZlZFxuXHRcdH07XG5cdH07XG5cdHJldHVybiB3b3Jrc2hvcFNldDtcbn0pXG5cbi5mYWN0b3J5KCdXb3Jrc2hvcFdhaXRpbmcnLCBmdW5jdGlvbiAoKSB7XG5cdHZhciB3b3Jrc2hvcFdhaXRpbmcgPSB7fTtcblxuXHR3b3Jrc2hvcFdhaXRpbmcuY3JlYXRlID0gZnVuY3Rpb24gKHdvcmtzaG9wV2FpdGluZ0lkLCB3b3Jrc2hvcElkLCBzdHVkZW50SWQsIHVzZXJJZCkge1xuXHRcdHJldHVybiB7XG5cdFx0XHRcIndvcmtzaG9wV2FpdGluZ0lkXCI6IHdvcmtzaG9wV2FpdGluZ0lkLFxuXHRcdFx0XCJ3b3Jrc2hvcElkXCI6IHdvcmtzaG9wSWQsXG5cdFx0XHRcInN0dWRlbnRJZFwiOiBzdHVkZW50SWQsXG5cdFx0XHRcInVzZXJJZFwiOiB1c2VySWRcblx0XHR9O1xuXHR9O1xuXHRyZXR1cm4gd29ya3Nob3BXYWl0aW5nO1xufSlcblxuLmZhY3RvcnkoJ1dvcmtzaG9wQm9va2luZycsIGZ1bmN0aW9uICgpIHtcblx0dmFyIHdvcmtzaG9wQm9va2luZyA9IHt9O1xuXHR3b3Jrc2hvcEJvb2tpbmcuY3JlYXRlID0gZnVuY3Rpb24gKHdvcmtzaG9wQm9va2luZ0lkLCB3b3Jrc2hvcElkLCBzdHVkZW50SWQsIHdvcmtzaG9wU2V0SWQsIHVzZXJJZCwgaXNBY3RpdmUpIHtcblx0XHRyZXR1cm4ge1xuXHRcdFx0XCJ3b3Jrc2hvcEJvb2tpbmdJZFwiOndvcmtzaG9wQm9va2luZ0lkLCBcblx0XHRcdFwid29ya3Nob3BJZFwiOiB3b3Jrc2hvcElkLCBcblx0XHRcdFwic3R1ZGVudElkXCI6IHN0dWRlbnRJZCwgXG5cdFx0XHRcIndvcmtzaG9wU2V0SWRcIjogd29ya3Nob3BTZXRJZCwgXG5cdFx0XHRcInVzZXJJZFwiOiB1c2VySWQsIFxuXHRcdFx0XCJpc0FjdGl2ZVwiOiBpc0FjdGl2ZVxuXHRcdH07XG5cdH07XG5cdHJldHVybiB3b3Jrc2hvcEJvb2tpbmc7XG59KVxuXG4uZmFjdG9yeSgnU2Vzc2lvbicsIGZ1bmN0aW9uICgpIHtcblx0dmFyIHNlc3Npb24gPSB7fTtcblx0c2Vzc2lvbi5jcmVhdGUgPSBmdW5jdGlvbiAoc2Vzc2lvbklkLCBzZXNzaW9uVHlwZUlkLCBjYW1wdXNJZCwgbGVjdHVyZXJJZCwgc3RhcnREYXRlLCBlbmREYXRlLCBpc0FjdGl2ZSkge1xuXHRcdHJldHVybiB7XG5cdFx0XHRcInNlc3Npb25JZFwiOiBzZXNzaW9uSWQsXG5cdFx0XHRcInNlc3Npb25UeXBlSWRcIjogc2Vzc2lvblR5cGVJZCxcblx0XHRcdFwiY2FtcHVzSWRcIjogY2FtcHVzSWQsXG5cdFx0XHRcImxlY3R1cmVySWRcIjogbGVjdHVyZXJJZCxcblx0XHRcdFwic3RhcnREYXRlXCI6IHN0YXJ0RGF0ZSxcblx0XHRcdFwiZW5kRGF0ZVwiOiBlbmREYXRlLFxuXHRcdFx0XCJpc0FjdGl2ZVwiOiBpc0FjdGl2ZVxuXHRcdFx0fTtcblx0fTtcblx0cmV0dXJuIHNlc3Npb247XG59KVxuXG4uZmFjdG9yeSgnU2Vzc2lvblR5cGUnLCBmdW5jdGlvbiAoKXtcblx0dmFyIHR5cGUgPSB7fTtcblx0dHlwZS5jcmVhdGUgPSBmdW5jdGlvbihzZXNzaW9uVHlwZUlkLCBhYmJOYW1lLCBmdWxsTmFtZSwgaXNDdXJyZW50LCBpc0FjdGl2ZSkge1xuXHRcdHJldHVybiB7XG5cdFx0XHRcInNlc3Npb25UeXBlSWRcIjogc2Vzc2lvblR5cGVJZCxcblx0XHRcdFwiYWJiTmFtZVwiOiBhYmJOYW1lLFxuXHRcdFx0XCJmdWxsTmFtZVwiOiBmdWxsTmFtZSxcblx0XHRcdFwiaXNDdXJyZW50XCI6IGlzQ3VycmVudCxcblx0XHRcdFwiaXNBY3RpdmVcIjogaXNBY3RpdmVcblx0XHR9O1xuXHR9O1xuXHRyZXR1cm4gdHlwZTtcbn0pXG5cbi5mYWN0b3J5KCdTZXNzaW9uQm9va2luZycsIGZ1bmN0aW9uKCkge1xuXHR2YXIgc2Vzc2lvbkJvb2tpbmcgPSB7fTtcblx0c2Vzc2lvbkJvb2tpbmcuY3JlYXRlID0gZnVuY3Rpb24oc2Vzc2lvbklkLCBib29raW5nSWQsIHN0dWRlbnRJZCwgdXNlcklkLCBpc0NhbmNlbGVkLCBhc3Npc3RhbmNlLCByZWFzb24sIGF0dGVuZGVkLCB3YWl0aW5nSWQsIGlzR3JvdXAsIG51bVBlb3BsZSwgbGVjdHVyZXJDb21tZW50LCBsZWFybmluZ0lzc3Vlc0lkLCBpc0xvY2tlZCwgYXNzaWduVHlwZSwgYXNzaWduVHlwZU90aGVyLCBzdWJqZWN0LCBhcHBvaW50bWVudHMsIGFwcG9pbnRtZW50c090aGVyLCBhc3Npc3RhbmNlVGV4dCwgYXJjaGl2ZWQpIHtcblx0XHRyZXR1cm4ge1xuXHRcdFx0XCJzZXNzaW9uSWRcIjogc2Vzc2lvbklkLCBcblx0XHRcdFwiYm9va2luZ0lkXCI6IGJvb2tpbmdJZCwgXG5cdFx0XHRcInN0dWRlbnRJZFwiOiBzdHVkZW50SWQsIFxuXHRcdFx0XCJ1c2VySWRcIjogdXNlcklkLCBcblx0XHRcdFwiaXNDYW5jZWxlZFwiOiBpc0NhbmNlbGVkLCBcblx0XHRcdFwiYXNzaXN0YW5jZVwiOiBhc3Npc3RhbmNlLCBcblx0XHRcdFwicmVhc29uXCI6IHJlYXNvbiwgXG5cdFx0XHRcImF0dGVuZGVkXCI6IGF0dGVuZGVkLCBcblx0XHRcdFwid2FpdGluZ0lkXCI6IHdhaXRpbmdJZCwgXG5cdFx0XHRcImlzR3JvdXBcIjogaXNHcm91cCwgXG5cdFx0XHRcIm51bVBlb3BsZVwiOiBudW1QZW9wbGUsIFxuXHRcdFx0XCJsZWN0dXJlckNvbW1lbnRcIjogbGVjdHVyZXJDb21tZW50LCBcblx0XHRcdFwibGVhcm5pbmdJc3N1ZXNJZFwiOiBsZWFybmluZ0lzc3Vlc0lkLCBcblx0XHRcdFwiaXNMb2NrZWRcIjogaXNMb2NrZWQsIFxuXHRcdFx0XCJhc3NpZ25UeXBlXCI6IGFzc2lnblR5cGUsIFxuXHRcdFx0XCJhc3NpZ25UeXBlT3RoZXJcIjogYXNzaWduVHlwZU90aGVyLCBcblx0XHRcdFwic3ViamVjdFwiOiBzdWJqZWN0LCBcblx0XHRcdFwiYXBwb2ludG1lbnRzXCI6IGFwcG9pbnRtZW50cywgXG5cdFx0XHRcImFwcG9pbnRtZW50c090aGVyXCI6IGFwcG9pbnRtZW50c090aGVyLCBcblx0XHRcdFwiYXNzaXN0YW5jZVRleHRcIjogYXNzaXN0YW5jZVRleHQsIFxuXHRcdFx0XCJhcmNoaXZlZFwiOiBhcmNoaXZlZFxuXHRcdH07XG5cdH07XG5cdHJldHVybiBzZXNzaW9uQm9va2luZztcbn0pXG5cbi5mYWN0b3J5KCdXYWl0aW5nJywgZnVuY3Rpb24oKSB7XG5cdHZhciB3YWl0ID0ge307XG5cdHdhaXQuY3JlYXRlID0gZnVuY3Rpb24od2FpdGluZ0lkLCBzdHVkZW50SWQsIGJvb2tpbmdJZCwgd2FpdGluZ0xpc3RJZCkge1xuXHRcdHJldHVybiB7XG5cdFx0XHRcIndhaXRpbmdJZFwiOiB3YWl0aW5nSWQsXG5cdFx0XHRcInN0dWRlbnRJZFwiOiBzdHVkZW50SWQsXG5cdFx0XHRcImJvb2tpbmdJZFwiOiBib29raW5nSWQsXG5cdFx0XHRcIndhaXRpbmdMaXN0XCI6IHdhaXRpbmdMaXN0SWRcblx0XHR9O1xuXHR9O1xuXHRyZXR1cm4gd2FpdDtcbn0pXG5cbi5mYWN0b3J5KCdXYWl0aW5nTGlzdCcsIGZ1bmN0aW9uKCkgeyBcblx0dmFyIHdhaXRpbmdMaXN0ID0ge307XG5cdHdhaXRpbmdMaXN0LmNyZWF0ZSA9IGZ1bmN0aW9uICh3YWl0aW5nTGlzdElkLCB3b3Jrc2hvcElkLCBudW1iZXJJbkxpc3QpIHtcblx0XHRyZXR1cm4ge1xuXHRcdFx0XCJ3YWl0aW5nTGlzdElkXCI6IHdhaXRpbmdMaXN0SWQsXG5cdFx0XHRcIndvcmtzaG9wSWRcIjogd29ya3Nob3BJZCxcblx0XHRcdFwibnVtYmVySW5MaXN0XCI6IG51bWJlckluTGlzdFxuXHRcdH07XG5cdH07XG5cdHJldHVybiB3YWl0aW5nTGlzdDtcbn0pXG5cbi5mYWN0b3J5KCdOb3RpZmljYXRpb24nLCBmdW5jdGlvbigpIHtcblx0dmFyIG5vdGlmaWNhdGlvbiA9IHt9O1xuXHRub3RpZmljYXRpb24uY3JlYXRlID0gZnVuY3Rpb24obm90aWZpY2F0aW9uSWQsIHN0dWRlbnRJZCwgd29ya3Nob3BJZCwgbm90aWZ5VGltZSwgaG91cnNBaGVhZCwgbm90aWZpY2F0aW9uVHlwZUlkKSB7XG5cdFx0cmV0dXJuIHtcblx0XHRcdFwibm90aWZpY2F0aW9uSWRcIjogbm90aWZpY2F0aW9uSWQsXG5cdFx0XHRcInN0dWRlbnRJZFwiOiBzdHVkZW50SWQsXG5cdFx0XHRcIndvcmtzaG9wSWRcIjogd29ya3Nob3BJZCxcblx0XHRcdFwibm90aWZ5VGltZVwiOiBub3RpZnlUaW1lLFxuXHRcdFx0XCJob3Vyc0FoZWFkXCI6IGhvdXJzQWhlYWQsXG5cdFx0XHRcIm5vdGlmaWNhdGlvblR5cGVJZFwiOiBub3RpZmljYXRpb25UeXBlSWQsXG5cdFx0fTtcblx0fTtcdFxuXHRyZXR1cm4gbm90aWZpY2F0aW9uO1xufSlcblxuLmZhY3RvcnkoJ05vdGlmaWNhdGlvblR5cGUnLCBmdW5jdGlvbigpIHtcblx0dmFyIG5vdGlmaWNhdGlvblR5cGUgPSB7fTtcblx0bm90aWZpY2F0aW9uVHlwZS5jcmVhdGUgPSBmdW5jdGlvbihub3RpZmljYXRpb25UeXBlSWQsIGFiYk5hbWUsIGZ1bGxOYW1lKXtcblx0XHRyZXR1cm4ge1xuXHRcdFx0XCJub3RpZmljYXRpb25UeXBlSWRcIjogbm90aWZpY2F0aW9uVHlwZUlkLFxuXHRcdFx0XCJhYmJOYW1lXCI6IGFiYk5hbWUsXG5cdFx0XHRcImZ1bGxOYW1lXCI6IGZ1bGxOYW1lXG5cdFx0fTtcblx0fTtcblx0cmV0dXJuIG5vdGlmaWNhdGlvblR5cGU7XG59KSIsIid1c2Ugc3RyaWN0JztcblxuYW5ndWxhci5tb2R1bGUoJ3V0c0hlbHBzLmF1dGhzJywgWyduZ1JvdXRlJywgJ2hlbHBzUmVzdGZ1bFNlcnZpY2VzJywgJ3V0c0hlbHBzLmNvbnN0YW50cyddKVxuLy8gVGhlc2UgY29uc3RhbnRzIGNhbiBiZSBpbmplY3RlZCB2aWEgSGVscHNSZXN0ZnVsU2VydmljZXNcbi5mYWN0b3J5KCdBdXRoU2VydmljZScsWyckaHR0cCcsICdTZXNzaW9uJywgJyRxJywgZnVuY3Rpb24gKCRodHRwLCBTZXNzaW9uLCAkcSkge1xuXHR2YXIgYXV0aFNlcnZpY2UgPSB7fTtcblx0YXV0aFNlcnZpY2UubG9naW5GYWtlID0gZnVuY3Rpb24gKGNyZWRlbnRpYWxzKXtcblx0XHRyZXR1cm4gJHEoZnVuY3Rpb24ocmVzb2x2ZSwgcmVqZWN0KSB7XG5cdFx0XHRzZXRUaW1lb3V0KGZ1bmN0aW9uKCkge1xuXHRcdFx0XHRpZiAoY3JlZGVudGlhbHMudXNlcm5hbWUgPT09ICdtYnVzYnknKSB7XG5cdFx0XHRcdFx0cmVqZWN0KFwiVXNlciBpcyB1bmF1dGhlbnRpY2F0ZWRcIik7XG5cdFx0XHRcdH1cblx0XHRcdFx0ZWxzZSB7XG5cdFx0XHRcdFx0U2Vzc2lvbi5jcmVhdGUoJzEnLCAxMTg5OTg1OSwgY3JlZGVudGlhbHMudXNlcm5hbWUsICdVc2VyJyk7XG5cdFx0XHRcdFx0cmVzb2x2ZShjcmVkZW50aWFscy51c2VybmFtZSk7XG5cdFx0XHRcdH1cblx0XHRcdH0sIDEwMDApO1xuXHRcdH0pO1xuXHR9XG5cdGF1dGhTZXJ2aWNlLmxvZ2luID0gZnVuY3Rpb24gKGNyZWRlbnRpYWxzKSB7XG5cdFx0Ly8gdGhpcyB3aWxsIHByb2JhYmx5IG5lZWQgdG8gYmUgcmV3cml0dGVuIHdoZW4gcmVhbCBsb2dpbiBmdW5jdGlvbmFsaXR5IFxuXHRcdC8vIGlzIGltcGxlbWVudGVkXG5cdFx0cmV0dXJuICRodHRwLnBvc3QoJy8nLCBjcmVkZW50aWFscylcblx0XHQudGhlbihmdW5jdGlvbiAocmVzKSB7IFxuXHRcdFx0U2Vzc2lvbi5jcmVhdGUocmVzLmRhdGEuaWQsIHJlcy5kYXRhLnVzZXIuaWQsXG5cdFx0XHRcdHJlcy5kYXRhLnVzZXIucm9sZSk7XG5cdFx0XHRyZXR1cm4gcmVzLmRhdGEudXNlcjtcblx0XHR9KTtcblx0fTtcblx0XG5cdGF1dGhTZXJ2aWNlLmlzQXV0aGVudGljYXRlZCA9IGZ1bmN0aW9uKCkge1xuXHRcdHJldHVybiAhIVNlc3Npb24udXNlcklkO1xuXHR9XG5cdFxuXHRhdXRoU2VydmljZS5pc0F1dGhvcml6ZWQgPSBmdW5jdGlvbiAoYXV0aG9yaXplZFJvbGVzKSB7XG5cdFx0aWYgKCFhbmd1bGFyLmlzQXJyYXkoYXV0aG9yaXplZFJvbGVzKSkge1xuXHRcdFx0YXV0aG9yaXplZFJvbGVzID0gW2F1dGhvcml6ZWRSb2xlc107XG5cdFx0fVxuXHRcdHJldHVybiAoYXV0aFNlcnZpY2UuaXNBdXRoZW50aWNhdGVkKCkgJiYgXG5cdFx0XHRhdXRob3JpemVkUm9sZXMuaW5kZXhPZihTZXNzaW9uLnVzZXJSb2xlKSAhPT0gLTEpO1xuXHR9O1xuXHRcblx0YXV0aFNlcnZpY2UubG9nb3V0ID0gZnVuY3Rpb24oKSB7XG5cdFx0Ly9UaGlzIGlzIHlldCB0byBiZSBmaWxsZWQgaW5cblx0XHRTZXNzaW9uLmRlc3Ryb3koKTtcblx0fVxuXG5cdGF1dGhTZXJ2aWNlLmxvZ291dEZha2UgPSBmdW5jdGlvbigpIHtcblx0XHRTZXNzaW9uLmRlc3Ryb3koKTtcblx0XHRyZXR1cm4gJHEoZnVuY3Rpb24ocmVzb2x2ZSwgcmVqZWN0KSB7XG5cdFx0XHRzZXRUaW1lb3V0KGZ1bmN0aW9uKCkge1xuXHRcdFx0XHRpZiAodHJ1ZSkge3JldHVybiByZXNvbHZlKCk7fVxuXHRcdFx0XHRlbHNlIHtyZXR1cm4gcmVqZWN0KCk7fVxuXHRcdFx0fSlcblx0XHR9KTtcblx0fVxuXG5cdHJldHVybiBhdXRoU2VydmljZTtcbn1dKVxuLy9UaGVyZSB1c2VkIHRvIGJlIGEgc2VydmljZSBpbiBoZXJlIGJ1dCBpdCBzaG91bGQgYmUgaW5qZWN0ZWQgZnJvbSB0aGUgcmVzdGZ1bCBcbi8vc2VydmljZXNcbi5mYWN0b3J5KCdBdXRoSW50ZXJjZXB0b3InLCBbJyRyb290U2NvcGUnLCAnJHEnLCAnQVVUSF9FVkVOVFMnLCBmdW5jdGlvbiAoJHJvb3RTY29wZSwgJHEsIEFVVEhfRVZFTlRTKXtcblx0cmV0dXJuIHtcblx0XHRyZXNwb25zZUVycm9yOiBmdW5jdGlvbiAocmVzcG9uc2UpIHtcblx0XHRcdCRyb290U2NvcGUuJGJyb2FkY2FzdCh7XG5cdFx0XHRcdDQwMTogQVVUSF9FVkVOVFMubm90QXV0aGVudGljYXRlZCxcblx0XHRcdFx0NDAzOiBBVVRIX0VWRU5UUy5ub3RBdXRob3JpemVkLFxuXHRcdFx0XHQ0MTk6IEFVVEhfRVZFTlRTLnNlc3Npb25UaW1lb3V0LFxuXHRcdFx0XHQ0NDA6IEFVVEhfRVZFTlRTLnNlc3Npb25UaW1lb3V0XG5cdFx0XHR9W3Jlc3BvbnNlLnN0YXR1c10sIHJlc3BvbnNlKTtcblx0XHRcdHJldHVybiAkcS5yZWplY3QocmVzcG9uc2UpO1xuXHRcdH1cblx0fVxufV0pOyIsIid1c2Ugc3RyaWN0JztcblxuYW5ndWxhci5tb2R1bGUoJ3V0c0hlbHBzLmV4YW1wbGUnLCBbJ25nUm91dGUnXSlcblxuLmNvbmZpZyhbJyRyb3V0ZVByb3ZpZGVyJywgZnVuY3Rpb24oJHJvdXRlUHJvdmlkZXIpIHtcblx0JHJvdXRlUHJvdmlkZXIud2hlbignL2V4YW1wbGUnLCB7XG5cdFx0dGVtcGxhdGVVcmw6ICd2aWV3cy9leGFtcGxlVmlldy5odG1sJyxcblx0XHRjb250cm9sbGVyOiAnZXhhbXBsZUN0cmwnXG5cdH0pO1xufV0pXG5cbi5jb250cm9sbGVyKCdleGFtcGxlQ3RybCcsIFsnJHNjb3BlJywgJ0FsZXJ0QmFubmVyJywgZnVuY3Rpb24oJHNjb3BlLCBBbGVydEJhbm5lcikge1xuXHQkc2NvcGUuZ2xvYmFscy5wYWdlVGl0bGUgPSBcIkV4YW1wbGUgVmlld1wiO1xufV0pOyIsIid1c2Ugc3RyaWN0JztcblxuYW5ndWxhci5tb2R1bGUoJ3V0c0hlbHBzLmxvZ2luJywgWyduZ1JvdXRlJ10pXG5cbi5jb25maWcoWyckcm91dGVQcm92aWRlcicsIGZ1bmN0aW9uKCRyb3V0ZVByb3ZpZGVyKSB7XG5cdCRyb3V0ZVByb3ZpZGVyLndoZW4oJy9sb2dpbicsIHtcblx0XHR0ZW1wbGF0ZVVybDogJ3ZpZXdzL2xvZ2luVmlldy5odG1sJyxcblx0XHRjb250cm9sbGVyOiAnbG9naW5DdHJsJ1xuXHR9KTtcbn1dKVxuLmNvbnRyb2xsZXIoJ2xvZ2luQ3RybCcsIFsnJHNjb3BlJywgJyRyb290U2NvcGUnLCAnQVVUSF9FVkVOVFMnLCAnQXV0aFNlcnZpY2UnLCBcblx0ZnVuY3Rpb24oJHNjb3BlLCAkcm9vdFNjb3BlLCBBVVRIX0VWRU5UUywgQXV0aFNlcnZpY2UpIHtcblx0XHQkc2NvcGUuY3JlZGVudGlhbHMgPSB7XG5cdFx0XHR1c2VybmFtZTogJycsXG5cdFx0XHRwYXNzd29yZDogJydcblx0XHR9O1xuXHRcdCRzY29wZS5sb2dpbkZhaWxlZCA9IGZhbHNlO1xuXHRcdCRzY29wZS5sb2dpbiA9IGZ1bmN0aW9uIChjcmVkZW50aWFscykge1xuXHRcdFx0QXV0aFNlcnZpY2UubG9naW5GYWtlKGNyZWRlbnRpYWxzKS50aGVuKGZ1bmN0aW9uICh1c2VyKSB7XG5cdFx0XHRcdCRyb290U2NvcGUuJGJyb2FkY2FzdChBVVRIX0VWRU5UUy5sb2dpblN1Y2Nlc3MpO1xuXHRcdFx0XHQkc2NvcGUuc2V0Q3VycmVudFVzZXIodXNlcik7XG5cdFx0XHR9LCBmdW5jdGlvbiAoZXJyKSB7XG5cdFx0XHRcdCRzY29wZS5sb2dpbkZhaWxlZCA9IHRydWU7XG5cdFx0XHRcdCRyb290U2NvcGUuJGJyb2FkY2FzdChBVVRIX0VWRU5UUy5sb2dpbkZhaWxlZCk7XG5cdFx0XHR9KTtcblx0XHR9O1xuXHR9XSk7IiwiJ3VzZSBzdHJpY3QnO1xuXG5hbmd1bGFyLm1vZHVsZSgndXRzSGVscHMuVXBjb21pbmdBY3Rpdml0aWVzJywgWyd1dHNIZWxwcy5kaXJlY3RpdmVzJywgJ2hlbHBzUmVzdGZ1bFNlcnZpY2VzJywgJ25nUm91dGUnLCdpbmZpbml0ZS1zY3JvbGwnXSlcbi5jb25maWcoWyckcm91dGVQcm92aWRlcicsIGZ1bmN0aW9uKCRyb3V0ZVByb3ZpZGVyKXtcblx0JHJvdXRlUHJvdmlkZXIud2hlbignL3VwY29taW5nQWN0aXZpdGllcycsIHtcblx0XHR0ZW1wbGF0ZVVybDogJ3ZpZXdzL3VwY29taW5nQWN0aXZpdGllc1ZpZXcuaHRtbCcsXG5cdFx0Y29udHJvbGxlcjogJ1VwY29taW5nQWN0aXZpdGllc0N0cmwnXG5cdH0pXG59XSlcbi5jb250cm9sbGVyKCdVcGNvbWluZ0FjdGl2aXRpZXNDdHJsJywgWyckc2NvcGUnLCAnVXBjb21pbmdBY3Rpdml0aWVzTW9kZWwnLCAnU2Vzc2lvbicsICdBbGVydEJhbm5lcicsIGZ1bmN0aW9uKCRzY29wZSwgVXBjb21pbmdBY3Rpdml0aWVzTW9kZWwsIFNlc3Npb24sIEFsZXJ0QmFubmVyKXtcblx0JHNjb3BlLmdsb2JhbHMucGFnZVRpdGxlID0gXCJVcGNvbWluZyBBY3Rpdml0aWVzXCI7XG5cdCRzY29wZS5VcGNvbWluZ0FjdGl2aXRpZXNNb2RlbCA9IFVwY29taW5nQWN0aXZpdGllc01vZGVsO1xuXHQkc2NvcGUuc2VsZWN0ZWRXb3Jrc2hvcCA9IG51bGw7XG5cdCRzY29wZS5jbGlja2VkT25BbkFjdGl2aXR5ID0gZnVuY3Rpb24oYWN0aXZpdHkpIHtcblx0XHR2YXIgYWN0aXZpdHlBc1N0cmluZyA9IEpTT04uc3RyaW5naWZ5KGFjdGl2aXR5KTtcblx0XHRmb3IgKHZhciB3b3Jrc2hvcElkIGluICRzY29wZS5VcGNvbWluZ0FjdGl2aXRpZXNNb2RlbC5hY3Rpdml0aWVzKSB7XG5cdFx0XHRpZiAoYWN0aXZpdHlBc1N0cmluZyA9PT0gSlNPTi5zdHJpbmdpZnkoJHNjb3BlLlVwY29taW5nQWN0aXZpdGllc01vZGVsLmFjdGl2aXRpZXNbd29ya3Nob3BJZF0pKSB7XG5cdFx0XHRcdGFjdGl2aXR5LmlzRXhwYW5kZWQ9IWFjdGl2aXR5LmlzRXhwYW5kZWQ7XG5cdFx0XHR9XG5cdFx0XHRlbHNlIHtcblx0XHRcdFx0JHNjb3BlLlVwY29taW5nQWN0aXZpdGllc01vZGVsLmFjdGl2aXRpZXNbd29ya3Nob3BJZF0uaXNFeHBhbmRlZCA9IGZhbHNlO1xuXHRcdFx0fVxuXHRcdH1cblx0fTtcblxuXHQkc2NvcGUub25WaWV3TW9yZSA9IGZ1bmN0aW9uKCl7XG4gICAgICAgICRzY29wZS5VcGNvbWluZ0FjdGl2aXRpZXNNb2RlbC5nZXRNb3JlQWN0aXZpdGllcygpO1xuXHR9O1xuXG5cdCRzY29wZS5ib29rV29ya3Nob3AgPSBmdW5jdGlvbih3b3Jrc2hvcCkge1xuXHRcdC8vIFByZXBhcmVcblx0XHQkc2NvcGUuc2VsZWN0ZWRXb3Jrc2hvcCA9IHdvcmtzaG9wO1xuXHRcdC8vIE1ha2UgaXQgYXBwZWFyXG5cdFx0JHNjb3BlLiRicm9hZGNhc3QoXCJTSE9XX0NPTkZJUk1fREVOWVwiKTtcdFx0IFxuXHR9O1xuXG5cdCRzY29wZS5jb25maXJtV29ya3Nob3AgPSBmdW5jdGlvbihjb25maXJtYXRpb24pIHtcblx0XHRpZiAoY29uZmlybWF0aW9uKSB7XG5cdFx0XHRVcGNvbWluZ0FjdGl2aXRpZXNNb2RlbC5ib29rV29ya3Nob3AoJHNjb3BlLnNlbGVjdGVkV29ya3Nob3AuV29ya3Nob3BJZCwgU2Vzc2lvbi51c2VySWQpXG5cdFx0XHQudGhlbihmdW5jdGlvbihzdWNjZXNzKSB7XG5cdFx0XHRcdGlmIChzdWNjZXNzKSB7XG5cdFx0XHRcdFx0Ly8gVHJpZ2dlciBiYW5uZXIgdG8gc2F5IHN1Y2Nlc3NmdWwgYm9va2luZyBtYWRlXG5cdFx0XHRcdFx0QWxlcnRCYW5uZXIucHVibGlzaCh7XG5cdFx0XHRcdFx0XHR0eXBlOiBcInN1Y2Nlc3NcIixcblx0XHRcdFx0XHRcdG1lc3NhZ2U6IFwiU3VjY2Vzc2Z1bGx5IG1hZGUgYSBib29raW5nLlwiLFxuXHRcdFx0XHRcdFx0dGltZUNvbGxhcHNlOiAzMDAwXG5cdFx0XHRcdFx0fSk7XG5cdFx0XHRcdH1cblx0XHRcdFx0ZWxzZSB7XG5cdFx0XHRcdFx0Ly8gRG9uJ3QgdHJpZ2dlciBhIGJhbm5lclxuXHRcdFx0XHR9XG5cdFx0XHR9KTtcblx0XHR9XG5cdFx0JHNjb3BlLnNlbGVjdGVkV29ya3Nob3AgPSBudWxsO1xuXHR9XG5cbiAgICAkc2NvcGUuYWRkV2FpdGxpc3QgPSBmdW5jdGlvbih3b3Jrc2hvcCl7XG4gICAgICAgIC8vIFByZXBhcmVcbiAgICAgICAgJHNjb3BlLnNlbGVjdGVkV29ya3Nob3AgPSB3b3Jrc2hvcDtcbiAgICAgICAgLy8gU2hvdyBXYWl0bGlzdCBDT05GSVJNX0RFTllcbiAgICAgICAgLy8kc2NvcGUuJGJyb2FkY2FzdChcIlNIT1dfV0FJVExJU1RfQ09ORklSTV9ERU5ZXCIpO1xuICAgIH07XG5cbn1dKTsiLCJhbmd1bGFyLm1vZHVsZSgndXRzSGVscHMuVXNlck1lc3NhZ2luZ1NlcnZpY2UnLCBbJ3V0c0hlbHBzLmNvbnN0YW50cycsICdhbmd1bGFyLWFsZXJ0LWJhbm5lciddKVxuLnNlcnZpY2UoJ1VzZXJNZXNzYWdpbmdTZXJ2aWNlJywgWydBbGVydEJhbm5lcicsICckcm9vdFNjb3BlJywgJ0VSUl9CUk9BRENBU1RTJywgXCJFcnJvclJlZ2lzdHJ5XCIsIGZ1bmN0aW9uKEFsZXJ0QmFubmVyLCAkcm9vdFNjb3BlLCBFUlJfQlJPQURDQVNUUywgRXJyb3JSZWdpc3RyeSl7XG5cdHZhciBzY29wZSA9IHRoaXM7XG5cdHRoaXMuZXJyb3JBbGVydEJhbm5lciA9IGZ1bmN0aW9uKG1lc3NhZ2UpIHtcblx0XHRBbGVydEJhbm5lci5wdWJsaXNoKHtcblx0XHRcdHR5cGU6IFwiZXJyb3JcIixcblx0XHRcdG1lc3NhZ2U6IG1lc3NhZ2UsXG5cdFx0XHR0aW1lQ29sbGFwc2U6IDMwMDBcblx0XHR9KTtcblx0fVxuXHQkcm9vdFNjb3BlLiRvbihFUlJfQlJPQURDQVNUUy5BUElfRVJST1IsIGZ1bmN0aW9uKGUsIGVycl9tc2cpIHtcblx0XHRjb25zb2xlLmxvZyhcIkFMRVJUIEJBTk5FUiBTSE9VTEQgSEFWRSBGSVJFRFwiKTtcblx0XHR2YXIgZnJpZW5kbHlFcnJvciA9IEVycm9yUmVnaXN0cnkucmV0cmlldmVGcmllbmRseUVycm9yKGVycl9tc2cpO1xuXHRcdHNjb3BlLmVycm9yQWxlcnRCYW5uZXIoZnJpZW5kbHlFcnJvcik7XG5cdH0pO1xuXHRcbn1dKVxuLnNlcnZpY2UoJ0Vycm9yUmVnaXN0cnknLCBbZnVuY3Rpb24oKSB7XG5cdHRoaXMuZXJyb3JEaWN0aW9uYXJ5ID0ge1xuXHRcdFwiRXJyb3IgZW5jb3VudGVyZWQgd2hpbHN0IHRyeWluZyB0byBjcmVhdGUgeW91ciBib29raW5nLiBQbGVhc2UgdHJ5IGFnYWluIGFuZCBpZiBpc3N1ZXMgcGVyc2lzdCBjb250YWN0IFVUUyBIRUxQUy5cIjpcIkNvdWxkbid0IGNyZWF0ZSBib29raW5nLlwiLFxuXHRcdFwiRXJyb3IgY3JlYXRpbmcgd29ya3Nob3AgYm9va2luZzogQm9va2luZyBhbHJlYWR5IGV4aXN0cy5cIjpcIkJvb2tpbmcgYWxyZWFkeSBleGlzdHMuXCJcblx0fVxuXHR0aGlzLnJldHJpZXZlRnJpZW5kbHlFcnJvciA9IGZ1bmN0aW9uKG1lc3NhZ2UpIHtcblx0XHRpZiAobWVzc2FnZSBpbiB0aGlzLmVycm9yRGljdGlvbmFyeSkge1xuXHRcdFx0cmV0dXJuIHRoaXMuZXJyb3JEaWN0aW9uYXJ5W21lc3NhZ2VdO1xuXHRcdH1cblx0XHRlbHNlIHtcblx0XHRcdHJldHVybiBcIlVua25vd24gZXJyb3IuIENvbnRhY3QgVVRTIElURC5cIjtcblx0XHR9XG5cdH1cbn1dKSIsImFuZ3VsYXIubW9kdWxlKCd1dHNIZWxwcy5jb25zdGFudHMnLCBbXSlcbi5jb25zdGFudCgnRVJSX0JST0FEQ0FTVFMnLCB7XG5cdFwiQVBJX0VSUk9SXCI6XCJBUElfRVJST1JcIlxufSlcbi5jb25zdGFudCgnQVVUSF9FVkVOVFMnLCB7XG5cdGxvZ2luU3VjY2VzczogJ2F1dGgtbG9naW4tc3VjZXNzJyxcblx0bG9naW5GYWlsZWQ6ICdhdXRoLWxvZ2luLWZhaWxlZCcsXG5cdGxvZ291dFN1Y2Nlc3M6ICdhdXRoLWxvZ291dC1zdWNjZXNzJyxcblx0c2Vzc2lvblRpbWVvdXQ6ICdhdXRoLXNlc3Npb24tdGltZW91dCcsXG5cdG5vdEF1dGhlbnRpY2F0ZWQ6ICdhdXRoLW5vdC1hdXRoZW50aWNhdGVkJyxcblx0bm90QXV0aG9yaXplZDogJ2F1dGgtbm90LWF1dGhvcml6ZWQnXG59KVxuLmNvbnN0YW50KCdVU0VSX1JPTEVTJywge1xuXHRhbGw6ICcqJyxcblx0YWRtaW46ICdhZG1pbicsXG5cdGVkaXRvcjogJ2VkaXRvcicsXG5cdGd1ZXN0OiAnZ3Vlc3QnLFxuXHR1c2VyOiAndXNlcidcbn0pXG4uY29uc3RhbnQoXCJoZWxwc19lbmRwb2ludF9jb25zdGFudHNcIiwge1xuXHRcIkVORFBPSU5UX1VSSVwiOlwiaHR0cDovL2hlbHBzaGVyZS5jbG91ZGFwcC5uZXQvYXBpXCIsXG5cdFwicG9ydFwiOlwiODBcIixcblx0XCJBUFBfS0VZXCI6JzEyMzQ1NicsXG5cdFwiQUNUSVZJVElFU19VUklcIjpcIi93b3Jrc2hvcFwiLFxuXHRcIlNFQVJDSF9VUklcIjpcIi9zZWFyY2hcIixcblx0XCJCT09LX1NFU1NJT05fVVJJXCI6XCIvd29ya3Nob3AvYm9va2luZy9jcmVhdGVcIlxufSk7Il0sInNvdXJjZVJvb3QiOiIvc291cmNlLyJ9
